var Wb=Object.defineProperty;var Hb=(e,t,n)=>t in e?Wb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ur=(e,t,n)=>(Hb(e,typeof t!="symbol"?t+"":t,n),n);function vg(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Jn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yg={exports:{}},nc={},gg={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),Vb=Symbol.for("react.portal"),Qb=Symbol.for("react.fragment"),Yb=Symbol.for("react.strict_mode"),Gb=Symbol.for("react.profiler"),Jb=Symbol.for("react.provider"),Xb=Symbol.for("react.context"),Zb=Symbol.for("react.forward_ref"),eS=Symbol.for("react.suspense"),tS=Symbol.for("react.memo"),nS=Symbol.for("react.lazy"),Nm=Symbol.iterator;function rS(e){return e===null||typeof e!="object"?null:(e=Nm&&e[Nm]||e["@@iterator"],typeof e=="function"?e:null)}var wg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_g=Object.assign,bg={};function Oa(e,t,n){this.props=e,this.context=t,this.refs=bg,this.updater=n||wg}Oa.prototype.isReactComponent={};Oa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Oa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sg(){}Sg.prototype=Oa.prototype;function Ih(e,t,n){this.props=e,this.context=t,this.refs=bg,this.updater=n||wg}var Ah=Ih.prototype=new Sg;Ah.constructor=Ih;_g(Ah,Oa.prototype);Ah.isPureReactComponent=!0;var jm=Array.isArray,Eg=Object.prototype.hasOwnProperty,Lh={current:null},Cg={key:!0,ref:!0,__self:!0,__source:!0};function xg(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Eg.call(t,r)&&!Cg.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),d=0;d<s;d++)u[d]=arguments[d+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Zs,type:e,key:o,ref:a,props:i,_owner:Lh.current}}function iS(e,t){return{$$typeof:Zs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Mh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zs}function oS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fm=/\/+/g;function af(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oS(""+e.key):t.toString(36)}function Zu(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Zs:case Vb:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+af(a,0):r,jm(i)?(n="",e!=null&&(n=e.replace(Fm,"$&/")+"/"),Zu(i,t,n,"",function(d){return d})):i!=null&&(Mh(i)&&(i=iS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Fm,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",jm(e))for(var s=0;s<e.length;s++){o=e[s];var u=r+af(o,s);a+=Zu(o,t,n,u,i)}else if(u=rS(e),typeof u=="function")for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=r+af(o,s++),a+=Zu(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Au(e,t,n){if(e==null)return e;var r=[],i=0;return Zu(e,r,"","",function(o){return t.call(n,o,i++)}),r}function aS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Sn={current:null},el={transition:null},sS={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:el,ReactCurrentOwner:Lh};rt.Children={map:Au,forEach:function(e,t,n){Au(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Au(e,function(){t++}),t},toArray:function(e){return Au(e,function(t){return t})||[]},only:function(e){if(!Mh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};rt.Component=Oa;rt.Fragment=Qb;rt.Profiler=Gb;rt.PureComponent=Ih;rt.StrictMode=Yb;rt.Suspense=eS;rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sS;rt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=_g({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Lh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)Eg.call(t,u)&&!Cg.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var d=0;d<u;d++)s[d]=arguments[d+2];r.children=s}return{$$typeof:Zs,type:e.type,key:i,ref:o,props:r,_owner:a}};rt.createContext=function(e){return e={$$typeof:Xb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jb,_context:e},e.Consumer=e};rt.createElement=xg;rt.createFactory=function(e){var t=xg.bind(null,e);return t.type=e,t};rt.createRef=function(){return{current:null}};rt.forwardRef=function(e){return{$$typeof:Zb,render:e}};rt.isValidElement=Mh;rt.lazy=function(e){return{$$typeof:nS,_payload:{_status:-1,_result:e},_init:aS}};rt.memo=function(e,t){return{$$typeof:tS,type:e,compare:t===void 0?null:t}};rt.startTransition=function(e){var t=el.transition;el.transition={};try{e()}finally{el.transition=t}};rt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};rt.useCallback=function(e,t){return Sn.current.useCallback(e,t)};rt.useContext=function(e){return Sn.current.useContext(e)};rt.useDebugValue=function(){};rt.useDeferredValue=function(e){return Sn.current.useDeferredValue(e)};rt.useEffect=function(e,t){return Sn.current.useEffect(e,t)};rt.useId=function(){return Sn.current.useId()};rt.useImperativeHandle=function(e,t,n){return Sn.current.useImperativeHandle(e,t,n)};rt.useInsertionEffect=function(e,t){return Sn.current.useInsertionEffect(e,t)};rt.useLayoutEffect=function(e,t){return Sn.current.useLayoutEffect(e,t)};rt.useMemo=function(e,t){return Sn.current.useMemo(e,t)};rt.useReducer=function(e,t,n){return Sn.current.useReducer(e,t,n)};rt.useRef=function(e){return Sn.current.useRef(e)};rt.useState=function(e){return Sn.current.useState(e)};rt.useSyncExternalStore=function(e,t,n){return Sn.current.useSyncExternalStore(e,t,n)};rt.useTransition=function(){return Sn.current.useTransition()};rt.version="18.2.0";gg.exports=rt;var pe=gg.exports;const uS=tc(pe),lS=vg({__proto__:null,default:uS},[pe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cS=pe,fS=Symbol.for("react.element"),dS=Symbol.for("react.fragment"),hS=Object.prototype.hasOwnProperty,pS=cS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mS={key:!0,ref:!0,__self:!0,__source:!0};function kg(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)hS.call(t,r)&&!mS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:fS,type:e,key:o,ref:a,props:i,_owner:pS.current}}nc.Fragment=dS;nc.jsx=kg;nc.jsxs=kg;yg.exports=nc;var mt=yg.exports,ld={},Rg={exports:{}},qn={},Og={exports:{}},Pg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ce,se){var we=ce.length;ce.push(se);e:for(;0<we;){var Ne=we-1>>>1,Ze=ce[Ne];if(0<i(Ze,se))ce[Ne]=se,ce[we]=Ze,we=Ne;else break e}}function n(ce){return ce.length===0?null:ce[0]}function r(ce){if(ce.length===0)return null;var se=ce[0],we=ce.pop();if(we!==se){ce[0]=we;e:for(var Ne=0,Ze=ce.length,je=Ze>>>1;Ne<je;){var Le=2*(Ne+1)-1,it=ce[Le],ot=Le+1,Mt=ce[ot];if(0>i(it,we))ot<Ze&&0>i(Mt,it)?(ce[Ne]=Mt,ce[ot]=we,Ne=ot):(ce[Ne]=it,ce[Le]=we,Ne=Le);else if(ot<Ze&&0>i(Mt,we))ce[Ne]=Mt,ce[ot]=we,Ne=ot;else break e}}return se}function i(ce,se){var we=ce.sortIndex-se.sortIndex;return we!==0?we:ce.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var u=[],d=[],m=1,h=null,p=3,b=!1,g=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ce){for(var se=n(d);se!==null;){if(se.callback===null)r(d);else if(se.startTime<=ce)r(d),se.sortIndex=se.expirationTime,t(u,se);else break;se=n(d)}}function O(ce){if(S=!1,y(ce),!g)if(n(u)!==null)g=!0,Ce(T);else{var se=n(d);se!==null&&Ie(O,se.startTime-ce)}}function T(ce,se){g=!1,S&&(S=!1,E(L),L=-1),b=!0;var we=p;try{for(y(se),h=n(u);h!==null&&(!(h.expirationTime>se)||ce&&!F());){var Ne=h.callback;if(typeof Ne=="function"){h.callback=null,p=h.priorityLevel;var Ze=Ne(h.expirationTime<=se);se=e.unstable_now(),typeof Ze=="function"?h.callback=Ze:h===n(u)&&r(u),y(se)}else r(u);h=n(u)}if(h!==null)var je=!0;else{var Le=n(d);Le!==null&&Ie(O,Le.startTime-se),je=!1}return je}finally{h=null,p=we,b=!1}}var k=!1,P=null,L=-1,B=5,N=-1;function F(){return!(e.unstable_now()-N<B)}function Z(){if(P!==null){var ce=e.unstable_now();N=ce;var se=!0;try{se=P(!0,ce)}finally{se?ue():(k=!1,P=null)}}else k=!1}var ue;if(typeof x=="function")ue=function(){x(Z)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Re=Ee.port2;Ee.port1.onmessage=Z,ue=function(){Re.postMessage(null)}}else ue=function(){I(Z,0)};function Ce(ce){P=ce,k||(k=!0,ue())}function Ie(ce,se){L=I(function(){ce(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ce){ce.callback=null},e.unstable_continueExecution=function(){g||b||(g=!0,Ce(T))},e.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ce?Math.floor(1e3/ce):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(ce){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var we=p;p=se;try{return ce()}finally{p=we}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ce,se){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var we=p;p=ce;try{return se()}finally{p=we}},e.unstable_scheduleCallback=function(ce,se,we){var Ne=e.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ne+we:Ne):we=Ne,ce){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=we+Ze,ce={id:m++,callback:se,priorityLevel:ce,startTime:we,expirationTime:Ze,sortIndex:-1},we>Ne?(ce.sortIndex=we,t(d,ce),n(u)===null&&ce===n(d)&&(S?(E(L),L=-1):S=!0,Ie(O,we-Ne))):(ce.sortIndex=Ze,t(u,ce),g||b||(g=!0,Ce(T))),ce},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(ce){var se=p;return function(){var we=p;p=se;try{return ce.apply(this,arguments)}finally{p=we}}}})(Pg);Og.exports=Pg;var vS=Og.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=pe,Un=vS;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tg=new Set,Cs={};function Oo(e,t){pa(e,t),pa(e+"Capture",t)}function pa(e,t){for(Cs[e]=t,e=0;e<t.length;e++)Tg.add(t[e])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=Object.prototype.hasOwnProperty,yS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bm={},$m={};function gS(e){return cd.call($m,e)?!0:cd.call(Bm,e)?!1:yS.test(e)?$m[e]=!0:(Bm[e]=!0,!1)}function wS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _S(e,t,n,r){if(t===null||typeof t>"u"||wS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function En(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nn[e]=new En(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nn[t]=new En(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nn[e]=new En(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nn[e]=new En(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nn[e]=new En(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nn[e]=new En(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nn[e]=new En(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nn[e]=new En(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nn[e]=new En(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nh=/[\-:]([a-z])/g;function jh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nh,jh);nn[t]=new En(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nh,jh);nn[t]=new En(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nh,jh);nn[t]=new En(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nn[e]=new En(e,1,!1,e.toLowerCase(),null,!1,!1)});nn.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nn[e]=new En(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fh(e,t,n,r){var i=nn.hasOwnProperty(t)?nn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_S(t,n,i,r)&&(n=null),r||i===null?gS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var si=Dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),Ko=Symbol.for("react.portal"),Wo=Symbol.for("react.fragment"),Bh=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),Ig=Symbol.for("react.provider"),Ag=Symbol.for("react.context"),$h=Symbol.for("react.forward_ref"),dd=Symbol.for("react.suspense"),hd=Symbol.for("react.suspense_list"),Uh=Symbol.for("react.memo"),mi=Symbol.for("react.lazy"),Lg=Symbol.for("react.offscreen"),Um=Symbol.iterator;function Qa(e){return e===null||typeof e!="object"?null:(e=Um&&e[Um]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Object.assign,sf;function us(e){if(sf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sf=t&&t[1]||""}return`
`+sf+e}var uf=!1;function lf(e,t){if(!e||uf)return"";uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=s);break}}}finally{uf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?us(e):""}function bS(e){switch(e.tag){case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return e=lf(e.type,!1),e;case 11:return e=lf(e.type.render,!1),e;case 1:return e=lf(e.type,!0),e;default:return""}}function pd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wo:return"Fragment";case Ko:return"Portal";case fd:return"Profiler";case Bh:return"StrictMode";case dd:return"Suspense";case hd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ag:return(e.displayName||"Context")+".Consumer";case Ig:return(e._context.displayName||"Context")+".Provider";case $h:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Uh:return t=e.displayName||null,t!==null?t:pd(e.type)||"Memo";case mi:t=e._payload,e=e._init;try{return pd(e(t))}catch{}}return null}function SS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pd(t);case 8:return t===Bh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ES(e){var t=Mg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mu(e){e._valueTracker||(e._valueTracker=ES(e))}function Ng(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function md(e,t){var n=t.checked;return Pt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jg(e,t){t=t.checked,t!=null&&Fh(e,"checked",t,!1)}function vd(e,t){jg(e,t);var n=Mi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yd(e,t.type,n):t.hasOwnProperty("defaultValue")&&yd(e,t.type,Mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function yd(e,t,n){(t!=="number"||ml(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ls=Array.isArray;function ia(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function gd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return Pt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Km(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(ls(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mi(n)}}function Fg(e,t){var n=Mi(t.value),r=Mi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Wm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nu,$g=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nu=Nu||document.createElement("div"),Nu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CS=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(e){CS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ds[t]=ds[e]})});function Ug(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ds.hasOwnProperty(e)&&ds[e]?(""+t).trim():t+"px"}function zg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ug(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var xS=Pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _d(e,t){if(t){if(xS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function bd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sd=null;function zh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ed=null,oa=null,aa=null;function Hm(e){if(e=nu(e)){if(typeof Ed!="function")throw Error(he(280));var t=e.stateNode;t&&(t=sc(t),Ed(e.stateNode,e.type,t))}}function qg(e){oa?aa?aa.push(e):aa=[e]:oa=e}function Kg(){if(oa){var e=oa,t=aa;if(aa=oa=null,Hm(e),t)for(e=0;e<t.length;e++)Hm(t[e])}}function Wg(e,t){return e(t)}function Hg(){}var cf=!1;function Vg(e,t,n){if(cf)return e(t,n);cf=!0;try{return Wg(e,t,n)}finally{cf=!1,(oa!==null||aa!==null)&&(Hg(),Kg())}}function ks(e,t){var n=e.stateNode;if(n===null)return null;var r=sc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var Cd=!1;if(Jr)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){Cd=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{Cd=!1}function kS(e,t,n,r,i,o,a,s,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var hs=!1,vl=null,yl=!1,xd=null,RS={onError:function(e){hs=!0,vl=e}};function OS(e,t,n,r,i,o,a,s,u){hs=!1,vl=null,kS.apply(RS,arguments)}function PS(e,t,n,r,i,o,a,s,u){if(OS.apply(this,arguments),hs){if(hs){var d=vl;hs=!1,vl=null}else throw Error(he(198));yl||(yl=!0,xd=d)}}function Po(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vm(e){if(Po(e)!==e)throw Error(he(188))}function DS(e){var t=e.alternate;if(!t){if(t=Po(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Vm(i),e;if(o===r)return Vm(i),t;o=o.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function Yg(e){return e=DS(e),e!==null?Gg(e):null}function Gg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gg(e);if(t!==null)return t;e=e.sibling}return null}var Jg=Un.unstable_scheduleCallback,Qm=Un.unstable_cancelCallback,TS=Un.unstable_shouldYield,IS=Un.unstable_requestPaint,Ft=Un.unstable_now,AS=Un.unstable_getCurrentPriorityLevel,qh=Un.unstable_ImmediatePriority,Xg=Un.unstable_UserBlockingPriority,gl=Un.unstable_NormalPriority,LS=Un.unstable_LowPriority,Zg=Un.unstable_IdlePriority,rc=null,Lr=null;function MS(e){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(rc,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:FS,NS=Math.log,jS=Math.LN2;function FS(e){return e>>>=0,e===0?32:31-(NS(e)/jS|0)|0}var ju=64,Fu=4194304;function cs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=cs(s):(o&=a,o!==0&&(r=cs(o)))}else a=n&~i,a!==0?r=cs(a):o!==0&&(r=cs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_r(t),i=1<<n,r|=e[n],t&=~i;return r}function BS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $S(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-_r(o),s=1<<a,u=i[a];u===-1?(!(s&n)||s&r)&&(i[a]=BS(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}function kd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e0(){var e=ju;return ju<<=1,!(ju&4194240)&&(ju=64),e}function ff(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=n}function US(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_r(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Kh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_r(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ht=0;function t0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var n0,Wh,r0,i0,o0,Rd=!1,Bu=[],xi=null,ki=null,Ri=null,Rs=new Map,Os=new Map,gi=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ym(e,t){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":Rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(t.pointerId)}}function Ga(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=nu(t),t!==null&&Wh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function qS(e,t,n,r,i){switch(t){case"focusin":return xi=Ga(xi,e,t,n,r,i),!0;case"dragenter":return ki=Ga(ki,e,t,n,r,i),!0;case"mouseover":return Ri=Ga(Ri,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rs.set(o,Ga(Rs.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Os.set(o,Ga(Os.get(o)||null,e,t,n,r,i)),!0}return!1}function a0(e){var t=Zi(e.target);if(t!==null){var n=Po(t);if(n!==null){if(t=n.tag,t===13){if(t=Qg(n),t!==null){e.blockedOn=t,o0(e.priority,function(){r0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Od(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Sd=r,n.target.dispatchEvent(r),Sd=null}else return t=nu(n),t!==null&&Wh(t),e.blockedOn=n,!1;t.shift()}return!0}function Gm(e,t,n){tl(e)&&n.delete(t)}function KS(){Rd=!1,xi!==null&&tl(xi)&&(xi=null),ki!==null&&tl(ki)&&(ki=null),Ri!==null&&tl(Ri)&&(Ri=null),Rs.forEach(Gm),Os.forEach(Gm)}function Ja(e,t){e.blockedOn===t&&(e.blockedOn=null,Rd||(Rd=!0,Un.unstable_scheduleCallback(Un.unstable_NormalPriority,KS)))}function Ps(e){function t(i){return Ja(i,e)}if(0<Bu.length){Ja(Bu[0],e);for(var n=1;n<Bu.length;n++){var r=Bu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xi!==null&&Ja(xi,e),ki!==null&&Ja(ki,e),Ri!==null&&Ja(Ri,e),Rs.forEach(t),Os.forEach(t),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)a0(n),n.blockedOn===null&&gi.shift()}var sa=si.ReactCurrentBatchConfig,_l=!0;function WS(e,t,n,r){var i=ht,o=sa.transition;sa.transition=null;try{ht=1,Hh(e,t,n,r)}finally{ht=i,sa.transition=o}}function HS(e,t,n,r){var i=ht,o=sa.transition;sa.transition=null;try{ht=4,Hh(e,t,n,r)}finally{ht=i,sa.transition=o}}function Hh(e,t,n,r){if(_l){var i=Od(e,t,n,r);if(i===null)bf(e,t,r,bl,n),Ym(e,r);else if(qS(i,e,t,n,r))r.stopPropagation();else if(Ym(e,r),t&4&&-1<zS.indexOf(e)){for(;i!==null;){var o=nu(i);if(o!==null&&n0(o),o=Od(e,t,n,r),o===null&&bf(e,t,r,bl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else bf(e,t,r,null,n)}}var bl=null;function Od(e,t,n,r){if(bl=null,e=zh(r),e=Zi(e),e!==null)if(t=Po(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bl=e,null}function s0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AS()){case qh:return 1;case Xg:return 4;case gl:case LS:return 16;case Zg:return 536870912;default:return 16}default:return 16}}var _i=null,Vh=null,nl=null;function u0(){if(nl)return nl;var e,t=Vh,n=t.length,r,i="value"in _i?_i.value:_i.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return nl=i.slice(e,1<r?1-r:void 0)}function rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $u(){return!0}function Jm(){return!1}function Kn(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?$u:Jm,this.isPropagationStopped=Jm,this}return Pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),t}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qh=Kn(Pa),tu=Pt({},Pa,{view:0,detail:0}),VS=Kn(tu),df,hf,Xa,ic=Pt({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xa&&(Xa&&e.type==="mousemove"?(df=e.screenX-Xa.screenX,hf=e.screenY-Xa.screenY):hf=df=0,Xa=e),df)},movementY:function(e){return"movementY"in e?e.movementY:hf}}),Xm=Kn(ic),QS=Pt({},ic,{dataTransfer:0}),YS=Kn(QS),GS=Pt({},tu,{relatedTarget:0}),pf=Kn(GS),JS=Pt({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),XS=Kn(JS),ZS=Pt({},Pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eE=Kn(ZS),tE=Pt({},Pa,{data:0}),Zm=Kn(tE),nE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iE[e])?!!t[e]:!1}function Yh(){return oE}var aE=Pt({},tu,{key:function(e){if(e.key){var t=nE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yh,charCode:function(e){return e.type==="keypress"?rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sE=Kn(aE),uE=Pt({},ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ev=Kn(uE),lE=Pt({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yh}),cE=Kn(lE),fE=Pt({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),dE=Kn(fE),hE=Pt({},ic,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pE=Kn(hE),mE=[9,13,27,32],Gh=Jr&&"CompositionEvent"in window,ps=null;Jr&&"documentMode"in document&&(ps=document.documentMode);var vE=Jr&&"TextEvent"in window&&!ps,l0=Jr&&(!Gh||ps&&8<ps&&11>=ps),tv=" ",nv=!1;function c0(e,t){switch(e){case"keyup":return mE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function f0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ho=!1;function yE(e,t){switch(e){case"compositionend":return f0(t);case"keypress":return t.which!==32?null:(nv=!0,tv);case"textInput":return e=t.data,e===tv&&nv?null:e;default:return null}}function gE(e,t){if(Ho)return e==="compositionend"||!Gh&&c0(e,t)?(e=u0(),nl=Vh=_i=null,Ho=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return l0&&t.locale!=="ko"?null:t.data;default:return null}}var wE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wE[e.type]:t==="textarea"}function d0(e,t,n,r){qg(r),t=Sl(t,"onChange"),0<t.length&&(n=new Qh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ms=null,Ds=null;function _E(e){E0(e,0)}function oc(e){var t=Yo(e);if(Ng(t))return e}function bE(e,t){if(e==="change")return t}var h0=!1;if(Jr){var mf;if(Jr){var vf="oninput"in document;if(!vf){var iv=document.createElement("div");iv.setAttribute("oninput","return;"),vf=typeof iv.oninput=="function"}mf=vf}else mf=!1;h0=mf&&(!document.documentMode||9<document.documentMode)}function ov(){ms&&(ms.detachEvent("onpropertychange",p0),Ds=ms=null)}function p0(e){if(e.propertyName==="value"&&oc(Ds)){var t=[];d0(t,Ds,e,zh(e)),Vg(_E,t)}}function SE(e,t,n){e==="focusin"?(ov(),ms=t,Ds=n,ms.attachEvent("onpropertychange",p0)):e==="focusout"&&ov()}function EE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oc(Ds)}function CE(e,t){if(e==="click")return oc(t)}function xE(e,t){if(e==="input"||e==="change")return oc(t)}function kE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sr=typeof Object.is=="function"?Object.is:kE;function Ts(e,t){if(Sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cd.call(t,i)||!Sr(e[i],t[i]))return!1}return!0}function av(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sv(e,t){var n=av(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=av(n)}}function m0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?m0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function v0(){for(var e=window,t=ml();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ml(e.document)}return t}function Jh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function RE(e){var t=v0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&m0(n.ownerDocument.documentElement,n)){if(r!==null&&Jh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=sv(n,o);var a=sv(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OE=Jr&&"documentMode"in document&&11>=document.documentMode,Vo=null,Pd=null,vs=null,Dd=!1;function uv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dd||Vo==null||Vo!==ml(r)||(r=Vo,"selectionStart"in r&&Jh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vs&&Ts(vs,r)||(vs=r,r=Sl(Pd,"onSelect"),0<r.length&&(t=new Qh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vo)))}function Uu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qo={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},yf={},y0={};Jr&&(y0=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function ac(e){if(yf[e])return yf[e];if(!Qo[e])return e;var t=Qo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in y0)return yf[e]=t[n];return e}var g0=ac("animationend"),w0=ac("animationiteration"),_0=ac("animationstart"),b0=ac("transitionend"),S0=new Map,lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(e,t){S0.set(e,t),Oo(t,[e])}for(var gf=0;gf<lv.length;gf++){var wf=lv[gf],PE=wf.toLowerCase(),DE=wf[0].toUpperCase()+wf.slice(1);ji(PE,"on"+DE)}ji(g0,"onAnimationEnd");ji(w0,"onAnimationIteration");ji(_0,"onAnimationStart");ji("dblclick","onDoubleClick");ji("focusin","onFocus");ji("focusout","onBlur");ji(b0,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);Oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TE=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function cv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,PS(r,t,void 0,e),e.currentTarget=null}function E0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,d=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;cv(i,s,d),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,d=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;cv(i,s,d),o=u}}}if(yl)throw e=xd,yl=!1,xd=null,e}function St(e,t){var n=t[Md];n===void 0&&(n=t[Md]=new Set);var r=e+"__bubble";n.has(r)||(C0(t,e,2,!1),n.add(r))}function _f(e,t,n){var r=0;t&&(r|=4),C0(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Is(e){if(!e[zu]){e[zu]=!0,Tg.forEach(function(n){n!=="selectionchange"&&(TE.has(n)||_f(n,!1,e),_f(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zu]||(t[zu]=!0,_f("selectionchange",!1,t))}}function C0(e,t,n,r){switch(s0(t)){case 1:var i=WS;break;case 4:i=HS;break;default:i=Hh}n=i.bind(null,t,n,e),i=void 0,!Cd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function bf(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Zi(s),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Vg(function(){var d=o,m=zh(n),h=[];e:{var p=S0.get(e);if(p!==void 0){var b=Qh,g=e;switch(e){case"keypress":if(rl(n)===0)break e;case"keydown":case"keyup":b=sE;break;case"focusin":g="focus",b=pf;break;case"focusout":g="blur",b=pf;break;case"beforeblur":case"afterblur":b=pf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=YS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=cE;break;case g0:case w0:case _0:b=XS;break;case b0:b=dE;break;case"scroll":b=VS;break;case"wheel":b=pE;break;case"copy":case"cut":case"paste":b=eE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=ev}var S=(t&4)!==0,I=!S&&e==="scroll",E=S?p!==null?p+"Capture":null:p;S=[];for(var x=d,y;x!==null;){y=x;var O=y.stateNode;if(y.tag===5&&O!==null&&(y=O,E!==null&&(O=ks(x,E),O!=null&&S.push(As(x,O,y)))),I)break;x=x.return}0<S.length&&(p=new b(p,g,null,n,m),h.push({event:p,listeners:S}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",p&&n!==Sd&&(g=n.relatedTarget||n.fromElement)&&(Zi(g)||g[Xr]))break e;if((b||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,b?(g=n.relatedTarget||n.toElement,b=d,g=g?Zi(g):null,g!==null&&(I=Po(g),g!==I||g.tag!==5&&g.tag!==6)&&(g=null)):(b=null,g=d),b!==g)){if(S=Xm,O="onMouseLeave",E="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(S=ev,O="onPointerLeave",E="onPointerEnter",x="pointer"),I=b==null?p:Yo(b),y=g==null?p:Yo(g),p=new S(O,x+"leave",b,n,m),p.target=I,p.relatedTarget=y,O=null,Zi(m)===d&&(S=new S(E,x+"enter",g,n,m),S.target=y,S.relatedTarget=I,O=S),I=O,b&&g)t:{for(S=b,E=g,x=0,y=S;y;y=zo(y))x++;for(y=0,O=E;O;O=zo(O))y++;for(;0<x-y;)S=zo(S),x--;for(;0<y-x;)E=zo(E),y--;for(;x--;){if(S===E||E!==null&&S===E.alternate)break t;S=zo(S),E=zo(E)}S=null}else S=null;b!==null&&fv(h,p,b,S,!1),g!==null&&I!==null&&fv(h,I,g,S,!0)}}e:{if(p=d?Yo(d):window,b=p.nodeName&&p.nodeName.toLowerCase(),b==="select"||b==="input"&&p.type==="file")var T=bE;else if(rv(p))if(h0)T=xE;else{T=EE;var k=SE}else(b=p.nodeName)&&b.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=CE);if(T&&(T=T(e,d))){d0(h,T,n,m);break e}k&&k(e,p,d),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&yd(p,"number",p.value)}switch(k=d?Yo(d):window,e){case"focusin":(rv(k)||k.contentEditable==="true")&&(Vo=k,Pd=d,vs=null);break;case"focusout":vs=Pd=Vo=null;break;case"mousedown":Dd=!0;break;case"contextmenu":case"mouseup":case"dragend":Dd=!1,uv(h,n,m);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":uv(h,n,m)}var P;if(Gh)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Ho?c0(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(l0&&n.locale!=="ko"&&(Ho||L!=="onCompositionStart"?L==="onCompositionEnd"&&Ho&&(P=u0()):(_i=m,Vh="value"in _i?_i.value:_i.textContent,Ho=!0)),k=Sl(d,L),0<k.length&&(L=new Zm(L,e,null,n,m),h.push({event:L,listeners:k}),P?L.data=P:(P=f0(n),P!==null&&(L.data=P)))),(P=vE?yE(e,n):gE(e,n))&&(d=Sl(d,"onBeforeInput"),0<d.length&&(m=new Zm("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:d}),m.data=P))}E0(h,t)})}function As(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Sl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ks(e,n),o!=null&&r.unshift(As(e,o,i)),o=ks(e,t),o!=null&&r.push(As(e,o,i))),e=e.return}return r}function zo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fv(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,d=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&d!==null&&(s=d,i?(u=ks(n,o),u!=null&&a.unshift(As(n,u,s))):i||(u=ks(n,o),u!=null&&a.push(As(n,u,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var IE=/\r\n?/g,AE=/\u0000|\uFFFD/g;function dv(e){return(typeof e=="string"?e:""+e).replace(IE,`
`).replace(AE,"")}function qu(e,t,n){if(t=dv(t),dv(e)!==t&&n)throw Error(he(425))}function El(){}var Td=null,Id=null;function Ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ld=typeof setTimeout=="function"?setTimeout:void 0,LE=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,ME=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(e){return hv.resolve(null).then(e).catch(NE)}:Ld;function NE(e){setTimeout(function(){throw e})}function Sf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ps(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ps(t)}function Oi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Da=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Da,Ls="__reactProps$"+Da,Xr="__reactContainer$"+Da,Md="__reactEvents$"+Da,jE="__reactListeners$"+Da,FE="__reactHandles$"+Da;function Zi(e){var t=e[Tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[Tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pv(e);e!==null;){if(n=e[Tr])return n;e=pv(e)}return t}e=n,n=e.parentNode}return null}function nu(e){return e=e[Tr]||e[Xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function sc(e){return e[Ls]||null}var Nd=[],Go=-1;function Fi(e){return{current:e}}function Et(e){0>Go||(e.current=Nd[Go],Nd[Go]=null,Go--)}function _t(e,t){Go++,Nd[Go]=e.current,e.current=t}var Ni={},dn=Fi(Ni),Rn=Fi(!1),fo=Ni;function ma(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function On(e){return e=e.childContextTypes,e!=null}function Cl(){Et(Rn),Et(dn)}function mv(e,t,n){if(dn.current!==Ni)throw Error(he(168));_t(dn,t),_t(Rn,n)}function x0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(he(108,SS(e)||"Unknown",i));return Pt({},n,r)}function xl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,fo=dn.current,_t(dn,e),_t(Rn,Rn.current),!0}function vv(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=x0(e,t,fo),r.__reactInternalMemoizedMergedChildContext=e,Et(Rn),Et(dn),_t(dn,e)):Et(Rn),_t(Rn,n)}var qr=null,uc=!1,Ef=!1;function k0(e){qr===null?qr=[e]:qr.push(e)}function BE(e){uc=!0,k0(e)}function Bi(){if(!Ef&&qr!==null){Ef=!0;var e=0,t=ht;try{var n=qr;for(ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qr=null,uc=!1}catch(i){throw qr!==null&&(qr=qr.slice(e+1)),Jg(qh,Bi),i}finally{ht=t,Ef=!1}}return null}var Jo=[],Xo=0,kl=null,Rl=0,Zn=[],er=0,ho=null,Wr=1,Hr="";function Gi(e,t){Jo[Xo++]=Rl,Jo[Xo++]=kl,kl=e,Rl=t}function R0(e,t,n){Zn[er++]=Wr,Zn[er++]=Hr,Zn[er++]=ho,ho=e;var r=Wr;e=Hr;var i=32-_r(r)-1;r&=~(1<<i),n+=1;var o=32-_r(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wr=1<<32-_r(t)+i|n<<i|r,Hr=o+e}else Wr=1<<o|n<<i|r,Hr=e}function Xh(e){e.return!==null&&(Gi(e,1),R0(e,1,0))}function Zh(e){for(;e===kl;)kl=Jo[--Xo],Jo[Xo]=null,Rl=Jo[--Xo],Jo[Xo]=null;for(;e===ho;)ho=Zn[--er],Zn[er]=null,Hr=Zn[--er],Zn[er]=null,Wr=Zn[--er],Zn[er]=null}var Bn=null,Fn=null,xt=!1,yr=null;function O0(e,t){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bn=e,Fn=Oi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bn=e,Fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ho!==null?{id:Wr,overflow:Hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bn=e,Fn=null,!0):!1;default:return!1}}function jd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fd(e){if(xt){var t=Fn;if(t){var n=t;if(!yv(e,t)){if(jd(e))throw Error(he(418));t=Oi(n.nextSibling);var r=Bn;t&&yv(e,t)?O0(r,n):(e.flags=e.flags&-4097|2,xt=!1,Bn=e)}}else{if(jd(e))throw Error(he(418));e.flags=e.flags&-4097|2,xt=!1,Bn=e}}}function gv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bn=e}function Ku(e){if(e!==Bn)return!1;if(!xt)return gv(e),xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ad(e.type,e.memoizedProps)),t&&(t=Fn)){if(jd(e))throw P0(),Error(he(418));for(;t;)O0(e,t),t=Oi(t.nextSibling)}if(gv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fn=Oi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fn=null}}else Fn=Bn?Oi(e.stateNode.nextSibling):null;return!0}function P0(){for(var e=Fn;e;)e=Oi(e.nextSibling)}function va(){Fn=Bn=null,xt=!1}function ep(e){yr===null?yr=[e]:yr.push(e)}var $E=si.ReactCurrentBatchConfig;function pr(e,t){if(e&&e.defaultProps){t=Pt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ol=Fi(null),Pl=null,Zo=null,tp=null;function np(){tp=Zo=Pl=null}function rp(e){var t=Ol.current;Et(Ol),e._currentValue=t}function Bd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ua(e,t){Pl=e,tp=Zo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kn=!0),e.firstContext=null)}function ir(e){var t=e._currentValue;if(tp!==e)if(e={context:e,memoizedValue:t,next:null},Zo===null){if(Pl===null)throw Error(he(308));Zo=e,Pl.dependencies={lanes:0,firstContext:e}}else Zo=Zo.next=e;return t}var eo=null;function ip(e){eo===null?eo=[e]:eo.push(e)}function D0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,ip(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zr(e,r)}function Zr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vi=!1;function op(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,at&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zr(e,n)}return i=r.interleaved,i===null?(t.next=t,ip(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zr(e,n)}function il(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kh(e,n)}}function wv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Dl(e,t,n,r){var i=e.updateQueue;vi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,d=u.next;u.next=null,a===null?o=d:a.next=d,a=u;var m=e.alternate;m!==null&&(m=m.updateQueue,s=m.lastBaseUpdate,s!==a&&(s===null?m.firstBaseUpdate=d:s.next=d,m.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;a=0,m=d=u=null,s=o;do{var p=s.lane,b=s.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:b,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,S=s;switch(p=t,b=n,S.tag){case 1:if(g=S.payload,typeof g=="function"){h=g.call(b,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=S.payload,p=typeof g=="function"?g.call(b,h,p):g,p==null)break e;h=Pt({},h,p);break e;case 2:vi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else b={eventTime:b,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},m===null?(d=m=b,u=h):m=m.next=b,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(m===null&&(u=h),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);mo|=a,e.lanes=a,e.memoizedState=h}}function _v(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var I0=new Dg.Component().refs;function $d(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var lc={isMounted:function(e){return(e=e._reactInternals)?Po(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bn(),i=Ti(e),o=Vr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Pi(e,o,i),t!==null&&(br(t,e,i,r),il(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bn(),i=Ti(e),o=Vr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Pi(e,o,i),t!==null&&(br(t,e,i,r),il(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bn(),r=Ti(e),i=Vr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Pi(e,i,r),t!==null&&(br(t,e,r,n),il(t,e,r))}};function bv(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ts(n,r)||!Ts(i,o):!0}function A0(e,t,n){var r=!1,i=Ni,o=t.contextType;return typeof o=="object"&&o!==null?o=ir(o):(i=On(t)?fo:dn.current,r=t.contextTypes,o=(r=r!=null)?ma(e,i):Ni),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=lc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Sv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&lc.enqueueReplaceState(t,t.state,null)}function Ud(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=I0,op(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ir(o):(o=On(t)?fo:dn.current,i.context=ma(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&($d(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&lc.enqueueReplaceState(i,i.state,null),Dl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Za(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===I0&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function Wu(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ev(e){var t=e._init;return t(e._payload)}function L0(e){function t(E,x){if(e){var y=E.deletions;y===null?(E.deletions=[x],E.flags|=16):y.push(x)}}function n(E,x){if(!e)return null;for(;x!==null;)t(E,x),x=x.sibling;return null}function r(E,x){for(E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function i(E,x){return E=Ii(E,x),E.index=0,E.sibling=null,E}function o(E,x,y){return E.index=y,e?(y=E.alternate,y!==null?(y=y.index,y<x?(E.flags|=2,x):y):(E.flags|=2,x)):(E.flags|=1048576,x)}function a(E){return e&&E.alternate===null&&(E.flags|=2),E}function s(E,x,y,O){return x===null||x.tag!==6?(x=Df(y,E.mode,O),x.return=E,x):(x=i(x,y),x.return=E,x)}function u(E,x,y,O){var T=y.type;return T===Wo?m(E,x,y.props.children,O,y.key):x!==null&&(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mi&&Ev(T)===x.type)?(O=i(x,y.props),O.ref=Za(E,x,y),O.return=E,O):(O=cl(y.type,y.key,y.props,null,E.mode,O),O.ref=Za(E,x,y),O.return=E,O)}function d(E,x,y,O){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=Tf(y,E.mode,O),x.return=E,x):(x=i(x,y.children||[]),x.return=E,x)}function m(E,x,y,O,T){return x===null||x.tag!==7?(x=ao(y,E.mode,O,T),x.return=E,x):(x=i(x,y),x.return=E,x)}function h(E,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Df(""+x,E.mode,y),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lu:return y=cl(x.type,x.key,x.props,null,E.mode,y),y.ref=Za(E,null,x),y.return=E,y;case Ko:return x=Tf(x,E.mode,y),x.return=E,x;case mi:var O=x._init;return h(E,O(x._payload),y)}if(ls(x)||Qa(x))return x=ao(x,E.mode,y,null),x.return=E,x;Wu(E,x)}return null}function p(E,x,y,O){var T=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:s(E,x,""+y,O);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Lu:return y.key===T?u(E,x,y,O):null;case Ko:return y.key===T?d(E,x,y,O):null;case mi:return T=y._init,p(E,x,T(y._payload),O)}if(ls(y)||Qa(y))return T!==null?null:m(E,x,y,O,null);Wu(E,y)}return null}function b(E,x,y,O,T){if(typeof O=="string"&&O!==""||typeof O=="number")return E=E.get(y)||null,s(x,E,""+O,T);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Lu:return E=E.get(O.key===null?y:O.key)||null,u(x,E,O,T);case Ko:return E=E.get(O.key===null?y:O.key)||null,d(x,E,O,T);case mi:var k=O._init;return b(E,x,y,k(O._payload),T)}if(ls(O)||Qa(O))return E=E.get(y)||null,m(x,E,O,T,null);Wu(x,O)}return null}function g(E,x,y,O){for(var T=null,k=null,P=x,L=x=0,B=null;P!==null&&L<y.length;L++){P.index>L?(B=P,P=null):B=P.sibling;var N=p(E,P,y[L],O);if(N===null){P===null&&(P=B);break}e&&P&&N.alternate===null&&t(E,P),x=o(N,x,L),k===null?T=N:k.sibling=N,k=N,P=B}if(L===y.length)return n(E,P),xt&&Gi(E,L),T;if(P===null){for(;L<y.length;L++)P=h(E,y[L],O),P!==null&&(x=o(P,x,L),k===null?T=P:k.sibling=P,k=P);return xt&&Gi(E,L),T}for(P=r(E,P);L<y.length;L++)B=b(P,E,L,y[L],O),B!==null&&(e&&B.alternate!==null&&P.delete(B.key===null?L:B.key),x=o(B,x,L),k===null?T=B:k.sibling=B,k=B);return e&&P.forEach(function(F){return t(E,F)}),xt&&Gi(E,L),T}function S(E,x,y,O){var T=Qa(y);if(typeof T!="function")throw Error(he(150));if(y=T.call(y),y==null)throw Error(he(151));for(var k=T=null,P=x,L=x=0,B=null,N=y.next();P!==null&&!N.done;L++,N=y.next()){P.index>L?(B=P,P=null):B=P.sibling;var F=p(E,P,N.value,O);if(F===null){P===null&&(P=B);break}e&&P&&F.alternate===null&&t(E,P),x=o(F,x,L),k===null?T=F:k.sibling=F,k=F,P=B}if(N.done)return n(E,P),xt&&Gi(E,L),T;if(P===null){for(;!N.done;L++,N=y.next())N=h(E,N.value,O),N!==null&&(x=o(N,x,L),k===null?T=N:k.sibling=N,k=N);return xt&&Gi(E,L),T}for(P=r(E,P);!N.done;L++,N=y.next())N=b(P,E,L,N.value,O),N!==null&&(e&&N.alternate!==null&&P.delete(N.key===null?L:N.key),x=o(N,x,L),k===null?T=N:k.sibling=N,k=N);return e&&P.forEach(function(Z){return t(E,Z)}),xt&&Gi(E,L),T}function I(E,x,y,O){if(typeof y=="object"&&y!==null&&y.type===Wo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Lu:e:{for(var T=y.key,k=x;k!==null;){if(k.key===T){if(T=y.type,T===Wo){if(k.tag===7){n(E,k.sibling),x=i(k,y.props.children),x.return=E,E=x;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===mi&&Ev(T)===k.type){n(E,k.sibling),x=i(k,y.props),x.ref=Za(E,k,y),x.return=E,E=x;break e}n(E,k);break}else t(E,k);k=k.sibling}y.type===Wo?(x=ao(y.props.children,E.mode,O,y.key),x.return=E,E=x):(O=cl(y.type,y.key,y.props,null,E.mode,O),O.ref=Za(E,x,y),O.return=E,E=O)}return a(E);case Ko:e:{for(k=y.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){n(E,x.sibling),x=i(x,y.children||[]),x.return=E,E=x;break e}else{n(E,x);break}else t(E,x);x=x.sibling}x=Tf(y,E.mode,O),x.return=E,E=x}return a(E);case mi:return k=y._init,I(E,x,k(y._payload),O)}if(ls(y))return g(E,x,y,O);if(Qa(y))return S(E,x,y,O);Wu(E,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(n(E,x.sibling),x=i(x,y),x.return=E,E=x):(n(E,x),x=Df(y,E.mode,O),x.return=E,E=x),a(E)):n(E,x)}return I}var ya=L0(!0),M0=L0(!1),ru={},Mr=Fi(ru),Ms=Fi(ru),Ns=Fi(ru);function to(e){if(e===ru)throw Error(he(174));return e}function ap(e,t){switch(_t(Ns,t),_t(Ms,e),_t(Mr,ru),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wd(t,e)}Et(Mr),_t(Mr,t)}function ga(){Et(Mr),Et(Ms),Et(Ns)}function N0(e){to(Ns.current);var t=to(Mr.current),n=wd(t,e.type);t!==n&&(_t(Ms,e),_t(Mr,n))}function sp(e){Ms.current===e&&(Et(Mr),Et(Ms))}var Rt=Fi(0);function Tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cf=[];function up(){for(var e=0;e<Cf.length;e++)Cf[e]._workInProgressVersionPrimary=null;Cf.length=0}var ol=si.ReactCurrentDispatcher,xf=si.ReactCurrentBatchConfig,po=0,Ot=null,Ht=null,Yt=null,Il=!1,ys=!1,js=0,UE=0;function un(){throw Error(he(321))}function lp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sr(e[n],t[n]))return!1;return!0}function cp(e,t,n,r,i,o){if(po=o,Ot=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ol.current=e===null||e.memoizedState===null?WE:HE,e=n(r,i),ys){o=0;do{if(ys=!1,js=0,25<=o)throw Error(he(301));o+=1,Yt=Ht=null,t.updateQueue=null,ol.current=VE,e=n(r,i)}while(ys)}if(ol.current=Al,t=Ht!==null&&Ht.next!==null,po=0,Yt=Ht=Ot=null,Il=!1,t)throw Error(he(300));return e}function fp(){var e=js!==0;return js=0,e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ot.memoizedState=Yt=e:Yt=Yt.next=e,Yt}function or(){if(Ht===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=Yt===null?Ot.memoizedState:Yt.next;if(t!==null)Yt=t,Ht=e;else{if(e===null)throw Error(he(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Yt===null?Ot.memoizedState=Yt=e:Yt=Yt.next=e}return Yt}function Fs(e,t){return typeof t=="function"?t(e):t}function kf(e){var t=or(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=Ht,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,u=null,d=o;do{var m=d.lane;if((po&m)===m)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(s=u=h,a=r):u=u.next=h,Ot.lanes|=m,mo|=m}d=d.next}while(d!==null&&d!==o);u===null?a=r:u.next=s,Sr(r,t.memoizedState)||(kn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ot.lanes|=o,mo|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rf(e){var t=or(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Sr(o,t.memoizedState)||(kn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function j0(){}function F0(e,t){var n=Ot,r=or(),i=t(),o=!Sr(r.memoizedState,i);if(o&&(r.memoizedState=i,kn=!0),r=r.queue,dp(U0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Yt!==null&&Yt.memoizedState.tag&1){if(n.flags|=2048,Bs(9,$0.bind(null,n,r,i,t),void 0,null),Gt===null)throw Error(he(349));po&30||B0(n,t,i)}return i}function B0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $0(e,t,n,r){t.value=n,t.getSnapshot=r,z0(t)&&q0(e)}function U0(e,t,n){return n(function(){z0(t)&&q0(e)})}function z0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sr(e,n)}catch{return!0}}function q0(e){var t=Zr(e,1);t!==null&&br(t,e,1,-1)}function Cv(e){var t=Dr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:e},t.queue=e,e=e.dispatch=KE.bind(null,Ot,e),[t.memoizedState,e]}function Bs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ot.updateQueue,t===null?(t={lastEffect:null,stores:null},Ot.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function K0(){return or().memoizedState}function al(e,t,n,r){var i=Dr();Ot.flags|=e,i.memoizedState=Bs(1|t,n,void 0,r===void 0?null:r)}function cc(e,t,n,r){var i=or();r=r===void 0?null:r;var o=void 0;if(Ht!==null){var a=Ht.memoizedState;if(o=a.destroy,r!==null&&lp(r,a.deps)){i.memoizedState=Bs(t,n,o,r);return}}Ot.flags|=e,i.memoizedState=Bs(1|t,n,o,r)}function xv(e,t){return al(8390656,8,e,t)}function dp(e,t){return cc(2048,8,e,t)}function W0(e,t){return cc(4,2,e,t)}function H0(e,t){return cc(4,4,e,t)}function V0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Q0(e,t,n){return n=n!=null?n.concat([e]):null,cc(4,4,V0.bind(null,t,e),n)}function hp(){}function Y0(e,t){var n=or();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function G0(e,t){var n=or();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&lp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function J0(e,t,n){return po&21?(Sr(n,t)||(n=e0(),Ot.lanes|=n,mo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kn=!0),e.memoizedState=n)}function zE(e,t){var n=ht;ht=n!==0&&4>n?n:4,e(!0);var r=xf.transition;xf.transition={};try{e(!1),t()}finally{ht=n,xf.transition=r}}function X0(){return or().memoizedState}function qE(e,t,n){var r=Ti(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z0(e))ew(t,n);else if(n=D0(e,t,n,r),n!==null){var i=bn();br(n,e,r,i),tw(n,t,r)}}function KE(e,t,n){var r=Ti(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z0(e))ew(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Sr(s,a)){var u=t.interleaved;u===null?(i.next=i,ip(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=D0(e,t,i,r),n!==null&&(i=bn(),br(n,e,r,i),tw(n,t,r))}}function Z0(e){var t=e.alternate;return e===Ot||t!==null&&t===Ot}function ew(e,t){ys=Il=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Kh(e,n)}}var Al={readContext:ir,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},WE={readContext:ir,useCallback:function(e,t){return Dr().memoizedState=[e,t===void 0?null:t],e},useContext:ir,useEffect:xv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,al(4194308,4,V0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return al(4194308,4,e,t)},useInsertionEffect:function(e,t){return al(4,2,e,t)},useMemo:function(e,t){var n=Dr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qE.bind(null,Ot,e),[r.memoizedState,e]},useRef:function(e){var t=Dr();return e={current:e},t.memoizedState=e},useState:Cv,useDebugValue:hp,useDeferredValue:function(e){return Dr().memoizedState=e},useTransition:function(){var e=Cv(!1),t=e[0];return e=zE.bind(null,e[1]),Dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ot,i=Dr();if(xt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),Gt===null)throw Error(he(349));po&30||B0(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,xv(U0.bind(null,r,o,e),[e]),r.flags|=2048,Bs(9,$0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dr(),t=Gt.identifierPrefix;if(xt){var n=Hr,r=Wr;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=js++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=UE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HE={readContext:ir,useCallback:Y0,useContext:ir,useEffect:dp,useImperativeHandle:Q0,useInsertionEffect:W0,useLayoutEffect:H0,useMemo:G0,useReducer:kf,useRef:K0,useState:function(){return kf(Fs)},useDebugValue:hp,useDeferredValue:function(e){var t=or();return J0(t,Ht.memoizedState,e)},useTransition:function(){var e=kf(Fs)[0],t=or().memoizedState;return[e,t]},useMutableSource:j0,useSyncExternalStore:F0,useId:X0,unstable_isNewReconciler:!1},VE={readContext:ir,useCallback:Y0,useContext:ir,useEffect:dp,useImperativeHandle:Q0,useInsertionEffect:W0,useLayoutEffect:H0,useMemo:G0,useReducer:Rf,useRef:K0,useState:function(){return Rf(Fs)},useDebugValue:hp,useDeferredValue:function(e){var t=or();return Ht===null?t.memoizedState=e:J0(t,Ht.memoizedState,e)},useTransition:function(){var e=Rf(Fs)[0],t=or().memoizedState;return[e,t]},useMutableSource:j0,useSyncExternalStore:F0,useId:X0,unstable_isNewReconciler:!1};function wa(e,t){try{var n="",r=t;do n+=bS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Of(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var QE=typeof WeakMap=="function"?WeakMap:Map;function nw(e,t,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ml||(Ml=!0,Xd=r),zd(e,t)},n}function rw(e,t,n){n=Vr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){zd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){zd(e,t),typeof r!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function kv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new QE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=uC.bind(null,e,t,n),t.then(e,e))}function Rv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ov(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vr(-1,1),t.tag=2,Pi(n,t,1))),n.lanes|=1),e)}var YE=si.ReactCurrentOwner,kn=!1;function _n(e,t,n,r){t.child=e===null?M0(t,null,n,r):ya(t,e.child,n,r)}function Pv(e,t,n,r,i){n=n.render;var o=t.ref;return ua(t,i),r=cp(e,t,n,r,o,i),n=fp(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ei(e,t,i)):(xt&&n&&Xh(t),t.flags|=1,_n(e,t,r,i),t.child)}function Dv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!bp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,iw(e,t,o,r,i)):(e=cl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(a,r)&&e.ref===t.ref)return ei(e,t,i)}return t.flags|=1,e=Ii(o,r),e.ref=t.ref,e.return=t,t.child=e}function iw(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ts(o,r)&&e.ref===t.ref)if(kn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(kn=!0);else return t.lanes=e.lanes,ei(e,t,i)}return qd(e,t,n,r,i)}function ow(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(ta,Nn),Nn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(ta,Nn),Nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_t(ta,Nn),Nn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,_t(ta,Nn),Nn|=r;return _n(e,t,i,n),t.child}function aw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qd(e,t,n,r,i){var o=On(n)?fo:dn.current;return o=ma(t,o),ua(t,i),n=cp(e,t,n,r,o,i),r=fp(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ei(e,t,i)):(xt&&r&&Xh(t),t.flags|=1,_n(e,t,n,i),t.child)}function Tv(e,t,n,r,i){if(On(n)){var o=!0;xl(t)}else o=!1;if(ua(t,i),t.stateNode===null)sl(e,t),A0(t,n,r),Ud(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=ir(d):(d=On(n)?fo:dn.current,d=ma(t,d));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==d)&&Sv(t,a,r,d),vi=!1;var p=t.memoizedState;a.state=p,Dl(t,r,a,i),u=t.memoizedState,s!==r||p!==u||Rn.current||vi?(typeof m=="function"&&($d(t,n,m,r),u=t.memoizedState),(s=vi||bv(t,n,s,r,p,u,d))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=d,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,T0(e,t),s=t.memoizedProps,d=t.type===t.elementType?s:pr(t.type,s),a.props=d,h=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=ir(u):(u=On(n)?fo:dn.current,u=ma(t,u));var b=n.getDerivedStateFromProps;(m=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||p!==u)&&Sv(t,a,r,u),vi=!1,p=t.memoizedState,a.state=p,Dl(t,r,a,i);var g=t.memoizedState;s!==h||p!==g||Rn.current||vi?(typeof b=="function"&&($d(t,n,b,r),g=t.memoizedState),(d=vi||bv(t,n,d,r,p,g,u)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Kd(e,t,n,r,o,i)}function Kd(e,t,n,r,i,o){aw(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&vv(t,n,!1),ei(e,t,o);r=t.stateNode,YE.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ya(t,e.child,null,o),t.child=ya(t,null,s,o)):_n(e,t,s,o),t.memoizedState=r.state,i&&vv(t,n,!0),t.child}function sw(e){var t=e.stateNode;t.pendingContext?mv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&mv(e,t.context,!1),ap(e,t.containerInfo)}function Iv(e,t,n,r,i){return va(),ep(i),t.flags|=256,_n(e,t,n,r),t.child}var Wd={dehydrated:null,treeContext:null,retryLane:0};function Hd(e){return{baseLanes:e,cachePool:null,transitions:null}}function uw(e,t,n){var r=t.pendingProps,i=Rt.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_t(Rt,i&1),e===null)return Fd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=hc(a,r,0,null),e=ao(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Hd(n),t.memoizedState=Wd,e):pp(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return GE(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Ii(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Ii(s,o):(o=ao(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Hd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Wd,r}return o=e.child,e=o.sibling,r=Ii(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pp(e,t){return t=hc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hu(e,t,n,r){return r!==null&&ep(r),ya(t,e.child,null,n),e=pp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GE(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Of(Error(he(422))),Hu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=hc({mode:"visible",children:r.children},i,0,null),o=ao(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ya(t,e.child,null,a),t.child.memoizedState=Hd(a),t.memoizedState=Wd,o);if(!(t.mode&1))return Hu(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(he(419)),r=Of(o,r,void 0),Hu(e,t,a,r)}if(s=(a&e.childLanes)!==0,kn||s){if(r=Gt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zr(e,i),br(r,e,i,-1))}return _p(),r=Of(Error(he(421))),Hu(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=lC.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Fn=Oi(i.nextSibling),Bn=t,xt=!0,yr=null,e!==null&&(Zn[er++]=Wr,Zn[er++]=Hr,Zn[er++]=ho,Wr=e.id,Hr=e.overflow,ho=t),t=pp(t,r.children),t.flags|=4096,t)}function Av(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bd(e.return,t,n)}function Pf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function lw(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_n(e,t,r.children,n),r=Rt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Av(e,n,t);else if(e.tag===19)Av(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_t(Rt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Tl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Tl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pf(t,!0,n,null,o);break;case"together":Pf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ei(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Ii(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ii(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function JE(e,t,n){switch(t.tag){case 3:sw(t),va();break;case 5:N0(t);break;case 1:On(t.type)&&xl(t);break;case 4:ap(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_t(Ol,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_t(Rt,Rt.current&1),t.flags|=128,null):n&t.child.childLanes?uw(e,t,n):(_t(Rt,Rt.current&1),e=ei(e,t,n),e!==null?e.sibling:null);_t(Rt,Rt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lw(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_t(Rt,Rt.current),r)break;return null;case 22:case 23:return t.lanes=0,ow(e,t,n)}return ei(e,t,n)}var cw,Vd,fw,dw;cw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vd=function(){};fw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,to(Mr.current);var o=null;switch(n){case"input":i=md(e,i),r=md(e,r),o=[];break;case"select":i=Pt({},i,{value:void 0}),r=Pt({},r,{value:void 0}),o=[];break;case"textarea":i=gd(e,i),r=gd(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=El)}_d(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var s=i[d];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Cs.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var u=r[d];if(s=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==s&&(u!=null||s!=null))if(d==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Cs.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&St("scroll",e),o||s===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};dw=function(e,t,n,r){n!==r&&(t.flags|=4)};function es(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ln(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function XE(e,t,n){var r=t.pendingProps;switch(Zh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(t),null;case 1:return On(t.type)&&Cl(),ln(t),null;case 3:return r=t.stateNode,ga(),Et(Rn),Et(dn),up(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ku(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yr!==null&&(th(yr),yr=null))),Vd(e,t),ln(t),null;case 5:sp(t);var i=to(Ns.current);if(n=t.type,e!==null&&t.stateNode!=null)fw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return ln(t),null}if(e=to(Mr.current),Ku(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Tr]=t,r[Ls]=o,e=(t.mode&1)!==0,n){case"dialog":St("cancel",r),St("close",r);break;case"iframe":case"object":case"embed":St("load",r);break;case"video":case"audio":for(i=0;i<fs.length;i++)St(fs[i],r);break;case"source":St("error",r);break;case"img":case"image":case"link":St("error",r),St("load",r);break;case"details":St("toggle",r);break;case"input":zm(r,o),St("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},St("invalid",r);break;case"textarea":Km(r,o),St("invalid",r)}_d(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&qu(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&qu(r.textContent,s,e),i=["children",""+s]):Cs.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&St("scroll",r)}switch(n){case"input":Mu(r),qm(r,o,!0);break;case"textarea":Mu(r),Wm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=El)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Tr]=t,e[Ls]=r,cw(e,t,!1,!1),t.stateNode=e;e:{switch(a=bd(n,r),n){case"dialog":St("cancel",e),St("close",e),i=r;break;case"iframe":case"object":case"embed":St("load",e),i=r;break;case"video":case"audio":for(i=0;i<fs.length;i++)St(fs[i],e);i=r;break;case"source":St("error",e),i=r;break;case"img":case"image":case"link":St("error",e),St("load",e),i=r;break;case"details":St("toggle",e),i=r;break;case"input":zm(e,r),i=md(e,r),St("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Pt({},r,{value:void 0}),St("invalid",e);break;case"textarea":Km(e,r),i=gd(e,r),St("invalid",e);break;default:i=r}_d(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?zg(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&$g(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xs(e,u):typeof u=="number"&&xs(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&St("scroll",e):u!=null&&Fh(e,o,u,a))}switch(n){case"input":Mu(e),qm(e,r,!1);break;case"textarea":Mu(e),Wm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mi(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ia(e,!!r.multiple,o,!1):r.defaultValue!=null&&ia(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=El)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ln(t),null;case 6:if(e&&t.stateNode!=null)dw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=to(Ns.current),to(Mr.current),Ku(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tr]=t,(o=r.nodeValue!==n)&&(e=Bn,e!==null))switch(e.tag){case 3:qu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=t,t.stateNode=r}return ln(t),null;case 13:if(Et(Rt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&Fn!==null&&t.mode&1&&!(t.flags&128))P0(),va(),t.flags|=98560,o=!1;else if(o=Ku(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(he(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(he(317));o[Tr]=t}else va(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ln(t),o=!1}else yr!==null&&(th(yr),yr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Rt.current&1?Vt===0&&(Vt=3):_p())),t.updateQueue!==null&&(t.flags|=4),ln(t),null);case 4:return ga(),Vd(e,t),e===null&&Is(t.stateNode.containerInfo),ln(t),null;case 10:return rp(t.type._context),ln(t),null;case 17:return On(t.type)&&Cl(),ln(t),null;case 19:if(Et(Rt),o=t.memoizedState,o===null)return ln(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)es(o,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Tl(e),a!==null){for(t.flags|=128,es(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _t(Rt,Rt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ft()>_a&&(t.flags|=128,r=!0,es(o,!1),t.lanes=4194304)}else{if(!r)if(e=Tl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),es(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!xt)return ln(t),null}else 2*Ft()-o.renderingStartTime>_a&&n!==1073741824&&(t.flags|=128,r=!0,es(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,n=Rt.current,_t(Rt,r?n&1|2:n&1),t):(ln(t),null);case 22:case 23:return wp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nn&1073741824&&(ln(t),t.subtreeFlags&6&&(t.flags|=8192)):ln(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function ZE(e,t){switch(Zh(t),t.tag){case 1:return On(t.type)&&Cl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ga(),Et(Rn),Et(dn),up(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sp(t),null;case 13:if(Et(Rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Et(Rt),null;case 4:return ga(),null;case 10:return rp(t.type._context),null;case 22:case 23:return wp(),null;case 24:return null;default:return null}}var Vu=!1,cn=!1,eC=typeof WeakSet=="function"?WeakSet:Set,Te=null;function ea(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(e,t,r)}else n.current=null}function Qd(e,t,n){try{n()}catch(r){It(e,t,r)}}var Lv=!1;function tC(e,t){if(Td=_l,e=v0(),Jh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,u=-1,d=0,m=0,h=e,p=null;t:for(;;){for(var b;h!==n||i!==0&&h.nodeType!==3||(s=a+i),h!==o||r!==0&&h.nodeType!==3||(u=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(b=h.firstChild)!==null;)p=h,h=b;for(;;){if(h===e)break t;if(p===n&&++d===i&&(s=a),p===o&&++m===r&&(u=a),(b=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=b}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Id={focusedElem:e,selectionRange:n},_l=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var S=g.memoizedProps,I=g.memoizedState,E=t.stateNode,x=E.getSnapshotBeforeUpdate(t.elementType===t.type?S:pr(t.type,S),I);E.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(O){It(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return g=Lv,Lv=!1,g}function gs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Qd(t,n,o)}i=i.next}while(i!==r)}}function fc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function hw(e){var t=e.alternate;t!==null&&(e.alternate=null,hw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[Ls],delete t[Md],delete t[jE],delete t[FE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pw(e){return e.tag===5||e.tag===3||e.tag===4}function Mv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=El));else if(r!==4&&(e=e.child,e!==null))for(Gd(e,t,n),e=e.sibling;e!==null;)Gd(e,t,n),e=e.sibling}function Jd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jd(e,t,n),e=e.sibling;e!==null;)Jd(e,t,n),e=e.sibling}var en=null,mr=!1;function hi(e,t,n){for(n=n.child;n!==null;)mw(e,t,n),n=n.sibling}function mw(e,t,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(rc,n)}catch{}switch(n.tag){case 5:cn||ea(n,t);case 6:var r=en,i=mr;en=null,hi(e,t,n),en=r,mr=i,en!==null&&(mr?(e=en,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(mr?(e=en,n=n.stateNode,e.nodeType===8?Sf(e.parentNode,n):e.nodeType===1&&Sf(e,n),Ps(e)):Sf(en,n.stateNode));break;case 4:r=en,i=mr,en=n.stateNode.containerInfo,mr=!0,hi(e,t,n),en=r,mr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Qd(n,t,a),i=i.next}while(i!==r)}hi(e,t,n);break;case 1:if(!cn&&(ea(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){It(n,t,s)}hi(e,t,n);break;case 21:hi(e,t,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,hi(e,t,n),cn=r):hi(e,t,n);break;default:hi(e,t,n)}}function Nv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eC),t.forEach(function(r){var i=cC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function dr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:en=s.stateNode,mr=!1;break e;case 3:en=s.stateNode.containerInfo,mr=!0;break e;case 4:en=s.stateNode.containerInfo,mr=!0;break e}s=s.return}if(en===null)throw Error(he(160));mw(o,a,i),en=null,mr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){It(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vw(t,e),t=t.sibling}function vw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dr(t,e),Pr(e),r&4){try{gs(3,e,e.return),fc(3,e)}catch(S){It(e,e.return,S)}try{gs(5,e,e.return)}catch(S){It(e,e.return,S)}}break;case 1:dr(t,e),Pr(e),r&512&&n!==null&&ea(n,n.return);break;case 5:if(dr(t,e),Pr(e),r&512&&n!==null&&ea(n,n.return),e.flags&32){var i=e.stateNode;try{xs(i,"")}catch(S){It(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&jg(i,o),bd(s,a);var d=bd(s,o);for(a=0;a<u.length;a+=2){var m=u[a],h=u[a+1];m==="style"?zg(i,h):m==="dangerouslySetInnerHTML"?$g(i,h):m==="children"?xs(i,h):Fh(i,m,h,d)}switch(s){case"input":vd(i,o);break;case"textarea":Fg(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?ia(i,!!o.multiple,b,!1):p!==!!o.multiple&&(o.defaultValue!=null?ia(i,!!o.multiple,o.defaultValue,!0):ia(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ls]=o}catch(S){It(e,e.return,S)}}break;case 6:if(dr(t,e),Pr(e),r&4){if(e.stateNode===null)throw Error(he(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(S){It(e,e.return,S)}}break;case 3:if(dr(t,e),Pr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(S){It(e,e.return,S)}break;case 4:dr(t,e),Pr(e);break;case 13:dr(t,e),Pr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(yp=Ft())),r&4&&Nv(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(cn=(d=cn)||m,dr(t,e),cn=d):dr(t,e),Pr(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(Te=e,m=e.child;m!==null;){for(h=Te=m;Te!==null;){switch(p=Te,b=p.child,p.tag){case 0:case 11:case 14:case 15:gs(4,p,p.return);break;case 1:ea(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(S){It(r,n,S)}}break;case 5:ea(p,p.return);break;case 22:if(p.memoizedState!==null){Fv(h);continue}}b!==null?(b.return=p,Te=b):Fv(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{i=h.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Ug("display",a))}catch(S){It(e,e.return,S)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(S){It(e,e.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dr(t,e),Pr(e),r&4&&Nv(e);break;case 21:break;default:dr(t,e),Pr(e)}}function Pr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pw(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xs(i,""),r.flags&=-33);var o=Mv(e);Jd(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Mv(e);Gd(e,s,a);break;default:throw Error(he(161))}}catch(u){It(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nC(e,t,n){Te=e,yw(e)}function yw(e,t,n){for(var r=(e.mode&1)!==0;Te!==null;){var i=Te,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Vu;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||cn;s=Vu;var d=cn;if(Vu=a,(cn=u)&&!d)for(Te=i;Te!==null;)a=Te,u=a.child,a.tag===22&&a.memoizedState!==null?Bv(i):u!==null?(u.return=a,Te=u):Bv(i);for(;o!==null;)Te=o,yw(o),o=o.sibling;Te=i,Vu=s,cn=d}jv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Te=o):jv(e)}}function jv(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cn||fc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:pr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&_v(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_v(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Ps(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}cn||t.flags&512&&Yd(t)}catch(p){It(t,t.return,p)}}if(t===e){Te=null;break}if(n=t.sibling,n!==null){n.return=t.return,Te=n;break}Te=t.return}}function Fv(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Te=n;break}Te=t.return}}function Bv(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fc(4,t)}catch(u){It(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){It(t,i,u)}}var o=t.return;try{Yd(t)}catch(u){It(t,o,u)}break;case 5:var a=t.return;try{Yd(t)}catch(u){It(t,a,u)}}}catch(u){It(t,t.return,u)}if(t===e){Te=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Te=s;break}Te=t.return}}var rC=Math.ceil,Ll=si.ReactCurrentDispatcher,mp=si.ReactCurrentOwner,nr=si.ReactCurrentBatchConfig,at=0,Gt=null,Ut=null,tn=0,Nn=0,ta=Fi(0),Vt=0,$s=null,mo=0,dc=0,vp=0,ws=null,Cn=null,yp=0,_a=1/0,zr=null,Ml=!1,Xd=null,Di=null,Qu=!1,bi=null,Nl=0,_s=0,Zd=null,ul=-1,ll=0;function bn(){return at&6?Ft():ul!==-1?ul:ul=Ft()}function Ti(e){return e.mode&1?at&2&&tn!==0?tn&-tn:$E.transition!==null?(ll===0&&(ll=e0()),ll):(e=ht,e!==0||(e=window.event,e=e===void 0?16:s0(e.type)),e):1}function br(e,t,n,r){if(50<_s)throw _s=0,Zd=null,Error(he(185));eu(e,n,r),(!(at&2)||e!==Gt)&&(e===Gt&&(!(at&2)&&(dc|=n),Vt===4&&wi(e,tn)),Pn(e,r),n===1&&at===0&&!(t.mode&1)&&(_a=Ft()+500,uc&&Bi()))}function Pn(e,t){var n=e.callbackNode;$S(e,t);var r=wl(e,e===Gt?tn:0);if(r===0)n!==null&&Qm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Qm(n),t===1)e.tag===0?BE($v.bind(null,e)):k0($v.bind(null,e)),ME(function(){!(at&6)&&Bi()}),n=null;else{switch(t0(r)){case 1:n=qh;break;case 4:n=Xg;break;case 16:n=gl;break;case 536870912:n=Zg;break;default:n=gl}n=xw(n,gw.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gw(e,t){if(ul=-1,ll=0,at&6)throw Error(he(327));var n=e.callbackNode;if(la()&&e.callbackNode!==n)return null;var r=wl(e,e===Gt?tn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jl(e,r);else{t=r;var i=at;at|=2;var o=_w();(Gt!==e||tn!==t)&&(zr=null,_a=Ft()+500,oo(e,t));do try{aC();break}catch(s){ww(e,s)}while(!0);np(),Ll.current=o,at=i,Ut!==null?t=0:(Gt=null,tn=0,t=Vt)}if(t!==0){if(t===2&&(i=kd(e),i!==0&&(r=i,t=eh(e,i))),t===1)throw n=$s,oo(e,0),wi(e,r),Pn(e,Ft()),n;if(t===6)wi(e,r);else{if(i=e.current.alternate,!(r&30)&&!iC(i)&&(t=jl(e,r),t===2&&(o=kd(e),o!==0&&(r=o,t=eh(e,o))),t===1))throw n=$s,oo(e,0),wi(e,r),Pn(e,Ft()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:Ji(e,Cn,zr);break;case 3:if(wi(e,r),(r&130023424)===r&&(t=yp+500-Ft(),10<t)){if(wl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){bn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ld(Ji.bind(null,e,Cn,zr),t);break}Ji(e,Cn,zr);break;case 4:if(wi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-_r(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rC(r/1960))-r,10<r){e.timeoutHandle=Ld(Ji.bind(null,e,Cn,zr),r);break}Ji(e,Cn,zr);break;case 5:Ji(e,Cn,zr);break;default:throw Error(he(329))}}}return Pn(e,Ft()),e.callbackNode===n?gw.bind(null,e):null}function eh(e,t){var n=ws;return e.current.memoizedState.isDehydrated&&(oo(e,t).flags|=256),e=jl(e,t),e!==2&&(t=Cn,Cn=n,t!==null&&th(t)),e}function th(e){Cn===null?Cn=e:Cn.push.apply(Cn,e)}function iC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Sr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wi(e,t){for(t&=~vp,t&=~dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_r(t),r=1<<n;e[n]=-1,t&=~r}}function $v(e){if(at&6)throw Error(he(327));la();var t=wl(e,0);if(!(t&1))return Pn(e,Ft()),null;var n=jl(e,t);if(e.tag!==0&&n===2){var r=kd(e);r!==0&&(t=r,n=eh(e,r))}if(n===1)throw n=$s,oo(e,0),wi(e,t),Pn(e,Ft()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ji(e,Cn,zr),Pn(e,Ft()),null}function gp(e,t){var n=at;at|=1;try{return e(t)}finally{at=n,at===0&&(_a=Ft()+500,uc&&Bi())}}function vo(e){bi!==null&&bi.tag===0&&!(at&6)&&la();var t=at;at|=1;var n=nr.transition,r=ht;try{if(nr.transition=null,ht=1,e)return e()}finally{ht=r,nr.transition=n,at=t,!(at&6)&&Bi()}}function wp(){Nn=ta.current,Et(ta)}function oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,LE(n)),Ut!==null)for(n=Ut.return;n!==null;){var r=n;switch(Zh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cl();break;case 3:ga(),Et(Rn),Et(dn),up();break;case 5:sp(r);break;case 4:ga();break;case 13:Et(Rt);break;case 19:Et(Rt);break;case 10:rp(r.type._context);break;case 22:case 23:wp()}n=n.return}if(Gt=e,Ut=e=Ii(e.current,null),tn=Nn=t,Vt=0,$s=null,vp=dc=mo=0,Cn=ws=null,eo!==null){for(t=0;t<eo.length;t++)if(n=eo[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}eo=null}return e}function ww(e,t){do{var n=Ut;try{if(np(),ol.current=Al,Il){for(var r=Ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Il=!1}if(po=0,Yt=Ht=Ot=null,ys=!1,js=0,mp.current=null,n===null||n.return===null){Vt=1,$s=t,Ut=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=tn,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,m=s,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var b=Rv(a);if(b!==null){b.flags&=-257,Ov(b,a,s,o,t),b.mode&1&&kv(o,d,t),t=b,u=d;var g=t.updateQueue;if(g===null){var S=new Set;S.add(u),t.updateQueue=S}else g.add(u);break e}else{if(!(t&1)){kv(o,d,t),_p();break e}u=Error(he(426))}}else if(xt&&s.mode&1){var I=Rv(a);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Ov(I,a,s,o,t),ep(wa(u,s));break e}}o=u=wa(u,s),Vt!==4&&(Vt=2),ws===null?ws=[o]:ws.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var E=nw(o,u,t);wv(o,E);break e;case 1:s=u;var x=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Di===null||!Di.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var O=rw(o,s,t);wv(o,O);break e}}o=o.return}while(o!==null)}Sw(n)}catch(T){t=T,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(!0)}function _w(){var e=Ll.current;return Ll.current=Al,e===null?Al:e}function _p(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Gt===null||!(mo&268435455)&&!(dc&268435455)||wi(Gt,tn)}function jl(e,t){var n=at;at|=2;var r=_w();(Gt!==e||tn!==t)&&(zr=null,oo(e,t));do try{oC();break}catch(i){ww(e,i)}while(!0);if(np(),at=n,Ll.current=r,Ut!==null)throw Error(he(261));return Gt=null,tn=0,Vt}function oC(){for(;Ut!==null;)bw(Ut)}function aC(){for(;Ut!==null&&!TS();)bw(Ut)}function bw(e){var t=Cw(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?Sw(e):Ut=t,mp.current=null}function Sw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ZE(n,t),n!==null){n.flags&=32767,Ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Ut=null;return}}else if(n=XE(n,t,Nn),n!==null){Ut=n;return}if(t=t.sibling,t!==null){Ut=t;return}Ut=t=e}while(t!==null);Vt===0&&(Vt=5)}function Ji(e,t,n){var r=ht,i=nr.transition;try{nr.transition=null,ht=1,sC(e,t,n,r)}finally{nr.transition=i,ht=r}return null}function sC(e,t,n,r){do la();while(bi!==null);if(at&6)throw Error(he(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(US(e,o),e===Gt&&(Ut=Gt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qu||(Qu=!0,xw(gl,function(){return la(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nr.transition,nr.transition=null;var a=ht;ht=1;var s=at;at|=4,mp.current=null,tC(e,n),vw(n,e),RE(Id),_l=!!Td,Id=Td=null,e.current=n,nC(n),IS(),at=s,ht=a,nr.transition=o}else e.current=n;if(Qu&&(Qu=!1,bi=e,Nl=i),o=e.pendingLanes,o===0&&(Di=null),MS(n.stateNode),Pn(e,Ft()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ml)throw Ml=!1,e=Xd,Xd=null,e;return Nl&1&&e.tag!==0&&la(),o=e.pendingLanes,o&1?e===Zd?_s++:(_s=0,Zd=e):_s=0,Bi(),null}function la(){if(bi!==null){var e=t0(Nl),t=nr.transition,n=ht;try{if(nr.transition=null,ht=16>e?16:e,bi===null)var r=!1;else{if(e=bi,bi=null,Nl=0,at&6)throw Error(he(331));var i=at;for(at|=4,Te=e.current;Te!==null;){var o=Te,a=o.child;if(Te.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var d=s[u];for(Te=d;Te!==null;){var m=Te;switch(m.tag){case 0:case 11:case 15:gs(8,m,o)}var h=m.child;if(h!==null)h.return=m,Te=h;else for(;Te!==null;){m=Te;var p=m.sibling,b=m.return;if(hw(m),m===d){Te=null;break}if(p!==null){p.return=b,Te=p;break}Te=b}}}var g=o.alternate;if(g!==null){var S=g.child;if(S!==null){g.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}Te=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Te=a;else e:for(;Te!==null;){if(o=Te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gs(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,Te=E;break e}Te=o.return}}var x=e.current;for(Te=x;Te!==null;){a=Te;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Te=y;else e:for(a=x;Te!==null;){if(s=Te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:fc(9,s)}}catch(T){It(s,s.return,T)}if(s===a){Te=null;break e}var O=s.sibling;if(O!==null){O.return=s.return,Te=O;break e}Te=s.return}}if(at=i,Bi(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(rc,e)}catch{}r=!0}return r}finally{ht=n,nr.transition=t}}return!1}function Uv(e,t,n){t=wa(n,t),t=nw(e,t,1),e=Pi(e,t,1),t=bn(),e!==null&&(eu(e,1,t),Pn(e,t))}function It(e,t,n){if(e.tag===3)Uv(e,e,n);else for(;t!==null;){if(t.tag===3){Uv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Di===null||!Di.has(r))){e=wa(n,e),e=rw(t,e,1),t=Pi(t,e,1),e=bn(),t!==null&&(eu(t,1,e),Pn(t,e));break}}t=t.return}}function uC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=bn(),e.pingedLanes|=e.suspendedLanes&n,Gt===e&&(tn&n)===n&&(Vt===4||Vt===3&&(tn&130023424)===tn&&500>Ft()-yp?oo(e,0):vp|=n),Pn(e,t)}function Ew(e,t){t===0&&(e.mode&1?(t=Fu,Fu<<=1,!(Fu&130023424)&&(Fu=4194304)):t=1);var n=bn();e=Zr(e,t),e!==null&&(eu(e,t,n),Pn(e,n))}function lC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ew(e,n)}function cC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),Ew(e,n)}var Cw;Cw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rn.current)kn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kn=!1,JE(e,t,n);kn=!!(e.flags&131072)}else kn=!1,xt&&t.flags&1048576&&R0(t,Rl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;sl(e,t),e=t.pendingProps;var i=ma(t,dn.current);ua(t,n),i=cp(null,t,r,e,i,n);var o=fp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,On(r)?(o=!0,xl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,op(t),i.updater=lc,t.stateNode=i,i._reactInternals=t,Ud(t,r,e,n),t=Kd(null,t,r,!0,o,n)):(t.tag=0,xt&&o&&Xh(t),_n(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(sl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=dC(r),e=pr(r,e),i){case 0:t=qd(null,t,r,e,n);break e;case 1:t=Tv(null,t,r,e,n);break e;case 11:t=Pv(null,t,r,e,n);break e;case 14:t=Dv(null,t,r,pr(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pr(r,i),qd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pr(r,i),Tv(e,t,r,i,n);case 3:e:{if(sw(t),e===null)throw Error(he(387));r=t.pendingProps,o=t.memoizedState,i=o.element,T0(e,t),Dl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=wa(Error(he(423)),t),t=Iv(e,t,r,n,i);break e}else if(r!==i){i=wa(Error(he(424)),t),t=Iv(e,t,r,n,i);break e}else for(Fn=Oi(t.stateNode.containerInfo.firstChild),Bn=t,xt=!0,yr=null,n=M0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(va(),r===i){t=ei(e,t,n);break e}_n(e,t,r,n)}t=t.child}return t;case 5:return N0(t),e===null&&Fd(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Ad(r,i)?a=null:o!==null&&Ad(r,o)&&(t.flags|=32),aw(e,t),_n(e,t,a,n),t.child;case 6:return e===null&&Fd(t),null;case 13:return uw(e,t,n);case 4:return ap(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ya(t,null,r,n):_n(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pr(r,i),Pv(e,t,r,i,n);case 7:return _n(e,t,t.pendingProps,n),t.child;case 8:return _n(e,t,t.pendingProps.children,n),t.child;case 12:return _n(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,_t(Ol,r._currentValue),r._currentValue=a,o!==null)if(Sr(o.value,a)){if(o.children===i.children&&!Rn.current){t=ei(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Vr(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?u.next=u:(u.next=m.next,m.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Bd(o.return,n,t),s.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(he(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Bd(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}_n(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ua(t,n),i=ir(i),r=r(i),t.flags|=1,_n(e,t,r,n),t.child;case 14:return r=t.type,i=pr(r,t.pendingProps),i=pr(r.type,i),Dv(e,t,r,i,n);case 15:return iw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:pr(r,i),sl(e,t),t.tag=1,On(r)?(e=!0,xl(t)):e=!1,ua(t,n),A0(t,r,i),Ud(t,r,i,n),Kd(null,t,r,!0,e,n);case 19:return lw(e,t,n);case 22:return ow(e,t,n)}throw Error(he(156,t.tag))};function xw(e,t){return Jg(e,t)}function fC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,t,n,r){return new fC(e,t,n,r)}function bp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dC(e){if(typeof e=="function")return bp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$h)return 11;if(e===Uh)return 14}return 2}function Ii(e,t){var n=e.alternate;return n===null?(n=tr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function cl(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")bp(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Wo:return ao(n.children,i,o,t);case Bh:a=8,i|=8;break;case fd:return e=tr(12,n,t,i|2),e.elementType=fd,e.lanes=o,e;case dd:return e=tr(13,n,t,i),e.elementType=dd,e.lanes=o,e;case hd:return e=tr(19,n,t,i),e.elementType=hd,e.lanes=o,e;case Lg:return hc(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ig:a=10;break e;case Ag:a=9;break e;case $h:a=11;break e;case Uh:a=14;break e;case mi:a=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=tr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function ao(e,t,n,r){return e=tr(7,e,r,t),e.lanes=n,e}function hc(e,t,n,r){return e=tr(22,e,r,t),e.elementType=Lg,e.lanes=n,e.stateNode={isHidden:!1},e}function Df(e,t,n){return e=tr(6,e,null,t),e.lanes=n,e}function Tf(e,t,n){return t=tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ff(0),this.expirationTimes=ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sp(e,t,n,r,i,o,a,s,u){return e=new hC(e,t,n,s,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},op(o),e}function pC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ko,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function kw(e){if(!e)return Ni;e=e._reactInternals;e:{if(Po(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(On(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(On(n))return x0(e,n,t)}return t}function Rw(e,t,n,r,i,o,a,s,u){return e=Sp(n,r,!0,e,i,o,a,s,u),e.context=kw(null),n=e.current,r=bn(),i=Ti(n),o=Vr(r,i),o.callback=t??null,Pi(n,o,i),e.current.lanes=i,eu(e,i,r),Pn(e,r),e}function pc(e,t,n,r){var i=t.current,o=bn(),a=Ti(i);return n=kw(n),t.context===null?t.context=n:t.pendingContext=n,t=Vr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Pi(i,t,a),e!==null&&(br(e,i,a,o),il(e,i,a)),a}function Fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ep(e,t){zv(e,t),(e=e.alternate)&&zv(e,t)}function mC(){return null}var Ow=typeof reportError=="function"?reportError:function(e){console.error(e)};function Cp(e){this._internalRoot=e}mc.prototype.render=Cp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));pc(e,t,null,null)};mc.prototype.unmount=Cp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vo(function(){pc(null,e,null,null)}),t[Xr]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var t=i0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gi.length&&t!==0&&t<gi[n].priority;n++);gi.splice(n,0,e),n===0&&a0(e)}};function xp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qv(){}function vC(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=Fl(a);o.call(d)}}var a=Rw(t,r,e,0,null,!1,!1,"",qv);return e._reactRootContainer=a,e[Xr]=a.current,Is(e.nodeType===8?e.parentNode:e),vo(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var d=Fl(u);s.call(d)}}var u=Sp(e,0,!1,null,null,!1,!1,"",qv);return e._reactRootContainer=u,e[Xr]=u.current,Is(e.nodeType===8?e.parentNode:e),vo(function(){pc(t,u,n,r)}),u}function yc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=Fl(a);s.call(u)}}pc(t,a,e,i)}else a=vC(n,t,e,i,r);return Fl(a)}n0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cs(t.pendingLanes);n!==0&&(Kh(t,n|1),Pn(t,Ft()),!(at&6)&&(_a=Ft()+500,Bi()))}break;case 13:vo(function(){var r=Zr(e,1);if(r!==null){var i=bn();br(r,e,1,i)}}),Ep(e,1)}};Wh=function(e){if(e.tag===13){var t=Zr(e,134217728);if(t!==null){var n=bn();br(t,e,134217728,n)}Ep(e,134217728)}};r0=function(e){if(e.tag===13){var t=Ti(e),n=Zr(e,t);if(n!==null){var r=bn();br(n,e,t,r)}Ep(e,t)}};i0=function(){return ht};o0=function(e,t){var n=ht;try{return ht=e,t()}finally{ht=n}};Ed=function(e,t,n){switch(t){case"input":if(vd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=sc(r);if(!i)throw Error(he(90));Ng(r),vd(r,i)}}}break;case"textarea":Fg(e,n);break;case"select":t=n.value,t!=null&&ia(e,!!n.multiple,t,!1)}};Wg=gp;Hg=vo;var yC={usingClientEntryPoint:!1,Events:[nu,Yo,sc,qg,Kg,gp]},ts={findFiberByHostInstance:Zi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gC={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:si.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yg(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||mC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{rc=Yu.inject(gC),Lr=Yu}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yC;qn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xp(t))throw Error(he(200));return pC(e,t,null,n)};qn.createRoot=function(e,t){if(!xp(e))throw Error(he(299));var n=!1,r="",i=Ow;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Sp(e,1,!1,null,null,n,!1,r,i),e[Xr]=t.current,Is(e.nodeType===8?e.parentNode:e),new Cp(t)};qn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=Yg(t),e=e===null?null:e.stateNode,e};qn.flushSync=function(e){return vo(e)};qn.hydrate=function(e,t,n){if(!vc(t))throw Error(he(200));return yc(null,e,t,!0,n)};qn.hydrateRoot=function(e,t,n){if(!xp(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Ow;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Rw(t,null,e,1,n??null,i,!1,o,a),e[Xr]=t.current,Is(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new mc(t)};qn.render=function(e,t,n){if(!vc(t))throw Error(he(200));return yc(null,e,t,!1,n)};qn.unmountComponentAtNode=function(e){if(!vc(e))throw Error(he(40));return e._reactRootContainer?(vo(function(){yc(null,null,e,!1,function(){e._reactRootContainer=null,e[Xr]=null})}),!0):!1};qn.unstable_batchedUpdates=gp;qn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vc(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return yc(e,t,n,!1,r)};qn.version="18.2.0-next-9e3b772b8-20220608";function Pw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pw)}catch(e){console.error(e)}}Pw(),Rg.exports=qn;var kp=Rg.exports;const wC=tc(kp),_C=vg({__proto__:null,default:wC},[kp]);var Kv=kp;ld.createRoot=Kv.createRoot,ld.hydrateRoot=Kv.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},At.apply(this,arguments)}var jt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jt||(jt={}));const Wv="popstate";function bC(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return Us("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:yo(i)}return EC(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ba(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SC(){return Math.random().toString(36).substr(2,8)}function Hv(e,t){return{usr:e.state,key:e.key,idx:t}}function Us(e,t,n,r){return n===void 0&&(n=null),At({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ui(t):t,{state:n,key:t&&t.key||r||SC()})}function yo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ui(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function EC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=jt.Pop,u=null,d=m();d==null&&(d=0,a.replaceState(At({},a.state,{idx:d}),""));function m(){return(a.state||{idx:null}).idx}function h(){s=jt.Pop;let I=m(),E=I==null?null:I-d;d=I,u&&u({action:s,location:S.location,delta:E})}function p(I,E){s=jt.Push;let x=Us(S.location,I,E);n&&n(x,I),d=m()+1;let y=Hv(x,d),O=S.createHref(x);try{a.pushState(y,"",O)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(O)}o&&u&&u({action:s,location:S.location,delta:1})}function b(I,E){s=jt.Replace;let x=Us(S.location,I,E);n&&n(x,I),d=m();let y=Hv(x,d),O=S.createHref(x);a.replaceState(y,"",O),o&&u&&u({action:s,location:S.location,delta:0})}function g(I){let E=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof I=="string"?I:yo(I);return x=x.replace(/ $/,"%20"),nt(E,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,E)}let S={get action(){return s},get location(){return e(i,a)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Wv,h),u=I,()=>{i.removeEventListener(Wv,h),u=null}},createHref(I){return t(i,I)},createURL:g,encodeLocation(I){let E=g(I);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:b,go(I){return a.go(I)}};return S}var Tt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tt||(Tt={}));const CC=new Set(["lazy","caseSensitive","path","id","index","children"]);function xC(e){return e.index===!0}function nh(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let a=[...n,o],s=typeof i.id=="string"?i.id:a.join("-");if(nt(i.index!==!0||!i.children,"Cannot specify children on an index route"),nt(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),xC(i)){let u=At({},i,t(i),{id:s});return r[s]=u,u}else{let u=At({},i,t(i),{id:s,children:void 0});return r[s]=u,i.children&&(u.children=nh(i.children,t,a,r)),u}})}function na(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ui(t):t,i=Ta(r.pathname||"/",n);if(i==null)return null;let o=Dw(e);RC(o);let a=null;for(let s=0;a==null&&s<o.length;++s){let u=BC(i);a=NC(o[s],u)}return a}function kC(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Dw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(nt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Qr([r,u.relativePath]),m=n.concat(u);o.children&&o.children.length>0&&(nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Dw(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:LC(d,o.index),routesMeta:m})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let u of Tw(o.path))i(o,a,u)}),t}function Tw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Tw(r.join("/")),s=[];return s.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&s.push(...a),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function RC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:MC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OC=/^:[\w-]+$/,PC=3,DC=2,TC=1,IC=10,AC=-2,Vv=e=>e==="*";function LC(e,t){let n=e.split("/"),r=n.length;return n.some(Vv)&&(r+=AC),t&&(r+=DC),n.filter(i=>!Vv(i)).reduce((i,o)=>i+(OC.test(o)?PC:o===""?TC:IC),r)}function MC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function NC(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let s=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",m=jC({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},d);if(!m)return null;Object.assign(r,m.params);let h=s.route;o.push({params:r,pathname:Qr([i,m.pathname]),pathnameBase:zC(Qr([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=Qr([i,m.pathnameBase]))}return o}function jC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=FC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((d,m,h)=>{let{paramName:p,isOptional:b}=m;if(p==="*"){let S=s[h]||"";a=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const g=s[h];return b&&!g?d[p]=void 0:d[p]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:e}}function FC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ba(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function BC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ba(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ta(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $C(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ui(e):e;return{pathname:n?n.startsWith("/")?n:UC(n,t):t,search:qC(r),hash:KC(i)}}function UC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function If(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Iw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rp(e,t){let n=Iw(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Op(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ui(e):(i=At({},e),nt(!i.pathname||!i.pathname.includes("?"),If("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),If("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),If("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}s=h>=0?t[h]:"/"}let u=$C(i,s),d=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}const Qr=e=>e.join("/").replace(/\/\/+/g,"/"),zC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Pp{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Aw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Lw=["post","put","patch","delete"],WC=new Set(Lw),HC=["get",...Lw],VC=new Set(HC),QC=new Set([301,302,303,307,308]),YC=new Set([307,308]),Af={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GC={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ns={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Mw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JC=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Nw="remix-router-transitions";function XC(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;nt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let Y=e.detectErrorBoundary;i=te=>({hasErrorBoundary:Y(te)})}else i=JC;let o={},a=nh(e.routes,i,void 0,o),s,u=e.basename||"/",d=At({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),m=null,h=new Set,p=null,b=null,g=null,S=e.hydrationData!=null,I=na(a,e.history.location,u),E=null;if(I==null){let Y=Xn(404,{pathname:e.history.location.pathname}),{matches:te,route:le}=ty(a);I=te,E={[le.id]:Y}}let x,y=I.some(Y=>Y.route.lazy),O=I.some(Y=>Y.route.loader);if(y)x=!1;else if(!O)x=!0;else if(d.v7_partialHydration){let Y=e.hydrationData?e.hydrationData.loaderData:null,te=e.hydrationData?e.hydrationData.errors:null,le=ye=>ye.route.loader?ye.route.loader.hydrate===!0?!1:Y&&Y[ye.route.id]!==void 0||te&&te[ye.route.id]!==void 0:!0;if(te){let ye=I.findIndex(Pe=>te[Pe.route.id]!==void 0);x=I.slice(0,ye+1).every(le)}else x=I.every(le)}else x=e.hydrationData!=null;let T,k={historyAction:e.history.action,location:e.history.location,matches:I,initialized:x,navigation:Af,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||E,fetchers:new Map,blockers:new Map},P=jt.Pop,L=!1,B,N=!1,F=new Map,Z=null,ue=!1,Ee=!1,Re=[],Ce=[],Ie=new Map,ce=0,se=-1,we=new Map,Ne=new Set,Ze=new Map,je=new Map,Le=new Set,it=new Map,ot=new Map,Mt=!1;function Fr(){if(m=e.history.listen(Y=>{let{action:te,location:le,delta:ye}=Y;if(Mt){Mt=!1;return}ba(ot.size===0||ye!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Pe=yn({currentLocation:k.location,nextLocation:le,historyAction:te});if(Pe&&ye!=null){Mt=!0,e.history.go(ye*-1),Oe(Pe,{state:"blocked",location:le,proceed(){Oe(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),e.history.go(ye)},reset(){let He=new Map(k.blockers);He.set(Pe,ns),Ct({blockers:He})}});return}return X(te,le)}),n){lx(t,F);let Y=()=>cx(t,F);t.addEventListener("pagehide",Y),Z=()=>t.removeEventListener("pagehide",Y)}return k.initialized||X(jt.Pop,k.location,{initialHydration:!0}),T}function Ae(){m&&m(),Z&&Z(),h.clear(),B&&B.abort(),k.fetchers.forEach((Y,te)=>Ke(te)),k.blockers.forEach((Y,te)=>Xt(te))}function Vn(Y){return h.add(Y),()=>h.delete(Y)}function Ct(Y,te){te===void 0&&(te={}),k=At({},k,Y);let le=[],ye=[];d.v7_fetcherPersist&&k.fetchers.forEach((Pe,He)=>{Pe.state==="idle"&&(Le.has(He)?ye.push(He):le.push(He))}),[...h].forEach(Pe=>Pe(k,{deletedFetchers:ye,unstable_viewTransitionOpts:te.viewTransitionOpts,unstable_flushSync:te.flushSync===!0})),d.v7_fetcherPersist&&(le.forEach(Pe=>k.fetchers.delete(Pe)),ye.forEach(Pe=>Ke(Pe)))}function Qe(Y,te,le){var ye,Pe;let{flushSync:He}=le===void 0?{}:le,$e=k.actionData!=null&&k.navigation.formMethod!=null&&vr(k.navigation.formMethod)&&k.navigation.state==="loading"&&((ye=Y.state)==null?void 0:ye._isRedirect)!==!0,Fe;te.actionData?Object.keys(te.actionData).length>0?Fe=te.actionData:Fe=null:$e?Fe=k.actionData:Fe=null;let _e=te.loaderData?ey(k.loaderData,te.loaderData,te.matches||[],te.errors):k.loaderData,Be=k.blockers;Be.size>0&&(Be=new Map(Be),Be.forEach((lt,Dt)=>Be.set(Dt,ns)));let $t=L===!0||k.navigation.formMethod!=null&&vr(k.navigation.formMethod)&&((Pe=Y.state)==null?void 0:Pe._isRedirect)!==!0;s&&(a=s,s=void 0),ue||P===jt.Pop||(P===jt.Push?e.history.push(Y,Y.state):P===jt.Replace&&e.history.replace(Y,Y.state));let Ve;if(P===jt.Pop){let lt=F.get(k.location.pathname);lt&&lt.has(Y.pathname)?Ve={currentLocation:k.location,nextLocation:Y}:F.has(Y.pathname)&&(Ve={currentLocation:Y,nextLocation:k.location})}else if(N){let lt=F.get(k.location.pathname);lt?lt.add(Y.pathname):(lt=new Set([Y.pathname]),F.set(k.location.pathname,lt)),Ve={currentLocation:k.location,nextLocation:Y}}Ct(At({},te,{actionData:Fe,loaderData:_e,historyAction:P,location:Y,initialized:!0,navigation:Af,revalidation:"idle",restoreScrollPosition:Fa(Y,te.matches||k.matches),preventScrollReset:$t,blockers:Be}),{viewTransitionOpts:Ve,flushSync:He===!0}),P=jt.Pop,L=!1,N=!1,ue=!1,Ee=!1,Re=[],Ce=[]}async function Bt(Y,te){if(typeof Y=="number"){e.history.go(Y);return}let le=rh(k.location,k.matches,u,d.v7_prependBasename,Y,d.v7_relativeSplatPath,te==null?void 0:te.fromRouteId,te==null?void 0:te.relative),{path:ye,submission:Pe,error:He}=Qv(d.v7_normalizeFormMethod,!1,le,te),$e=k.location,Fe=Us(k.location,ye,te&&te.state);Fe=At({},Fe,e.history.encodeLocation(Fe));let _e=te&&te.replace!=null?te.replace:void 0,Be=jt.Push;_e===!0?Be=jt.Replace:_e===!1||Pe!=null&&vr(Pe.formMethod)&&Pe.formAction===k.location.pathname+k.location.search&&(Be=jt.Replace);let $t=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Ve=(te&&te.unstable_flushSync)===!0,lt=yn({currentLocation:$e,nextLocation:Fe,historyAction:Be});if(lt){Oe(lt,{state:"blocked",location:Fe,proceed(){Oe(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:Fe}),Bt(Y,te)},reset(){let Dt=new Map(k.blockers);Dt.set(lt,ns),Ct({blockers:Dt})}});return}return await X(Be,Fe,{submission:Pe,pendingError:He,preventScrollReset:$t,replace:te&&te.replace,enableViewTransition:te&&te.unstable_viewTransition,flushSync:Ve})}function mn(){if($(),Ct({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){X(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}X(P||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation})}}async function X(Y,te,le){B&&B.abort(),B=null,P=Y,ue=(le&&le.startUninterruptedRevalidation)===!0,ja(k.location,k.matches),L=(le&&le.preventScrollReset)===!0,N=(le&&le.enableViewTransition)===!0;let ye=s||a,Pe=le&&le.overrideNavigation,He=na(ye,te,u),$e=(le&&le.flushSync)===!0;if(!He){let Dt=Xn(404,{pathname:te.pathname}),{matches:gn,route:yt}=ty(ye);ur(),Qe(te,{matches:gn,loaderData:{},errors:{[yt.id]:Dt}},{flushSync:$e});return}if(k.initialized&&!Ee&&rx(k.location,te)&&!(le&&le.submission&&vr(le.submission.formMethod))){Qe(te,{matches:He},{flushSync:$e});return}B=new AbortController;let Fe=is(e.history,te,B.signal,le&&le.submission),_e,Be;if(le&&le.pendingError)Be={[bs(He).route.id]:le.pendingError};else if(le&&le.submission&&vr(le.submission.formMethod)){let Dt=await ie(Fe,te,le.submission,He,{replace:le.replace,flushSync:$e});if(Dt.shortCircuited)return;_e=Dt.pendingActionData,Be=Dt.pendingActionError,Pe=Lf(te,le.submission),$e=!1,Fe=new Request(Fe.url,{signal:Fe.signal})}let{shortCircuited:$t,loaderData:Ve,errors:lt}=await me(Fe,te,He,Pe,le&&le.submission,le&&le.fetcherSubmission,le&&le.replace,le&&le.initialHydration===!0,$e,_e,Be);$t||(B=null,Qe(te,At({matches:He},_e?{actionData:_e}:{},{loaderData:Ve,errors:lt})))}async function ie(Y,te,le,ye,Pe){Pe===void 0&&(Pe={}),$();let He=sx(te,le);Ct({navigation:He},{flushSync:Pe.flushSync===!0});let $e,Fe=oh(ye,te);if(!Fe.route.action&&!Fe.route.lazy)$e={type:Tt.error,error:Xn(405,{method:Y.method,pathname:te.pathname,routeId:Fe.route.id})};else if($e=await rs("action",Y,Fe,ye,o,i,u,d.v7_relativeSplatPath),Y.signal.aborted)return{shortCircuited:!0};if(ro($e)){let _e;return Pe&&Pe.replace!=null?_e=Pe.replace:_e=$e.location===k.location.pathname+k.location.search,await w(k,$e,{submission:le,replace:_e}),{shortCircuited:!0}}if(ra($e)){let _e=bs(ye,Fe.route.id);return(Pe&&Pe.replace)!==!0&&(P=jt.Push),{pendingActionData:{},pendingActionError:{[_e.route.id]:$e.error}}}if(no($e))throw Xn(400,{type:"defer-action"});return{pendingActionData:{[Fe.route.id]:$e.data}}}async function me(Y,te,le,ye,Pe,He,$e,Fe,_e,Be,$t){let Ve=ye||Lf(te,Pe),lt=Pe||He||iy(Ve),Dt=s||a,[gn,yt]=Yv(e.history,k,le,lt,te,d.v7_partialHydration&&Fe===!0,Ee,Re,Ce,Le,Ze,Ne,Dt,u,Be,$t);if(ur(Ye=>!(le&&le.some(et=>et.route.id===Ye))||gn&&gn.some(et=>et.route.id===Ye)),se=++ce,gn.length===0&&yt.length===0){let Ye=pt();return Qe(te,At({matches:le,loaderData:{},errors:$t||null},Be?{actionData:Be}:{},Ye?{fetchers:new Map(k.fetchers)}:{}),{flushSync:_e}),{shortCircuited:!0}}if(!ue&&(!d.v7_partialHydration||!Fe)){yt.forEach(et=>{let Zt=k.fetchers.get(et.key),cr=os(void 0,Zt?Zt.data:void 0);k.fetchers.set(et.key,cr)});let Ye=Be||k.actionData;Ct(At({navigation:Ve},Ye?Object.keys(Ye).length===0?{actionData:null}:{actionData:Ye}:{},yt.length>0?{fetchers:new Map(k.fetchers)}:{}),{flushSync:_e})}yt.forEach(Ye=>{Ie.has(Ye.key)&&Ue(Ye.key),Ye.controller&&Ie.set(Ye.key,Ye.controller)});let An=()=>yt.forEach(Ye=>Ue(Ye.key));B&&B.signal.addEventListener("abort",An);let{results:Yn,loaderResults:lr,fetcherResults:xr}=await R(k.matches,le,gn,yt,Y);if(Y.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",An),yt.forEach(Ye=>Ie.delete(Ye.key));let rn=ny(Yn);if(rn){if(rn.idx>=gn.length){let Ye=yt[rn.idx-gn.length].key;Ne.add(Ye)}return await w(k,rn.result,{replace:$e}),{shortCircuited:!0}}let{loaderData:No,errors:Ln}=Zv(k,le,gn,lr,$t,yt,xr,it);it.forEach((Ye,et)=>{Ye.subscribe(Zt=>{(Zt||Ye.done)&&it.delete(et)})}),d.v7_partialHydration&&Fe&&k.errors&&Object.entries(k.errors).filter(Ye=>{let[et]=Ye;return!gn.some(Zt=>Zt.route.id===et)}).forEach(Ye=>{let[et,Zt]=Ye;Ln=Object.assign(Ln||{},{[et]:Zt})});let jo=pt(),kr=vn(se),gt=jo||kr||yt.length>0;return At({loaderData:No,errors:Ln},gt?{fetchers:new Map(k.fetchers)}:{})}function Me(Y,te,le,ye){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ie.has(Y)&&Ue(Y);let Pe=(ye&&ye.unstable_flushSync)===!0,He=s||a,$e=rh(k.location,k.matches,u,d.v7_prependBasename,le,d.v7_relativeSplatPath,te,ye==null?void 0:ye.relative),Fe=na(He,$e,u);if(!Fe){re(Y,te,Xn(404,{pathname:$e}),{flushSync:Pe});return}let{path:_e,submission:Be,error:$t}=Qv(d.v7_normalizeFormMethod,!0,$e,ye);if($t){re(Y,te,$t,{flushSync:Pe});return}let Ve=oh(Fe,_e);if(L=(ye&&ye.preventScrollReset)===!0,Be&&vr(Be.formMethod)){M(Y,te,_e,Ve,Fe,Pe,Be);return}Ze.set(Y,{routeId:te,path:_e}),f(Y,te,_e,Ve,Fe,Pe,Be)}async function M(Y,te,le,ye,Pe,He,$e){if($(),Ze.delete(Y),!ye.route.action&&!ye.route.lazy){let et=Xn(405,{method:$e.formMethod,pathname:le,routeId:te});re(Y,te,et,{flushSync:He});return}let Fe=k.fetchers.get(Y);V(Y,ux($e,Fe),{flushSync:He});let _e=new AbortController,Be=is(e.history,le,_e.signal,$e);Ie.set(Y,_e);let $t=ce,Ve=await rs("action",Be,ye,Pe,o,i,u,d.v7_relativeSplatPath);if(Be.signal.aborted){Ie.get(Y)===_e&&Ie.delete(Y);return}if(d.v7_fetcherPersist&&Le.has(Y)){if(ro(Ve)||ra(Ve)){V(Y,pi(void 0));return}}else{if(ro(Ve))if(Ie.delete(Y),se>$t){V(Y,pi(void 0));return}else return Ne.add(Y),V(Y,os($e)),w(k,Ve,{fetcherSubmission:$e});if(ra(Ve)){re(Y,te,Ve.error);return}}if(no(Ve))throw Xn(400,{type:"defer-action"});let lt=k.navigation.location||k.location,Dt=is(e.history,lt,_e.signal),gn=s||a,yt=k.navigation.state!=="idle"?na(gn,k.navigation.location,u):k.matches;nt(yt,"Didn't find any matches after fetcher action");let An=++ce;we.set(Y,An);let Yn=os($e,Ve.data);k.fetchers.set(Y,Yn);let[lr,xr]=Yv(e.history,k,yt,$e,lt,!1,Ee,Re,Ce,Le,Ze,Ne,gn,u,{[ye.route.id]:Ve.data},void 0);xr.filter(et=>et.key!==Y).forEach(et=>{let Zt=et.key,cr=k.fetchers.get(Zt),Fo=os(void 0,cr?cr.data:void 0);k.fetchers.set(Zt,Fo),Ie.has(Zt)&&Ue(Zt),et.controller&&Ie.set(Zt,et.controller)}),Ct({fetchers:new Map(k.fetchers)});let rn=()=>xr.forEach(et=>Ue(et.key));_e.signal.addEventListener("abort",rn);let{results:No,loaderResults:Ln,fetcherResults:jo}=await R(k.matches,yt,lr,xr,Dt);if(_e.signal.aborted)return;_e.signal.removeEventListener("abort",rn),we.delete(Y),Ie.delete(Y),xr.forEach(et=>Ie.delete(et.key));let kr=ny(No);if(kr){if(kr.idx>=lr.length){let et=xr[kr.idx-lr.length].key;Ne.add(et)}return w(k,kr.result)}let{loaderData:gt,errors:Ye}=Zv(k,k.matches,lr,Ln,void 0,xr,jo,it);if(k.fetchers.has(Y)){let et=pi(Ve.data);k.fetchers.set(Y,et)}vn(An),k.navigation.state==="loading"&&An>se?(nt(P,"Expected pending action"),B&&B.abort(),Qe(k.navigation.location,{matches:yt,loaderData:gt,errors:Ye,fetchers:new Map(k.fetchers)})):(Ct({errors:Ye,loaderData:ey(k.loaderData,gt,yt,Ye),fetchers:new Map(k.fetchers)}),Ee=!1)}async function f(Y,te,le,ye,Pe,He,$e){let Fe=k.fetchers.get(Y);V(Y,os($e,Fe?Fe.data:void 0),{flushSync:He});let _e=new AbortController,Be=is(e.history,le,_e.signal);Ie.set(Y,_e);let $t=ce,Ve=await rs("loader",Be,ye,Pe,o,i,u,d.v7_relativeSplatPath);if(no(Ve)&&(Ve=await Bw(Ve,Be.signal,!0)||Ve),Ie.get(Y)===_e&&Ie.delete(Y),!Be.signal.aborted){if(Le.has(Y)){V(Y,pi(void 0));return}if(ro(Ve))if(se>$t){V(Y,pi(void 0));return}else{Ne.add(Y),await w(k,Ve);return}if(ra(Ve)){re(Y,te,Ve.error);return}nt(!no(Ve),"Unhandled fetcher deferred data"),V(Y,pi(Ve.data))}}async function w(Y,te,le){let{submission:ye,fetcherSubmission:Pe,replace:He}=le===void 0?{}:le;te.revalidate&&(Ee=!0);let $e=Us(Y.location,te.location,{_isRedirect:!0});if(nt($e,"Expected a location on the redirect navigation"),n){let lt=!1;if(te.reloadDocument)lt=!0;else if(Mw.test(te.location)){const Dt=e.history.createURL(te.location);lt=Dt.origin!==t.location.origin||Ta(Dt.pathname,u)==null}if(lt){He?t.location.replace(te.location):t.location.assign(te.location);return}}B=null;let Fe=He===!0?jt.Replace:jt.Push,{formMethod:_e,formAction:Be,formEncType:$t}=Y.navigation;!ye&&!Pe&&_e&&Be&&$t&&(ye=iy(Y.navigation));let Ve=ye||Pe;if(YC.has(te.status)&&Ve&&vr(Ve.formMethod))await X(Fe,$e,{submission:At({},Ve,{formAction:te.location}),preventScrollReset:L});else{let lt=Lf($e,ye);await X(Fe,$e,{overrideNavigation:lt,fetcherSubmission:Pe,preventScrollReset:L})}}async function R(Y,te,le,ye,Pe){let He=await Promise.all([...le.map(_e=>rs("loader",Pe,_e,te,o,i,u,d.v7_relativeSplatPath)),...ye.map(_e=>_e.matches&&_e.match&&_e.controller?rs("loader",is(e.history,_e.path,_e.controller.signal),_e.match,_e.matches,o,i,u,d.v7_relativeSplatPath):{type:Tt.error,error:Xn(404,{pathname:_e.path})})]),$e=He.slice(0,le.length),Fe=He.slice(le.length);return await Promise.all([ry(Y,le,$e,$e.map(()=>Pe.signal),!1,k.loaderData),ry(Y,ye.map(_e=>_e.match),Fe,ye.map(_e=>_e.controller?_e.controller.signal:null),!0)]),{results:He,loaderResults:$e,fetcherResults:Fe}}function $(){Ee=!0,Re.push(...ur()),Ze.forEach((Y,te)=>{Ie.has(te)&&(Ce.push(te),Ue(te))})}function V(Y,te,le){le===void 0&&(le={}),k.fetchers.set(Y,te),Ct({fetchers:new Map(k.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function re(Y,te,le,ye){ye===void 0&&(ye={});let Pe=bs(k.matches,te);Ke(Y),Ct({errors:{[Pe.route.id]:le},fetchers:new Map(k.fetchers)},{flushSync:(ye&&ye.flushSync)===!0})}function De(Y){return d.v7_fetcherPersist&&(je.set(Y,(je.get(Y)||0)+1),Le.has(Y)&&Le.delete(Y)),k.fetchers.get(Y)||GC}function Ke(Y){let te=k.fetchers.get(Y);Ie.has(Y)&&!(te&&te.state==="loading"&&we.has(Y))&&Ue(Y),Ze.delete(Y),we.delete(Y),Ne.delete(Y),Le.delete(Y),k.fetchers.delete(Y)}function st(Y){if(d.v7_fetcherPersist){let te=(je.get(Y)||0)-1;te<=0?(je.delete(Y),Le.add(Y)):je.set(Y,te)}else Ke(Y);Ct({fetchers:new Map(k.fetchers)})}function Ue(Y){let te=Ie.get(Y);nt(te,"Expected fetch controller: "+Y),te.abort(),Ie.delete(Y)}function We(Y){for(let te of Y){let le=De(te),ye=pi(le.data);k.fetchers.set(te,ye)}}function pt(){let Y=[],te=!1;for(let le of Ne){let ye=k.fetchers.get(le);nt(ye,"Expected fetcher: "+le),ye.state==="loading"&&(Ne.delete(le),Y.push(le),te=!0)}return We(Y),te}function vn(Y){let te=[];for(let[le,ye]of we)if(ye<Y){let Pe=k.fetchers.get(le);nt(Pe,"Expected fetcher: "+le),Pe.state==="loading"&&(Ue(le),we.delete(le),te.push(le))}return We(te),te.length>0}function Qn(Y,te){let le=k.blockers.get(Y)||ns;return ot.get(Y)!==te&&ot.set(Y,te),le}function Xt(Y){k.blockers.delete(Y),ot.delete(Y)}function Oe(Y,te){let le=k.blockers.get(Y)||ns;nt(le.state==="unblocked"&&te.state==="blocked"||le.state==="blocked"&&te.state==="blocked"||le.state==="blocked"&&te.state==="proceeding"||le.state==="blocked"&&te.state==="unblocked"||le.state==="proceeding"&&te.state==="unblocked","Invalid blocker state transition: "+le.state+" -> "+te.state);let ye=new Map(k.blockers);ye.set(Y,te),Ct({blockers:ye})}function yn(Y){let{currentLocation:te,nextLocation:le,historyAction:ye}=Y;if(ot.size===0)return;ot.size>1&&ba(!1,"A router only supports one blocker at a time");let Pe=Array.from(ot.entries()),[He,$e]=Pe[Pe.length-1],Fe=k.blockers.get(He);if(!(Fe&&Fe.state==="proceeding")&&$e({currentLocation:te,nextLocation:le,historyAction:ye}))return He}function ur(Y){let te=[];return it.forEach((le,ye)=>{(!Y||Y(ye))&&(le.cancel(),te.push(ye),it.delete(ye))}),te}function Mo(Y,te,le){if(p=Y,g=te,b=le||null,!S&&k.navigation===Af){S=!0;let ye=Fa(k.location,k.matches);ye!=null&&Ct({restoreScrollPosition:ye})}return()=>{p=null,g=null,b=null}}function xe(Y,te){return b&&b(Y,te.map(ye=>kC(ye,k.loaderData)))||Y.key}function ja(Y,te){if(p&&g){let le=xe(Y,te);p[le]=g()}}function Fa(Y,te){if(p){let le=xe(Y,te),ye=p[le];if(typeof ye=="number")return ye}return null}function Ba(Y){o={},s=nh(Y,i,void 0,o)}return T={get basename(){return u},get future(){return d},get state(){return k},get routes(){return a},get window(){return t},initialize:Fr,subscribe:Vn,enableScrollRestoration:Mo,navigate:Bt,fetch:Me,revalidate:mn,createHref:Y=>e.history.createHref(Y),encodeLocation:Y=>e.history.encodeLocation(Y),getFetcher:De,deleteFetcher:st,dispose:Ae,getBlocker:Qn,deleteBlocker:Xt,_internalFetchControllers:Ie,_internalActiveDeferreds:it,_internalSetRoutes:Ba},T}function ZC(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function rh(e,t,n,r,i,o,a,s){let u,d;if(a){u=[];for(let h of t)if(u.push(h),h.route.id===a){d=h;break}}else u=t,d=t[t.length-1];let m=Op(i||".",Rp(u,o),Ta(e.pathname,n)||e.pathname,s==="path");return i==null&&(m.search=e.search,m.hash=e.hash),(i==null||i===""||i===".")&&d&&d.route.index&&!Dp(m.search)&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(m.pathname=m.pathname==="/"?n:Qr([n,m.pathname])),yo(m)}function Qv(e,t,n,r){if(!r||!ZC(r))return{path:n};if(r.formMethod&&!ax(r.formMethod))return{path:n,error:Xn(405,{method:r.formMethod})};let i=()=>({path:n,error:Xn(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=e?o.toUpperCase():o.toLowerCase(),s=Fw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!vr(a))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((b,g)=>{let[S,I]=g;return""+b+S+"="+I+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!vr(a))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}nt(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=ih(r.formData),d=r.formData;else if(r.body instanceof FormData)u=ih(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=Xv(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=Xv(u)}catch{return i()}let m={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(vr(m.formMethod))return{path:n,submission:m};let h=ui(n);return t&&h.search&&Dp(h.search)&&u.append("index",""),h.search="?"+u,{path:yo(h),submission:m}}function ex(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Yv(e,t,n,r,i,o,a,s,u,d,m,h,p,b,g,S){let I=S?Object.values(S)[0]:g?Object.values(g)[0]:void 0,E=e.createURL(t.location),x=e.createURL(i),y=S?Object.keys(S)[0]:void 0,T=ex(n,y).filter((P,L)=>{let{route:B}=P;if(B.lazy)return!0;if(B.loader==null)return!1;if(o)return B.loader.hydrate?!0:t.loaderData[B.id]===void 0&&(!t.errors||t.errors[B.id]===void 0);if(tx(t.loaderData,t.matches[L],P)||s.some(Z=>Z===P.route.id))return!0;let N=t.matches[L],F=P;return Gv(P,At({currentUrl:E,currentParams:N.params,nextUrl:x,nextParams:F.params},r,{actionResult:I,defaultShouldRevalidate:a||E.pathname+E.search===x.pathname+x.search||E.search!==x.search||jw(N,F)}))}),k=[];return m.forEach((P,L)=>{if(o||!n.some(ue=>ue.route.id===P.routeId)||d.has(L))return;let B=na(p,P.path,b);if(!B){k.push({key:L,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let N=t.fetchers.get(L),F=oh(B,P.path),Z=!1;h.has(L)?Z=!1:u.includes(L)?Z=!0:N&&N.state!=="idle"&&N.data===void 0?Z=a:Z=Gv(F,At({currentUrl:E,currentParams:t.matches[t.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:I,defaultShouldRevalidate:a})),Z&&k.push({key:L,routeId:P.routeId,path:P.path,matches:B,match:F,controller:new AbortController})}),[T,k]}function tx(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function jw(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Gv(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function Jv(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];nt(i,"No route found in manifest");let o={};for(let a in r){let u=i[a]!==void 0&&a!=="hasErrorBoundary";ba(!u,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!CC.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,At({},t(i),{lazy:void 0}))}async function rs(e,t,n,r,i,o,a,s,u){u===void 0&&(u={});let d,m,h,p=S=>{let I,E=new Promise((x,y)=>I=y);return h=()=>I(),t.signal.addEventListener("abort",h),Promise.race([S({request:t,params:n.params,context:u.requestContext}),E])};try{let S=n.route[e];if(n.route.lazy)if(S){let I,E=await Promise.all([p(S).catch(x=>{I=x}),Jv(n.route,o,i)]);if(I)throw I;m=E[0]}else if(await Jv(n.route,o,i),S=n.route[e],S)m=await p(S);else if(e==="action"){let I=new URL(t.url),E=I.pathname+I.search;throw Xn(405,{method:t.method,pathname:E,routeId:n.route.id})}else return{type:Tt.data,data:void 0};else if(S)m=await p(S);else{let I=new URL(t.url),E=I.pathname+I.search;throw Xn(404,{pathname:E})}nt(m!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(S){d=Tt.error,m=S}finally{h&&t.signal.removeEventListener("abort",h)}if(ox(m)){let S=m.status;if(QC.has(S)){let E=m.headers.get("Location");if(nt(E,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mw.test(E))E=rh(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,E,s);else if(!u.isStaticRequest){let x=new URL(t.url),y=E.startsWith("//")?new URL(x.protocol+E):new URL(E),O=Ta(y.pathname,a)!=null;y.origin===x.origin&&O&&(E=y.pathname+y.search+y.hash)}if(u.isStaticRequest)throw m.headers.set("Location",E),m;return{type:Tt.redirect,status:S,location:E,revalidate:m.headers.get("X-Remix-Revalidate")!==null,reloadDocument:m.headers.get("X-Remix-Reload-Document")!==null}}if(u.isRouteRequest)throw{type:d===Tt.error?Tt.error:Tt.data,response:m};let I;try{let E=m.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?m.body==null?I=null:I=await m.json():I=await m.text()}catch(E){return{type:Tt.error,error:E}}return d===Tt.error?{type:d,error:new Pp(S,m.statusText,I),headers:m.headers}:{type:Tt.data,data:I,statusCode:m.status,headers:m.headers}}if(d===Tt.error)return{type:d,error:m};if(ix(m)){var b,g;return{type:Tt.deferred,deferredData:m,statusCode:(b=m.init)==null?void 0:b.status,headers:((g=m.init)==null?void 0:g.headers)&&new Headers(m.init.headers)}}return{type:Tt.data,data:m}}function is(e,t,n,r){let i=e.createURL(Fw(t)).toString(),o={signal:n};if(r&&vr(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=ih(r.formData):o.body=r.formData}return new Request(i,o)}function ih(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function Xv(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function nx(e,t,n,r,i){let o={},a=null,s,u=!1,d={};return n.forEach((m,h)=>{let p=t[h].route.id;if(nt(!ro(m),"Cannot handle redirect results in processLoaderData"),ra(m)){let b=bs(e,p),g=m.error;r&&(g=Object.values(r)[0],r=void 0),a=a||{},a[b.route.id]==null&&(a[b.route.id]=g),o[p]=void 0,u||(u=!0,s=Aw(m.error)?m.error.status:500),m.headers&&(d[p]=m.headers)}else no(m)?(i.set(p,m.deferredData),o[p]=m.deferredData.data):o[p]=m.data,m.statusCode!=null&&m.statusCode!==200&&!u&&(s=m.statusCode),m.headers&&(d[p]=m.headers)}),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:d}}function Zv(e,t,n,r,i,o,a,s){let{loaderData:u,errors:d}=nx(t,n,r,i,s);for(let m=0;m<o.length;m++){let{key:h,match:p,controller:b}=o[m];nt(a!==void 0&&a[m]!==void 0,"Did not find corresponding fetcher result");let g=a[m];if(!(b&&b.signal.aborted))if(ra(g)){let S=bs(e.matches,p==null?void 0:p.route.id);d&&d[S.route.id]||(d=At({},d,{[S.route.id]:g.error})),e.fetchers.delete(h)}else if(ro(g))nt(!1,"Unhandled fetcher revalidation redirect");else if(no(g))nt(!1,"Unhandled fetcher deferred data");else{let S=pi(g.data);e.fetchers.set(h,S)}}return{loaderData:u,errors:d}}function ey(e,t,n,r){let i=At({},t);for(let o of n){let a=o.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(i[a]=t[a]):e[a]!==void 0&&o.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function bs(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function ty(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Xn(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):e===403?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",s='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new Pp(e||500,a,new Error(s),!0)}function ny(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(ro(n))return{result:n,idx:t}}}function Fw(e){let t=typeof e=="string"?ui(e):e;return yo(At({},t,{hash:""}))}function rx(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function no(e){return e.type===Tt.deferred}function ra(e){return e.type===Tt.error}function ro(e){return(e&&e.type)===Tt.redirect}function ix(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function ox(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function ax(e){return VC.has(e.toLowerCase())}function vr(e){return WC.has(e.toLowerCase())}async function ry(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],u=t[a];if(!u)continue;let d=e.find(h=>h.route.id===u.route.id),m=d!=null&&!jw(d,u)&&(o&&o[u.route.id])!==void 0;if(no(s)&&(i||m)){let h=r[a];nt(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await Bw(s,h,i).then(p=>{p&&(n[a]=p||n[a])})}}}async function Bw(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Tt.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Tt.error,error:i}}return{type:Tt.data,data:e.deferredData.data}}}function Dp(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function oh(e,t){let n=typeof t=="string"?ui(t).search:t.search;if(e[e.length-1].route.index&&Dp(n||""))return e[e.length-1];let r=Iw(e);return r[r.length-1]}function iy(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Lf(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sx(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function os(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function ux(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function pi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lx(e,t){try{let n=e.sessionStorage.getItem(Nw);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function cx(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(Nw,JSON.stringify(n))}catch(r){ba(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(this,arguments)}const gc=pe.createContext(null),$w=pe.createContext(null),Do=pe.createContext(null),wc=pe.createContext(null),To=pe.createContext({outlet:null,matches:[],isDataRoute:!1}),Uw=pe.createContext(null);function fx(e,t){let{relative:n}=t===void 0?{}:t;iu()||nt(!1);let{basename:r,navigator:i}=pe.useContext(Do),{hash:o,pathname:a,search:s}=qw(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Qr([r,a])),i.createHref({pathname:u,search:s,hash:o})}function iu(){return pe.useContext(wc)!=null}function _c(){return iu()||nt(!1),pe.useContext(wc).location}function zw(e){pe.useContext(Do).static||pe.useLayoutEffect(e)}function dx(){let{isDataRoute:e}=pe.useContext(To);return e?Cx():hx()}function hx(){iu()||nt(!1);let e=pe.useContext(gc),{basename:t,future:n,navigator:r}=pe.useContext(Do),{matches:i}=pe.useContext(To),{pathname:o}=_c(),a=JSON.stringify(Rp(i,n.v7_relativeSplatPath)),s=pe.useRef(!1);return zw(()=>{s.current=!0}),pe.useCallback(function(d,m){if(m===void 0&&(m={}),!s.current)return;if(typeof d=="number"){r.go(d);return}let h=Op(d,JSON.parse(a),o,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qr([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,a,o,e])}function qw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=pe.useContext(Do),{matches:i}=pe.useContext(To),{pathname:o}=_c(),a=JSON.stringify(Rp(i,r.v7_relativeSplatPath));return pe.useMemo(()=>Op(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function px(e,t,n,r){iu()||nt(!1);let{navigator:i}=pe.useContext(Do),{matches:o}=pe.useContext(To),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=_c(),m;if(t){var h;let I=typeof t=="string"?ui(t):t;u==="/"||(h=I.pathname)!=null&&h.startsWith(u)||nt(!1),m=I}else m=d;let p=m.pathname||"/",b=p;if(u!=="/"){let I=u.replace(/^\//,"").split("/");b="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let g=na(e,{pathname:b}),S=wx(g&&g.map(I=>Object.assign({},I,{params:Object.assign({},s,I.params),pathname:Qr([u,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:Qr([u,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,n,r);return t&&S?pe.createElement(wc.Provider,{value:{location:zs({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:jt.Pop}},S):S}function mx(){let e=Ex(),t=Aw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},t),n?pe.createElement("pre",{style:i},n):null,null)}const vx=pe.createElement(mx,null);class yx extends pe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?pe.createElement(To.Provider,{value:this.props.routeContext},pe.createElement(Uw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gx(e){let{routeContext:t,match:n,children:r}=e,i=pe.useContext(gc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),pe.createElement(To.Provider,{value:t},r)}function wx(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let a=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let m=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id]));m>=0||nt(!1),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let h=a[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:p,errors:b}=n,g=h.route.loader&&p[h.route.id]===void 0&&(!b||b[h.route.id]===void 0);if(h.route.lazy||g){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,h,p)=>{let b,g=!1,S=null,I=null;n&&(b=s&&h.route.id?s[h.route.id]:void 0,S=h.route.errorElement||vx,u&&(d<0&&p===0?(xx("route-fallback",!1),g=!0,I=null):d===p&&(g=!0,I=h.route.hydrateFallbackElement||null)));let E=t.concat(a.slice(0,p+1)),x=()=>{let y;return b?y=S:g?y=I:h.route.Component?y=pe.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=m,pe.createElement(gx,{match:h,routeContext:{outlet:m,matches:E,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?pe.createElement(yx,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:x(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):x()},null)}var Kw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Kw||{}),Bl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bl||{});function _x(e){let t=pe.useContext(gc);return t||nt(!1),t}function bx(e){let t=pe.useContext($w);return t||nt(!1),t}function Sx(e){let t=pe.useContext(To);return t||nt(!1),t}function Ww(e){let t=Sx(),n=t.matches[t.matches.length-1];return n.route.id||nt(!1),n.route.id}function Ex(){var e;let t=pe.useContext(Uw),n=bx(Bl.UseRouteError),r=Ww(Bl.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Cx(){let{router:e}=_x(Kw.UseNavigateStable),t=Ww(Bl.UseNavigateStable),n=pe.useRef(!1);return zw(()=>{n.current=!0}),pe.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,zs({fromRouteId:t},o)))},[e,t])}const oy={};function xx(e,t,n){!t&&!oy[e]&&(oy[e]=!0)}function kx(e){let{basename:t="/",children:n=null,location:r,navigationType:i=jt.Pop,navigator:o,static:a=!1,future:s}=e;iu()&&nt(!1);let u=t.replace(/^\/*/,"/"),d=pe.useMemo(()=>({basename:u,navigator:o,static:a,future:zs({v7_relativeSplatPath:!1},s)}),[u,s,o,a]);typeof r=="string"&&(r=ui(r));let{pathname:m="/",search:h="",hash:p="",state:b=null,key:g="default"}=r,S=pe.useMemo(()=>{let I=Ta(m,u);return I==null?null:{location:{pathname:I,search:h,hash:p,state:b,key:g},navigationType:i}},[u,m,h,p,b,g,i]);return S==null?null:pe.createElement(Do.Provider,{value:d},pe.createElement(wc.Provider,{children:n,value:S}))}new Promise(()=>{});function Rx(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:pe.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:pe.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:pe.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qs.apply(this,arguments)}function Ox(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Px(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dx(e,t){return e.button===0&&(!t||t==="_self")&&!Px(e)}const Tx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Ix="6";try{window.__reactRouterVersion=Ix}catch{}function Ax(e,t){return XC({basename:t==null?void 0:t.basename,future:qs({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:bC({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||Lx(),routes:e,mapRouteProperties:Rx,window:t==null?void 0:t.window}).initialize()}function Lx(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=qs({},t,{errors:Mx(t.errors)})),t}function Mx(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Pp(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const Nx=pe.createContext({isTransitioning:!1}),jx=pe.createContext(new Map),Fx="startTransition",ay=lS[Fx],Bx="flushSync",sy=_C[Bx];function $x(e){ay?ay(e):e()}function as(e){sy?sy(e):e()}class Ux{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function zx(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=pe.useState(n.state),[a,s]=pe.useState(),[u,d]=pe.useState({isTransitioning:!1}),[m,h]=pe.useState(),[p,b]=pe.useState(),[g,S]=pe.useState(),I=pe.useRef(new Map),{v7_startTransition:E}=r||{},x=pe.useCallback(P=>{E?$x(P):P()},[E]),y=pe.useCallback((P,L)=>{let{deletedFetchers:B,unstable_flushSync:N,unstable_viewTransitionOpts:F}=L;B.forEach(ue=>I.current.delete(ue)),P.fetchers.forEach((ue,Ee)=>{ue.data!==void 0&&I.current.set(Ee,ue.data)});let Z=n.window==null||typeof n.window.document.startViewTransition!="function";if(!F||Z){N?as(()=>o(P)):x(()=>o(P));return}if(N){as(()=>{p&&(m&&m.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let ue=n.window.document.startViewTransition(()=>{as(()=>o(P))});ue.finished.finally(()=>{as(()=>{h(void 0),b(void 0),s(void 0),d({isTransitioning:!1})})}),as(()=>b(ue));return}p?(m&&m.resolve(),p.skipTransition(),S({state:P,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(s(P),d({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,p,m,I,x]);pe.useLayoutEffect(()=>n.subscribe(y),[n,y]),pe.useEffect(()=>{u.isTransitioning&&!u.flushSync&&h(new Ux)},[u]),pe.useEffect(()=>{if(m&&a&&n.window){let P=a,L=m.promise,B=n.window.document.startViewTransition(async()=>{x(()=>o(P)),await L});B.finished.finally(()=>{h(void 0),b(void 0),s(void 0),d({isTransitioning:!1})}),b(B)}},[x,a,m,n.window]),pe.useEffect(()=>{m&&a&&i.location.key===a.location.key&&m.resolve()},[m,p,i.location,a]),pe.useEffect(()=>{!u.isTransitioning&&g&&(s(g.state),d({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),S(void 0))},[u.isTransitioning,g]),pe.useEffect(()=>{},[]);let O=pe.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,L,B)=>n.navigate(P,{state:L,preventScrollReset:B==null?void 0:B.preventScrollReset}),replace:(P,L,B)=>n.navigate(P,{replace:!0,state:L,preventScrollReset:B==null?void 0:B.preventScrollReset})}),[n]),T=n.basename||"/",k=pe.useMemo(()=>({router:n,navigator:O,static:!1,basename:T}),[n,O,T]);return pe.createElement(pe.Fragment,null,pe.createElement(gc.Provider,{value:k},pe.createElement($w.Provider,{value:i},pe.createElement(jx.Provider,{value:I.current},pe.createElement(Nx.Provider,{value:u},pe.createElement(kx,{basename:T,location:i.location,navigationType:i.historyAction,navigator:O,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?pe.createElement(qx,{routes:n.routes,future:n.future,state:i}):t))))),null)}function qx(e){let{routes:t,future:n,state:r}=e;return px(t,void 0,r,n)}const Kx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uy=pe.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:u,to:d,preventScrollReset:m,unstable_viewTransition:h}=t,p=Ox(t,Tx),{basename:b}=pe.useContext(Do),g,S=!1;if(typeof d=="string"&&Wx.test(d)&&(g=d,Kx))try{let y=new URL(window.location.href),O=d.startsWith("//")?new URL(y.protocol+d):new URL(d),T=Ta(O.pathname,b);O.origin===y.origin&&T!=null?d=T+O.search+O.hash:S=!0}catch{}let I=fx(d,{relative:i}),E=Hx(d,{replace:a,state:s,target:u,preventScrollReset:m,relative:i,unstable_viewTransition:h});function x(y){r&&r(y),y.defaultPrevented||E(y)}return pe.createElement("a",qs({},p,{href:g||I,onClick:S||o?r:x,ref:n,target:u}))});var ly;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ly||(ly={}));var cy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(cy||(cy={}));function Hx(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s}=t===void 0?{}:t,u=dx(),d=_c(),m=qw(e,{relative:a});return pe.useCallback(h=>{if(Dx(h,n)){h.preventDefault();let p=r!==void 0?r:yo(d)===yo(m);u(e,{replace:p,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s})}},[d,u,m,r,i,n,e,o,a,s])}function Vx(){return mt.jsx("div",{style:{display:"flex",gap:"4px"},children:mt.jsxs("ul",{children:[mt.jsx("li",{children:mt.jsx(uy,{to:"/normal",children:"normal ( the way of the default connection signaling service of rxdb. )"})}),mt.jsx("li",{children:mt.jsx(uy,{to:"/shared",children:"shared ( the way of the cache socket )"})})]})})}function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function Qx(e,t){if(Ks(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yx(e){var t=Qx(e,"string");return Ks(t)=="symbol"?t:t+""}function fy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yx(r.key),r)}}function $i(e,t,n){return t&&fy(e.prototype,t),n&&fy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gx(e){return e[e.length-1]}function Ws(e){return Array.isArray(e)?e.slice(0):[e]}function Jx(e,t){e=e.slice(0);for(var n=[];e.length;){var r=e.splice(0,t);n.push(r)}return n}function ca(e){return Array.isArray(e)}function Hw(e){return e!=null}function Mf(e,t){var n=0,r=-1;for(var i of e){r=r+1;var o=t(i,r);if(o)n=n+1;else break}return n}function go(e,t){for(var n=t.length,r=0;r<n;++r){var i=t[r];e.push(i)}}function Xx(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function Sa(e){var t=e.split("-");if(t.length!==2)throw new Error("malformatted revision: "+e);return{height:parseInt(t[0],10),hash:t[1]}}function dy(e){var t=parseInt(e.split("-")[0],10);return t}function ti(e,t){var n=t?t._rev:null,r=n?Sa(n).height:0,i=r+1;return i+"-"+e}function Vw(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==null&&(typeof e[t]=="object"||typeof e[t]=="function")&&!Object.isFrozen(e[t])&&Vw(e[t])}),e}function Zx(e){var t=e.split("."),n=t.length;return n===1?r=>r[e]:r=>{for(var i=r,o=0;o<n;++o){var a=t[o];if(i=i[a],typeof i>"u")return i}return i}}function ah(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(typeof e[n]=="object"){var r=ah(e[n]);for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[n+"."+i]=r[i])}else t[n]=e[n];return t}function ft(e){return Object.assign({},e)}function ek(e){return Object.keys(e)[0]}function $l(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((r,i)=>typeof r=="string"&&typeof i=="string"?r.localeCompare(i):typeof r=="object"?1:-1).map(r=>$l(r,t));if(typeof e=="object"&&!Array.isArray(e)){var n={};return Object.keys(e).sort((r,i)=>r.localeCompare(i)).forEach(r=>{n[r]=$l(e[r],t)}),n}return e}function sh(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),n=t.length;n--;)t[n]=sh(e[n]);return t}var r={};for(var i in e)r[i]=sh(e[i]);return r}var ar=sh;function Ai(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}var Tp=1;function ou(){return{lwt:Tp}}function Er(){return""}function tk(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function nk(e,t,n){if(t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;){var o=t[r],a=n[r];if(r++,o._rev!==a._rev||o[e]!==a[e])return!1}return!0}class Li{constructor(t,n){t=this.words=t||[],this.sigBytes=n===void 0?t.length*4:n}toString(t){return(t||rk).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let n=0;n<t.sigBytes;n++){const r=t.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<t.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=t.words[n>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Li([...this.words])}}const rk={stringify(e){const t=[];for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;t.push((r>>>4).toString(16),(r&15).toString(16))}return t.join("")}},ik={parse(e){const t=e.length,n=[];for(let r=0;r<t;r++)n[r>>>2]|=(e.charCodeAt(r)&255)<<24-r%4*8;return new Li(n,t)}},ok={parse(e){return ik.parse(unescape(encodeURIComponent(e)))}};class ak{constructor(){this._data=new Li,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new Li,this._nDataBytes=0}_append(t){typeof t=="string"&&(t=ok.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,n){}_process(t){let n,r=this._data.sigBytes/(this.blockSize*4);t?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const i=r*this.blockSize,o=Math.min(i*4,this._data.sigBytes);if(i){for(let a=0;a<i;a+=this.blockSize)this._doProcessBlock(this._data.words,a);n=this._data.words.splice(0,i),this._data.sigBytes-=o}return new Li(n,o)}}class sk extends ak{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}}const hy=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],uk=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Qi=[];class lk extends sk{constructor(){super(...arguments),this._hash=new Li([...hy])}reset(){super.reset(),this._hash=new Li([...hy])}_doProcessBlock(t,n){const r=this._hash.words;let i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],d=r[5],m=r[6],h=r[7];for(let p=0;p<64;p++){if(p<16)Qi[p]=t[n+p]|0;else{const y=Qi[p-15],O=(y<<25|y>>>7)^(y<<14|y>>>18)^y>>>3,T=Qi[p-2],k=(T<<15|T>>>17)^(T<<13|T>>>19)^T>>>10;Qi[p]=O+Qi[p-7]+k+Qi[p-16]}const b=u&d^~u&m,g=i&o^i&a^o&a,S=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),I=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),E=h+I+b+uk[p]+Qi[p],x=S+g;h=m,m=d,d=u,u=s+E|0,s=a,a=o,o=i,i=E+x|0}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0,r[5]=r[5]+d|0,r[6]=r[6]+m|0,r[7]=r[7]+h|0}finalize(t){super.finalize(t);const n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function ck(e){return new lk().finalize(e).toString()}function fk(e){return Promise.resolve(ck(e))}async function dk(e){var t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t),r=Array.prototype.map.call(new Uint8Array(n),i=>("00"+i.toString(16)).slice(-2)).join("");return r}var hk=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",pk=hk?dk:fk;function mk(){return new Promise(e=>setTimeout(e,0))}function Qw(e=0){return new Promise(t=>setTimeout(t,e))}function vk(e){return e&&typeof e.then=="function"?e:Promise.resolve(e)}var bc=Promise.resolve(!0),gr=Promise.resolve(!1),yk=Promise.resolve(null),xn=Promise.resolve();function Yw(e=1e4){return typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):Qw(0)}var Nf=xn;function gk(e=void 0){return Nf=Nf.then(()=>Yw(e)),Nf}function wk(e,t){return e.reduce((n,r)=>n.then(r),Promise.resolve(t))}var _k=/\./g,py="abcdefghijklmnopqrstuvwxyz";function Ia(e=10){for(var t="",n=0;n<e;n++)t+=py.charAt(Math.floor(Math.random()*py.length));return t}function Gw(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function Si(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function Jw(e){return!!(e.includes("/")||e.includes("\\"))}function Hs(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Hs(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){var o=i[r];if(!Hs(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}var uh=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},jf=new Set(["__proto__","prototype","constructor"]),bk=new Set("0123456789");function Xw(e){var t=[],n="",r="start",i=!1;for(var o of e)switch(o){case"\\":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");i&&(n+=o),r="property",i=!i;break}case".":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="property";break}if(i){i=!1,n+=o;break}if(jf.has(n))return[];t.push(n),n="",r="property";break}case"[":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="index";break}if(i){i=!1,n+=o;break}if(r==="property"){if(jf.has(n))return[];t.push(n),n=""}r="index";break}case"]":{if(r==="index"){t.push(Number.parseInt(n,10)),n="",r="indexEnd";break}if(r==="indexEnd")throw new Error("Invalid character after an index")}default:{if(r==="index"&&!bk.has(o))throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");r==="start"&&(r="property"),i&&(i=!1,n+="\\"),n+=o}}switch(i&&(n+="\\"),r){case"property":{if(jf.has(n))return[];t.push(n);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function Zw(e,t){if(typeof t!="number"&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function Sk(e,t){if(Zw(e,t))throw new Error("Cannot use string index")}function Ir(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!t.includes(".")&&!t.includes("["))return e[t];if(!uh(e)||typeof t!="string")return n===void 0?e:n;var r=Xw(t);if(r.length===0)return n;for(var i=0;i<r.length;i++){var o=r[i];if(Zw(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function e_(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!uh(e)||typeof t!="string")return e;for(var r=e,i=Xw(t),o=0;o<i.length;o++){var a=i[o];Sk(e,a),o===i.length-1?e[a]=n:uh(e[a])||(e[a]=typeof i[o+1]=="number"?[]:{}),e=e[a]}return r}function wo(e,t){var n=e.get(t);if(typeof n>"u")throw new Error("missing value from map "+t);return n}function Nr(e,t,n,r){var i=e.get(t);return typeof i>"u"?(i=n(),e.set(t,i)):r&&r(i),i}function wt(e){var t=e.split("-"),n="RxDB";return t.forEach(r=>{n+=Gw(r)}),n+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+n+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+n+`);
        `)}function my(e){var t={name:e.name,message:e.message,rxdb:e.rxdb,parameters:e.parameters,code:e.code,stack:e.stack?e.stack.replace(/\n/g,` 
 `):void 0};return t}var Ff=0;function Jt(){var e=Date.now();e=e+.01,e<=Ff&&(e=Ff+.01);var t=parseFloat(e.toFixed(2));return Ff=t,t}function ze(e,t){if(!e)throw t||(t=""),new Error("ensureNotFalsy() is falsy: "+t);return e}var t_={bufferSize:1,refCount:!0},n_="15.18.1";function Vs(e,t){return Vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vs(e,t)}function r_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Vs(e,t)}function lh(e){return lh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lh(e)}function Ek(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function i_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i_=function(){return!!e})()}function Ck(e,t,n){if(i_())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&Vs(i,n.prototype),i}function Ul(e){var t=typeof Map=="function"?new Map:void 0;return Ul=function(r){if(r===null||!Ek(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return Ck(r,arguments,lh(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Vs(i,r)},Ul(e)}var zt={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html
        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=`+e+`
        `}};function xk(e){var t="";return Object.keys(e).length===0||(t+=`Given parameters: {
`,t+=Object.keys(e).map(n=>{var r="[object Object]";try{n==="errors"?r=e[n].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):r=JSON.stringify(e[n],function(i,o){return o===void 0?null:o},2)}catch{}return n+":"+r}).join(`
`),t+="}"),t}function o_(e,t,n){return"RxError ("+t+`):
`+e+`
`+xk(n)}var kk=function(e){function t(r,i,o={}){var a,s=o_(i,r,o);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=o,a.rxdb=!0,a}r_(t,e);var n=t.prototype;return n.toString=function(){return this.message},$i(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(Ul(Error)),Rk=function(e){function t(r,i,o={}){var a,s=o_(i,r,o);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=o,a.rxdb=!0,a}r_(t,e);var n=t.prototype;return n.toString=function(){return this.message},$i(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(Ul(TypeError));function fe(e,t){return new kk(e,zt.tunnelErrorMessage(e),t)}function rr(e,t){return new Rk(e,zt.tunnelErrorMessage(e),t)}function Sc(e){return e&&e.status===409?e:!1}var Ok={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function Pk(e){return fe("COL20",{name:Ok[e.status],document:e.documentId,writeError:e})}var Qs={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Cr(e,t){Qs[e]&&Qs[e].forEach(n=>n(t))}function _o(e,t){return Promise.all(Qs[e].map(n=>n(t)))}function jr(e,t){var n=t;n=n.replace(_k,".properties."),n="properties."+n,n=Si(n);var r=Ir(e,n);return r}function a_(e,t,n){if(typeof t.primaryKey=="string")return n;var r=Ui(t,n),i=n[e];if(i&&i!==r)throw fe("DOC19",{args:{documentData:n,existingPrimary:i,newPrimary:r},schema:t});return n[e]=r,n}function Tn(e){return typeof e=="string"?e:e.key}function Dk(e){var t=Tn(e.primaryKey),n=jr(e,t);return ze(n.maxLength)}function Ui(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var n=e.primaryKey;return n.fields.map(r=>{var i=Ir(t,r);if(typeof i>"u")throw fe("DOC18",{args:{field:r,documentData:t}});return i}).join(n.separator)}function Tk(e){var t=$l(e,!0);return t}function Ik(e){return["_deleted",e]}function Ip(e){e=ft(e);var t=Tn(e.primaryKey);e.properties=ft(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=Ak,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var n=s_(e);go(e.required,n),e.required=e.required.filter(o=>!o.includes(".")).filter((o,a,s)=>s.indexOf(o)===a),e.version=e.version||0;var r=e.indexes.map(o=>{var a=ca(o)?o.slice(0):[o];return a.includes(t)||a.push(t),a[0]!=="_deleted"&&a.unshift("_deleted"),a});r.length===0&&r.push(Ik(t)),r.push(["_meta.lwt",t]),e.internalIndexes&&e.internalIndexes.map(o=>{r.push(o)});var i=new Set;return r.filter(o=>{var a=o.join(",");return i.has(a)?!1:(i.add(a),!0)}),e.indexes=r,e}var Ak={type:"object",properties:{lwt:{type:"number",minimum:Tp,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function s_(e){var t=Object.keys(e.properties).filter(r=>e.properties[r].final),n=Tn(e.primaryKey);return t.push(n),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(r=>t.push(r)),t}function Lk(e,t){for(var n=Object.keys(e.defaultValues),r=0;r<n.length;++r){var i=n[r];(!Object.prototype.hasOwnProperty.call(t,i)||typeof t[i]>"u")&&(t[i]=e.defaultValues[i])}return t}var u_=function(){function e(n,r){this.jsonSchema=n,this.hashFunction=r,this.indexes=Mk(this.jsonSchema),this.primaryPath=Tn(this.jsonSchema.primaryKey),this.finalFields=s_(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(r,i){this.finalFields.forEach(o=>{if(!Hs(r[o],i[o]))throw fe("DOC9",{dataBefore:r,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var r={},i=jr(this.jsonSchema,"");return Object.keys(i).forEach(o=>{var a=o;r.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var s=this.get(a);return s}}),Object.defineProperty(r,o+"$",{get:function(){return this.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"$$",{get:function(){return this.get$$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"_",{get:function(){return this.populate(a)},enumerable:!1,configurable:!1})}),Ai(this,"getDocumentPrototype",()=>r),r},t.getPrimaryOfDocumentData=function(r){return Ui(this.jsonSchema,r)},$i(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.jsonSchema.properties).filter(([,r])=>Object.prototype.hasOwnProperty.call(r,"default")).forEach(([r,i])=>n[r]=i.default),Ai(this,"defaultValues",n)}},{key:"hash",get:function(){return Ai(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function Mk(e){return(e.indexes||[]).map(t=>ca(t)?t:[t])}function Nk(e){var t=e.version?e.version:0,n=0;return new Array(t).fill(0).map(()=>n++)}function jk(e,t,n=!0){n&&Cr("preCreateRxSchema",e);var r=Ip(e);r=Tk(r),zt.deepFreezeWhenDevMode(r);var i=new u_(r,t);return Cr("createRxSchema",i),i}function qt(e){return typeof e=="function"}function Fk(e){return qt(e==null?void 0:e.lift)}function li(e){return function(t){if(Fk(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var ch=function(e,t){return ch=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},ch(e,t)};function Io(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ch(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Bk(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(m){try{d(r.next(m))}catch(h){a(h)}}function u(m){try{d(r.throw(m))}catch(h){a(h)}}function d(m){m.done?o(m.value):i(m.value).then(s,u)}d((r=r.apply(e,t||[])).next())})}function l_(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(m){return u([d,m])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(m){d=[6,m],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ea(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function bo(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function So(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function fa(e){return this instanceof fa?(this.v=e,this):new fa(e)}function $k(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(p){r[p]&&(i[p]=function(b){return new Promise(function(g,S){o.push([p,b,g,S])>1||s(p,b)})})}function s(p,b){try{u(r[p](b))}catch(g){h(o[0][3],g)}}function u(p){p.value instanceof fa?Promise.resolve(p.value.v).then(d,m):h(o[0][2],p)}function d(p){s("next",p)}function m(p){s("throw",p)}function h(p,b){p(b),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Uk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ea=="function"?Ea(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,u){a=e[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(d){o({value:d,done:s})},a)}}var c_=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function f_(e){return qt(e==null?void 0:e.then)}function Ap(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bf=Ap(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function fh(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ec=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Ea(a),u=s.next();!u.done;u=s.next()){var d=u.value;d.remove(this)}}catch(S){t={error:S}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var m=this.initialTeardown;if(qt(m))try{m()}catch(S){o=S instanceof Bf?S.errors:[S]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=Ea(h),b=p.next();!b.done;b=p.next()){var g=b.value;try{vy(g)}catch(S){o=o??[],S instanceof Bf?o=So(So([],bo(o)),bo(S.errors)):o.push(S)}}}catch(S){r={error:S}}finally{try{b&&!b.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(o)throw new Bf(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)vy(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&fh(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&fh(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),d_=Ec.EMPTY;function h_(e){return e instanceof Ec||e&&"closed"in e&&qt(e.remove)&&qt(e.add)&&qt(e.unsubscribe)}function vy(e){qt(e)?e():e.unsubscribe()}var p_={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},m_={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,So([e,t],bo(n)))},clearTimeout:function(e){var t=m_.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function v_(e){m_.setTimeout(function(){throw e})}function yy(){}function fl(e){e()}var Lp=function(e){Io(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,h_(n)&&n.add(r)):r.destination=Wk,r}return t.create=function(n,r,i){return new Ca(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ec),zk=Function.prototype.bind;function $f(e,t){return zk.call(e,t)}var qk=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Gu(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Gu(r)}else Gu(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Gu(n)}},e}(),Ca=function(e){Io(t,e);function t(n,r,i){var o=e.call(this)||this,a;if(qt(n)||!n)a={next:n??void 0,error:r??void 0,complete:i??void 0};else{var s;o&&p_.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return o.unsubscribe()},a={next:n.next&&$f(n.next,s),error:n.error&&$f(n.error,s),complete:n.complete&&$f(n.complete,s)}):a=n}return o.destination=new qk(a),o}return t}(Lp);function Gu(e){v_(e)}function Kk(e){throw e}var Wk={closed:!0,next:yy,error:Kk,complete:yy},Mp=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function au(e){return e}function Hk(e){return e.length===0?au:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var zn=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=Qk(t)?t:new Ca(t,n,r);return fl(function(){var a=i,s=a.operator,u=a.source;o.add(s?s.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=gy(n),new n(function(i,o){var a=new Ca({next:function(s){try{t(s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Mp]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Hk(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=gy(t),new t(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function gy(e){var t;return(t=e??p_.Promise)!==null&&t!==void 0?t:Promise}function Vk(e){return e&&qt(e.next)&&qt(e.error)&&qt(e.complete)}function Qk(e){return e&&e instanceof Lp||Vk(e)&&h_(e)}function y_(e){return qt(e[Mp])}function g_(e){return Symbol.asyncIterator&&qt(e==null?void 0:e[Symbol.asyncIterator])}function w_(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Yk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var __=Yk();function b_(e){return qt(e==null?void 0:e[__])}function S_(e){return $k(this,arguments,function(){var n,r,i,o;return l_(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,fa(n.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,fa(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,fa(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function E_(e){return qt(e==null?void 0:e.getReader)}function zi(e){if(e instanceof zn)return e;if(e!=null){if(y_(e))return Gk(e);if(c_(e))return Jk(e);if(f_(e))return Xk(e);if(g_(e))return C_(e);if(b_(e))return Zk(e);if(E_(e))return eR(e)}throw w_(e)}function Gk(e){return new zn(function(t){var n=e[Mp]();if(qt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jk(e){return new zn(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Xk(e){return new zn(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,v_)})}function Zk(e){return new zn(function(t){var n,r;try{for(var i=Ea(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function C_(e){return new zn(function(t){tR(e,t).catch(function(n){return t.error(n)})})}function eR(e){return C_(S_(e))}function tR(e,t){var n,r,i,o;return Bk(this,void 0,void 0,function(){var a,s;return l_(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Uk(e),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Eo(e,t,n,r,i){return new nR(e,t,n,r,i)}var nR=function(e){Io(t,e);function t(n,r,i,o,a,s){var u=e.call(this,n)||this;return u.onFinalize=a,u.shouldUnsubscribe=s,u._next=r?function(d){try{r(d)}catch(m){n.error(m)}}:e.prototype._next,u._error=o?function(d){try{o(d)}catch(m){n.error(m)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=i?function(){try{i()}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Lp),x_={now:function(){return(x_.delegate||Date).now()},delegate:void 0};function rR(e){return e&&qt(e.schedule)}function Np(e){return e[e.length-1]}function iR(e){return qt(Np(e))?e.pop():void 0}function su(e){return rR(Np(e))?e.pop():void 0}function k_(e,t){return typeof Np(e)=="number"?e.pop():t}function Yr(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}var oR=Array.isArray,aR=Object.getPrototypeOf,sR=Object.prototype,uR=Object.keys;function lR(e){if(e.length===1){var t=e[0];if(oR(t))return{args:t,keys:null};if(cR(t)){var n=uR(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function cR(e){return e&&typeof e=="object"&&aR(e)===sR}function R_(e,t){return t===void 0&&(t=0),li(function(n,r){n.subscribe(Eo(r,function(i){return Yr(r,e,function(){return r.next(i)},t)},function(){return Yr(r,e,function(){return r.complete()},t)},function(i){return Yr(r,e,function(){return r.error(i)},t)}))})}function O_(e,t){return t===void 0&&(t=0),li(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function fR(e,t){return zi(e).pipe(O_(t),R_(t))}function dR(e,t){return zi(e).pipe(O_(t),R_(t))}function hR(e,t){return new zn(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function pR(e,t){return new zn(function(n){var r;return Yr(n,t,function(){r=e[__](),Yr(n,t,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(s){n.error(s);return}a?n.complete():n.next(o)},0,!0)}),function(){return qt(r==null?void 0:r.return)&&r.return()}})}function P_(e,t){if(!e)throw new Error("Iterable cannot be null");return new zn(function(n){Yr(n,t,function(){var r=e[Symbol.asyncIterator]();Yr(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function mR(e,t){return P_(S_(e),t)}function vR(e,t){if(e!=null){if(y_(e))return fR(e,t);if(c_(e))return hR(e,t);if(f_(e))return dR(e,t);if(g_(e))return P_(e,t);if(b_(e))return pR(e,t);if(E_(e))return mR(e,t)}throw w_(e)}function uu(e,t){return t?vR(e,t):zi(e)}function wr(e,t){return li(function(n,r){var i=0;n.subscribe(Eo(r,function(o){r.next(e.call(t,o,i++))}))})}var yR=Array.isArray;function gR(e,t){return yR(t)?e.apply(void 0,So([],bo(t))):e(t)}function wR(e){return wr(function(t){return gR(e,t)})}function _R(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}function D_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=su(e),r=iR(e),i=lR(e),o=i.args,a=i.keys;if(o.length===0)return uu([],n);var s=new zn(bR(o,n,a?function(u){return _R(a,u)}:au));return r?s.pipe(wR(r)):s}function bR(e,t,n){return n===void 0&&(n=au),function(r){wy(t,function(){for(var i=e.length,o=new Array(i),a=i,s=i,u=function(m){wy(t,function(){var h=uu(e[m],t),p=!1;h.subscribe(Eo(r,function(b){o[m]=b,p||(p=!0,s--),s||r.next(n(o.slice()))},function(){--a||r.complete()}))},r)},d=0;d<i;d++)u(d)},r)}}function wy(e,t,n){e?Yr(n,e,t):t()}function SR(e,t,n,r,i,o,a,s){var u=[],d=0,m=0,h=!1,p=function(){h&&!u.length&&!d&&t.complete()},b=function(S){return d<r?g(S):u.push(S)},g=function(S){o&&t.next(S),d++;var I=!1;zi(n(S,m++)).subscribe(Eo(t,function(E){i==null||i(E),o?b(E):t.next(E)},function(){I=!0},void 0,function(){if(I)try{d--;for(var E=function(){var x=u.shift();a?Yr(t,a,function(){return g(x)}):g(x)};u.length&&d<r;)E();p()}catch(x){t.error(x)}}))};return e.subscribe(Eo(t,b,function(){h=!0,p()})),function(){s==null||s()}}function qi(e,t,n){return n===void 0&&(n=1/0),qt(t)?qi(function(r,i){return wr(function(o,a){return t(r,o,i,a)})(zi(e(r,i)))},n):(typeof t=="number"&&(n=t),li(function(r,i){return SR(r,i,e,n)}))}var ER=Array.isArray;function CR(e){return e.length===1&&ER(e[0])?e[0]:e}function jp(e){return e===void 0&&(e=1/0),qi(au,e)}function xR(){return jp(1)}var kR=Ap(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Lt=function(e){Io(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new _y(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new kR},t.prototype.next=function(n){var r=this;fl(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Ea(r.currentObservers),s=a.next();!s.done;s=a.next()){var u=s.value;u.next(n)}}catch(d){i={error:d}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;fl(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;fl(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?d_:(this.currentObservers=null,s.push(n),new Ec(function(){r.currentObservers=null,fh(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,a=r.isStopped;i?n.error(o):a&&n.complete()},t.prototype.asObservable=function(){var n=new zn;return n.source=this,n},t.create=function(n,r){return new _y(n,r)},t}(zn),_y=function(e){Io(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:d_},t}(Lt);function by(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return xR()(uu(e,su(e)))}var RR=new zn(function(e){return e.complete()});function dh(e,t){return t===void 0&&(t=au),e=e??OR,li(function(n,r){var i,o=!0;n.subscribe(Eo(r,function(a){var s=t(a);(o||!e(i,s))&&(o=!1,i=s,r.next(a))}))})}function OR(e,t){return e===t}function vt(e,t){return li(function(n,r){var i=0;n.subscribe(Eo(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}var PR=Ap(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function DR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=su(e),r=k_(e,1/0);return e=CR(e),li(function(i,o){jp(r)(uu(So([i],bo(e)),n)).subscribe(o)})}function TR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return DR.apply(void 0,So([],bo(e)))}var Kr=function(e){Io(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Lt),IR=function(e){Io(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=x_);var o=e.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return t.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,a=r._infiniteTimeWindow,s=r._timestampProvider,u=r._windowTime;i||(o.push(n),!a&&o.push(s.now()+u)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),u=0;u<s.length&&!n.closed;u+=o?1:2)n.next(s[u]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,a=n._infiniteTimeWindow,s=(a?1:2)*r;if(r<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var u=i.now(),d=0,m=1;m<o.length&&o[m]<=u;m+=2)d=m;d&&o.splice(0,d+1)}},t}(Lt);function AR(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Lt}:t,r=e.resetOnError,i=r===void 0?!0:r,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,u=s===void 0?!0:s;return function(d){var m,h,p,b=0,g=!1,S=!1,I=function(){h==null||h.unsubscribe(),h=void 0},E=function(){I(),m=p=void 0,g=S=!1},x=function(){var y=m;E(),y==null||y.unsubscribe()};return li(function(y,O){b++,!S&&!g&&I();var T=p=p??n();O.add(function(){b--,b===0&&!S&&!g&&(h=Uf(x,u))}),T.subscribe(O),!m&&b>0&&(m=new Ca({next:function(k){return T.next(k)},error:function(k){S=!0,I(),h=Uf(E,i,k),T.error(k)},complete:function(){g=!0,I(),h=Uf(E,a),T.complete()}}),zi(y).subscribe(m))})(d)}}function Uf(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new Ca({next:function(){i.unsubscribe(),e()}});return zi(t.apply(void 0,So([],bo(n)))).subscribe(i)}}function T_(e,t,n){var r,i,o,a,s=!1;return e&&typeof e=="object"?(r=e.bufferSize,a=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,n=e.scheduler):a=e??1/0,AR({connector:function(){return new IR(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function I_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=su(e);return li(function(r,i){(n?by(e,r,n):by(e,r)).subscribe(i)})}function A_(e){return e.documentData?e.documentData:e.previousDocumentData}function LR(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:zt.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function Co(e,t){var n=typeof t=="object";return new Promise(function(r,i){var o=new Ca({next:function(a){r(a),o.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new PR)}});e.subscribe(o)})}function MR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=su(e),r=k_(e,1/0),i=e;return i.length?i.length===1?zi(i[0]):jp(r)(uu(i,n)):RR}function Fp(e){return e[e.length-1]}function NR(e){const t=typeof e;return e!==null&&(t==="object"||t==="function")}function Sy(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!NR(e)||typeof t!="string")return n===void 0?e:n;const r=t.split(".");if(r.length===0)return n;for(let i=0;i<r.length;i++){const o=r[i];if(jR(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function jR(e,t){if(typeof t!="number"&&Array.isArray(e)){const n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}const L_=e=>!!e.queryParams.limit,FR=e=>e.queryParams.limit===1,BR=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),$R=e=>e.changeEvent.operation==="DELETE",UR=e=>e.changeEvent.operation==="INSERT",zR=e=>e.changeEvent.operation==="UPDATE",qR=e=>L_(e)&&e.previousResults.length>=e.queryParams.limit,KR=e=>{const t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n)return!0;for(let i=0;i<t.length;i++){const o=t[i],a=Sy(n,o),s=Sy(r,o);if(a!==s)return!0}return!1},WR=e=>{const t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{const n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===t)return!0;return!1}},HR=e=>{const t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},VR=e=>{const t=Fp(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},QR=e=>{const t=e.changeEvent.previous;if(!t)return!1;const n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},YR=e=>{const t=e.changeEvent.previous;if(!t)return!1;const n=Fp(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},GR=e=>{const t=e.changeEvent.doc;if(!t)return!1;const n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},JR=e=>{const t=e.changeEvent.doc;if(!t)return!1;const n=Fp(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},XR=e=>{const t=e.changeEvent.previous;return t?e.queryParams.queryMatcher(t):!1},ZR=e=>{const t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},eO=e=>e.previousResults.length===0,tO={0:UR,1:zR,2:$R,3:L_,4:FR,5:BR,6:eO,7:qR,8:HR,9:VR,10:KR,11:WR,12:QR,13:YR,14:GR,15:JR,16:XR,17:ZR};function nO(e,t,n,r){var i=e.length,o=i-1,a=0;if(i===0)return e.push(t),0;for(var s;r<=o;)a=r+(o-r>>1),s=e[a],n(s,t)<=0?r=a+1:o=a-1;return n(s,t)<=0&&a++,e.splice(a,0,t),a}const rO=e=>{},Bp=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},$p=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Up=e=>{const t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},zp=e=>{const t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},iO=e=>{Up(e),$p(e)},oO=e=>{zp(e),Bp(e)},aO=e=>{Up(e),Bp(e)},sO=e=>{zp(e),$p(e)},M_=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);const t=e.queryParams.primaryKey,n=e.previousResults;for(let r=0;r<n.length;r++)if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}},uO=e=>{const t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===e.changeEvent.id){r[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},lO=e=>{const t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},N_=e=>{const t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else if(e.previousResults.find(i=>i[e.queryParams.primaryKey]===t))return;nO(e.previousResults,n,e.queryParams.sortComparator,0)},cO=e=>{M_(e),N_(e)},fO=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},dO=e=>{throw new Error("Action unknownAction should never be called")},hO=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],pO={doNothing:rO,insertFirst:Bp,insertLast:$p,removeFirstItem:Up,removeLastItem:zp,removeFirstInsertLast:iO,removeLastInsertFirst:oO,removeFirstInsertFirst:aO,removeLastInsertLast:sO,removeExisting:M_,replaceExisting:uO,alwaysWrong:lO,insertAtSortPosition:N_,removeExistingAndInsertAtSortPosition:cO,runFullQueryAgain:fO,unknownAction:dO},mO=40;function zf(e){return e.charCodeAt(0)-mO}function vO(e){return e?"1":"0"}function Ey(e,t){const n=[];for(let r=0,i=e.length;r<i;r+=t)n.push(e.substring(r,r+t));return n}function yO(e){const t=new Map,r=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,i=e.substring(2,r),o=Ey(i,2);for(let S=0;S<o.length;S++){const I=o[S],E=I.charAt(0),x=zf(I.charAt(1));t.set(E,x)}const a=e.substring(r,e.length-3),s=Ey(a,4);for(let S=0;S<s.length;S++){const I=s[S],E=I.charAt(0),x=I.charAt(1),y=I.charAt(2),O=zf(I.charAt(3));if(!t.has(x))throw new Error("missing node with id "+x);if(!t.has(y))throw new Error("missing node with id "+y);const T=t.get(x),k=t.get(y),P={l:O,0:T,1:k};t.set(E,P)}const u=e.slice(-3),d=u.charAt(0),m=u.charAt(1),h=zf(u.charAt(2)),p=t.get(d),b=t.get(m);return{l:h,0:p,1:b}}function gO(e,t,n){let r=e,i=e.l;for(;;){const o=t[i](n),a=vO(o);if(r=r[a],typeof r=="number"||typeof r=="string")return r;i=r.l}}const wO="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9ae9¡bf9¢bq9£cg9¤ck9¥cn9¦nd9§np9¨nq9©nf9ªng9«nm9¬nk9­mr9®ms9¯mt9°mj9±mk9²ml9³mn9´mc8µ³{8¶¯}8·°¤8¸³§8¹mn8º³«8»³m8¼m´4½z²4¾³w4¿zµ4À¯¶4Á°·4Â³º4Ã³¸4Äm¹4Åv¤7Æyn7ÇÀÁ7È~7É¥¤7ÊÃÄ7Ë¨n7Ìº¹7Í­°7Î®m7Ï¯°7Ð±m7Ñ³m7Ò¼m5ÓÄm5Ô¹m5Õ½°5Ö¾m5×¿°5ØÇÏ5ÙÂm5ÚÊÑ5Û±m5Üºm5ÝÌÑ5ÞÕÍ2ß|2à¡u2á£Å2âÖÎ2ã¦Æ2ä©x2åªÆ2æ×Ø2ç|È2è¡¢2é£É2ê¤¥2ëÙÚ2ì¦Ë2í©n2îªn2ïÛÐ2ðÜÝ2ñ¬n2òÒÓ/óan/ôbn/õcn/öÞâ/÷ßã/øàä/ùáå/úæë/ûçì/üèí/ýéî/þÍÎ/ÿÏÑ/ĀòÔ,ācn,Ăöï,ă¤ñ,Ąúð,ąêñ,ĆþÐ,ćÿÑ,Ĉac0ĉbc0Ċóõ0ċôā0Čßá0čà¤0Ďçé0ďèê0Đ÷ù0đøă0Ēûý0ēüą0ĔmÒ-ĕmĀ-ĖÞæ-ėČĎ-Ęčď-ęĂĄ-ĚĐĒ-ěđē-Ĝ²»-ĝÍÏ-ĞĆć-ğ²³-ĠĔĈ3ġĕĊ3ĢĖė3ģęĚ3ĤĢĝ(ĥĜğ(ĦģĞ(ħĠġ+Ĩĉċ+ĩĤĦ+ĪĘě+īħĨ1ĬĩĪ1ĭĬī*Įĥm*ĭĮ.";let qf;function _O(){return qf||(qf=yO(wO)),qf}const bO=e=>gO(_O(),tO,e);function SO(e){const t=bO(e);return hO[t]}function EO(e,t,n,r,i){const o=pO[e];return o({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:i}),r}var da="￿",ha=Number.MIN_SAFE_INTEGER;function CO(e,t){var n=t.selector,r=e.indexes?e.indexes.slice(0):[];t.index&&(r=[t.index]);var i=!!t.sort.find(m=>Object.values(m)[0]==="desc"),o=new Set;Object.keys(n).forEach(m=>{var h=jr(e,m);h&&h.type==="boolean"&&Object.prototype.hasOwnProperty.call(n[m],"$eq")&&o.add(m)});var a=t.sort.map(m=>Object.keys(m)[0]),s=a.filter(m=>!o.has(m)).join(","),u=-1,d;if(r.forEach(m=>{var h=!0,p=!0,b=m.map(x=>{var y=n[x],O=y?Object.keys(y):[],T={};if(!y||!O.length){var k=p?ha:da;T={startKey:k,endKey:h?da:ha,inclusiveStart:!0,inclusiveEnd:!0}}else O.forEach(P=>{if(qp.has(P)){var L=y[P],B=OO(P,L);T=Object.assign(T,B)}});return typeof T.startKey>"u"&&(T.startKey=ha),typeof T.endKey>"u"&&(T.endKey=da),typeof T.inclusiveStart>"u"&&(T.inclusiveStart=!0),typeof T.inclusiveEnd>"u"&&(T.inclusiveEnd=!0),p&&!T.inclusiveStart&&(p=!1),h&&!T.inclusiveEnd&&(h=!1),T}),g=b.map(x=>x.startKey),S=b.map(x=>x.endKey),I={index:m,startKeys:g,endKeys:S,inclusiveEnd:h,inclusiveStart:p,sortSatisfiedByIndex:!i&&s===m.filter(x=>!o.has(x)).join(","),selectorSatisfiedByIndex:RO(m,t.selector,g,S)},E=PO(e,t,I);(E>=u||t.index)&&(u=E,d=I)}),!d)throw fe("SNH",{query:t});return d}var qp=new Set(["$eq","$gt","$gte","$lt","$lte"]),xO=new Set(["$eq","$gt","$gte"]),kO=new Set(["$eq","$lt","$lte"]);function RO(e,t,n,r){var i=Object.entries(t),o=i.find(([P,L])=>{if(!e.includes(P))return!0;var B=Object.entries(L).find(([N,F])=>!qp.has(N));return B});if(o||t.$and||t.$or)return!1;var a=[],s=new Set;for(var[u,d]of Object.entries(t)){if(!e.includes(u))return!1;var m=Object.keys(d).filter(P=>xO.has(P));if(m.length>1)return!1;var h=m[0];if(h&&s.add(u),h!=="$eq"){if(a.length>0)return!1;a.push(h)}}var p=[],b=new Set;for(var[g,S]of Object.entries(t)){if(!e.includes(g))return!1;var I=Object.keys(S).filter(P=>kO.has(P));if(I.length>1)return!1;var E=I[0];if(E&&b.add(g),E!=="$eq"){if(p.length>0)return!1;p.push(E)}}var x=0;for(var y of e){for(var O of[s,b]){if(!O.has(y)&&O.size>0)return!1;O.delete(y)}var T=n[x],k=r[x];if(T!==k&&s.size>0&&b.size>0)return!1;x++}return!0}function OO(e,t){switch(e){case"$eq":return{startKey:t,endKey:t,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:t,inclusiveEnd:!0};case"$gte":return{startKey:t,inclusiveStart:!0};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function PO(e,t,n){var r=0,i=m=>{m>0&&(r=r+m)},o=10,a=Mf(n.startKeys,m=>m!==ha&&m!==da);i(a*o);var s=Mf(n.startKeys,m=>m!==da&&m!==ha);i(s*o);var u=Mf(n.startKeys,(m,h)=>m===n.endKeys[h]);i(u*o*1.5);var d=n.sortSatisfiedByIndex?5:0;return i(d),r}class Ao extends Error{}const DO=2147483647,TO=-2147483648,IO=Number.MAX_SAFE_INTEGER,AO=Number.MIN_SAFE_INTEGER,ni=Symbol("missing"),j_=Object.freeze(new Error("mingo: cycle detected while processing object/array")),LO=Object.getPrototypeOf([]),F_=Object.getPrototypeOf({}),MO="[object Object]",NO=/^\[object ([a-zA-Z0-9]+)\]$/;class Kp{}class Wp{}const xo=e=>e===null?Kp:e===void 0?Wp:e.constructor,lu=e=>{const t=zO(e);let n=0,r=t.length;for(;r;)n=(n<<5)-n^t.charCodeAt(--r);return n>>>0},B_=new Set(["null","undefined","boolean","number","string","date","regexp"]),Cy=new Set([Wp,Kp,Boolean,String,Number]),ss=e=>e.toString(),hr=e=>`${xo(e).name}[${e.toString()}]`,ko=new Map([[Number,ss],[Boolean,ss],[RegExp,ss],[Function,ss],[Symbol,ss],[Date,e=>e.toISOString()],[String,JSON.stringify],[Kp,e=>"null"],[Wp,e=>"undefined"],[Int8Array,hr],[Uint8Array,hr],[Uint8ClampedArray,hr],[Int16Array,hr],[Uint16Array,hr],[Int32Array,hr],[Uint32Array,hr],[Float32Array,hr],[Float64Array,hr]]);typeof BigInt<"u"&&ko.set(BigInt,e=>"0x"+e.toString(16));typeof BigInt64Array<"u"&&ko.set(BigInt64Array,hr);typeof BigUint64Array<"u"&&ko.set(BigUint64Array,hr);const jO={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Dn=(e,t)=>{e===ni&&(e=void 0),t===ni&&(t=void 0);const[n,r]=[e,t].map(i=>jO[Ys(i).toLowerCase()]);return n!==r?n-r:n===1||n===2||n===6?e<t?-1:e>t?1:0:ii(e,t)?0:e<t?-1:e>t?1:0};function Kt(e,t){if(!e)throw new Ao(t)}const FO=e=>{const t=Object.getPrototypeOf(xo(e));return t&&t.name==="TypedArray"},hh=e=>{if(Cy.has(xo(e)))return e;const t=new Set,n=r=>{if(t.has(r))throw j_;const i=xo(r);if(Cy.has(i))return r;try{if(Wt(r))return t.add(r),r.map(n);if(kt(r)){t.add(r);const o={};for(const a in r)o[a]=n(r[a]);return o}}finally{t.delete(r)}return i===Date||i===RegExp||FO(r)?new i(r):r};return n(e)},Ys=e=>NO.exec(Object.prototype.toString.call(e))[1],Kf=e=>typeof e=="boolean",ri=e=>typeof e=="string",jn=e=>!isNaN(e)&&typeof e=="number",Wt=Array.isArray,kt=e=>{if(!e)return!1;const t=Object.getPrototypeOf(e);return(t===F_||t===null)&&MO===Object.prototype.toString.call(e)},Cc=e=>e===Object(e),ph=e=>e instanceof Date,dl=e=>e instanceof RegExp,cu=e=>typeof e=="function",hn=e=>e==null,xa=(e,t)=>e.includes(t),$_=(e,t)=>!xa(e,t),ka=(e,t=!0)=>!!e||t&&e==="",Aa=e=>hn(e)||ri(e)&&!e||e instanceof Array&&e.length===0||kt(e)&&Object.keys(e).length===0,xy=e=>e===ni,La=e=>e instanceof Array?e:[e],$n=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),BO=(e,t)=>kt(e)&&kt(t)||Wt(e)&&Wt(t);function mh(e,t,n){if(n=n||{flatten:!1},xy(e)||hn(e))return t;if(xy(t)||hn(t))return e;if(!BO(e,t)){if(n.skipValidation)return t||e;throw Error("mismatched types. must both be array or object")}if(n.skipValidation=!0,Wt(e)){const r=e,i=t;if(n.flatten){let o=0,a=0;for(;o<r.length&&a<i.length;)r[o]=mh(r[o++],i[a++],n);for(;a<i.length;)r.push(t[a++])}else fu(r,i)}else for(const r in t)e[r]=mh(e[r],t[r],n);return e}function vh(e,t=lu){const n=new Map;return e.forEach((r,i)=>{const o=z_(r,t);n.has(o)?n.get(o).some(a=>ii(e[a],r))||n.get(o).push(i):n.set(o,[i])}),n}function Hp(e,t=lu){if(e.some(s=>s.length==0))return[];if(e.length===1)return Array.from(e);const n=qO(e.map((s,u)=>[u,s.length]),s=>s[1]),r=e[n[0][0]],i=vh(r,t),o=new Map,a=new Array;return i.forEach((s,u)=>{const d=s.map(b=>r[b]),m=d.map(b=>0),h=d.map(b=>[n[0][0],0]);let p=!1;for(let b=1;b<e.length;b++){const[g,S]=n[b],I=e[g];if(o.has(b)||o.set(b,vh(I)),o.get(b).has(u)){const E=o.get(b).get(u).map(x=>I[x]);p=d.map((x,y)=>E.some((O,T)=>{const k=m[y];return ii(x,O)&&(m[y]++,g<h[y][0]&&(h[y]=[g,o.get(b).get(u)[T]])),k<m[y]})).some(Boolean)}if(!p)return}p&&fu(a,m.map((b,g)=>b===e.length-1?[d[g],h[g]]:ni).filter(b=>b!==ni))}),a.sort((s,u)=>{const[d,[m,h]]=s,[p,[b,g]]=u,S=Dn(m,b);return S!==0?S:Dn(h,g)}).map(s=>s[0])}function U_(e,t=0){const n=new Array;function r(i,o){for(let a=0,s=i.length;a<s;a++)Wt(i[a])&&(o>0||o<0)?r(i[a],Math.max(-1,o-1)):n.push(i[a])}return r(e,t),n}const $O=e=>{let[t,n]=[Object.getPrototypeOf(e),Object.getOwnPropertyNames(e)],r=t;for(;!n.length&&t!==F_&&t!==LO;)r=t,n=Object.getOwnPropertyNames(t),t=Object.getPrototypeOf(t);const i={};return n.forEach(o=>i[o]=e[o]),[i,r]};function ii(e,t){const n=[[e,t]];for(;n.length>0;){if([e,t]=n.pop(),e===t)continue;const r=xo(e);if(r!==xo(t)||cu(e))return!1;if(ko.has(r)){const i=ko.get(r);if(i(e)!==i(t))return!1;continue}if(r===Array||r===Object){const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length||new Set(i.concat(o)).size!=i.length)return!1;for(const a of i)n.push([e[a],t[a]]);continue}return!1}return!n.length}function UO(e,t=lu){const n=e.map(r=>ni);return vh(e,t).forEach((r,i)=>{r.forEach(o=>n[o]=e[o])}),n.filter(r=>r!==ni)}function zO(e){const t=new Set,n=r=>{const i=xo(r);if(ko.has(i))return ko.get(i)(r);const o=i===Object?"":i.name;if(cu(r.toJSON))return`${o}(${JSON.stringify(r)})`;if(t.has(r))throw j_;t.add(r);try{if(i===Array)return"["+r.map(n).join(",")+"]";if(i!==Object){const[s,u]=$O(r);if(Wt(r))return`${o}${n([...r,s])}`;r=s}const a=Object.keys(r);return a.sort(),`${o}{`+a.map(s=>`${s}:${n(r[s])}`).join(",")+"}"}finally{t.delete(r)}};return n(e)}function z_(e,t){return t=t||lu,hn(e)?null:t(e).toString()}function qO(e,t,n=Dn){if(Aa(e))return e;const r=new Array,i=new Array;for(let o=0;o<e.length;o++){const a=e[o],s=t(a,o);hn(s)?i.push(a):r.push([s,a])}return r.sort((o,a)=>n(o[0],a[0])),fu(i,r.map(o=>o[1]))}function KO(e,t,n=lu){if(e.length<1)return new Map;const r=new Map,i=new Map;for(let o=0;o<e.length;o++){const a=e[o],s=t(a,o),u=z_(s,n);if(u===null)i.has(null)?i.get(null).push(a):i.set(null,[a]);else{const d=r.has(u)?r.get(u).find(m=>ii(m,s)):null;hn(d)?(i.set(s,[a]),r.has(u)?r.get(u).push(s):r.set(u,[s])):i.get(d).push(a)}}return i}const Wf=5e4;function fu(e,...t){return e instanceof Array?t.reduce((n,r)=>{let i=Math.ceil(r.length/Wf),o=0;for(;i-- >0;)Array.prototype.push.apply(n,r.slice(o,o+Wf)),o+=Wf;return n},e):t.filter(Cc).reduce((n,r)=>(Object.assign(n,r),n),e)}function yh(e,t){return Cc(e)?e[t]:void 0}function WO(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function Ma(e,t,n){let r=0;function i(a,s){let u=a;for(let d=0;d<s.length;d++){const m=s[d];if(/^\d+$/.exec(m)===null&&u instanceof Array){if(d===0&&r>0)break;r+=1;const p=s.slice(d);u=u.reduce((b,g)=>{const S=i(g,p);return S!==void 0&&b.push(S),b},[]);break}else u=yh(u,m);if(u===void 0)break}return u}const o=B_.has(Ys(e).toLowerCase())?e:i(e,t.split("."));return o instanceof Array&&(n!=null&&n.unwrapArray)?WO(o,r):o}function hl(e,t,n){const r=t.split("."),i=r[0],o=r.slice(1).join("."),a=/^\d+$/.exec(i)!==null,s=r.length>1;let u,d;if(e instanceof Array)if(a)u=yh(e,Number(i)),s&&(u=hl(u,o,n)),u=[u];else{u=[];for(const m of e)d=hl(m,t,n),n!=null&&n.preserveMissing?(d===void 0&&(d=ni),u.push(d)):d!==void 0&&u.push(d)}else{if(d=yh(e,i),s&&(d=hl(d,o,n)),d===void 0)return;u=n!=null&&n.preserveKeys?Object.assign({},e):{},u[i]=d}return u}function gh(e){if(e instanceof Array)for(let t=e.length-1;t>=0;t--)e[t]===ni?e.splice(t,1):gh(e[t]);else if(kt(e))for(const t in e)$n(e,t)&&gh(e[t])}const ky=/^\d+$/;function Gs(e,t,n,r){const i=t.split("."),o=i[0],a=i.slice(1).join(".");if(i.length===1)(kt(e)||Wt(e)&&ky.test(o))&&n(e,o);else{r!=null&&r.buildGraph&&hn(e[o])&&(e[o]={});const s=e[o];if(!s)return;const u=!!(i.length>1&&ky.test(i[1]));s instanceof Array&&(r!=null&&r.descendArray)&&!u?s.forEach(d=>Gs(d,a,n,r)):Gs(s,a,n,r)}}function HO(e,t,n){Gs(e,t,(r,i)=>{r[i]=cu(n)?n(r[i]):n},{buildGraph:!0})}function Ry(e,t,n){Gs(e,t,(r,i)=>{if(r instanceof Array){if(/^\d+$/.test(i))r.splice(parseInt(i),1);else if(n&&n.descendArray)for(const o of r)kt(o)&&delete o[i]}else kt(r)&&delete r[i]},n)}const VO=/^\$[a-zA-Z0-9_]+$/;function Lo(e){return VO.test(e)}function q_(e){if(B_.has(Ys(e).toLowerCase()))return dl(e)?{$regex:e}:{$eq:e};if(Cc(e)){if(!Object.keys(e).some(Lo))return{$eq:e};if($n(e,"$regex")){const n=Object.assign({},e);return n.$regex=new RegExp(e.$regex,e.$options),delete n.$options,n}}return e}var Ei;(function(e){e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF"})(Ei||(Ei={}));class so{constructor(t,n,r,i=Date.now()){this._opts=t,this._root=n,this._local=r,this.timestamp=i,this.update(n,r)}static init(t,n,r){return t instanceof so?new so(t._opts,hn(t.root)?n:t.root,Object.assign({},t.local,r)):new so(t,n,r)}update(t,n){var r;return this._root=t,this._local=n&&Object.assign({},n,{variables:Object.assign({},(r=this._local)===null||r===void 0?void 0:r.variables,n==null?void 0:n.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:Ro.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collation}get processingMode(){var t;return((t=this._opts)===null||t===void 0?void 0:t.processingMode)||Ei.CLONE_OFF}get useStrictMode(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useStrictMode}get scriptEnabled(){var t;return(t=this._opts)===null||t===void 0?void 0:t.scriptEnabled}get useGlobalContext(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useGlobalContext}get hashFunction(){var t;return(t=this._opts)===null||t===void 0?void 0:t.hashFunction}get collectionResolver(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collectionResolver}get jsonSchemaValidator(){var t;return(t=this._opts)===null||t===void 0?void 0:t.jsonSchemaValidator}get variables(){var t;return(t=this._opts)===null||t===void 0?void 0:t.variables}get context(){var t;return(t=this._opts)===null||t===void 0?void 0:t.context}}function zl(e){return e instanceof so?e.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:Ei.CLONE_OFF},e),{context:e!=null&&e.context?Ro.from(e==null?void 0:e.context):Ro.init({})}))}var dt;(function(e){e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window"})(dt||(dt={}));class Ro{constructor(t){this.operators={[dt.ACCUMULATOR]:{},[dt.EXPRESSION]:{},[dt.PIPELINE]:{},[dt.PROJECTION]:{},[dt.QUERY]:{},[dt.WINDOW]:{}};for(const[n,r]of Object.entries(t))this.addOperators(n,r)}static init(t={}){return new Ro(t)}static from(t){return new Ro(t.operators)}addOperators(t,n){for(const[r,i]of Object.entries(n))this.getOperator(t,r)||(this.operators[t][r]=i);return this}addAccumulatorOps(t){return this.addOperators(dt.ACCUMULATOR,t)}addExpressionOps(t){return this.addOperators(dt.EXPRESSION,t)}addQueryOps(t){return this.addOperators(dt.QUERY,t)}addPipelineOps(t){return this.addOperators(dt.PIPELINE,t)}addProjectionOps(t){return this.addOperators(dt.PROJECTION,t)}addWindowOps(t){return this.addOperators(dt.WINDOW,t)}getOperator(t,n){return t in this.operators&&this.operators[t][n]||null}}const Xi=Ro.init();function Oy(e,t){for(const[n,r]of Object.entries(t)){Kt(cu(r)&&Lo(n),`'${n}' is not a valid operator`);const i=uo(e,n,null);Kt(!i||r===i,`${n} already exists for '${e}' operators. Cannot change operator function once registered.`)}switch(e){case dt.ACCUMULATOR:Xi.addAccumulatorOps(t);break;case dt.EXPRESSION:Xi.addExpressionOps(t);break;case dt.PIPELINE:Xi.addPipelineOps(t);break;case dt.PROJECTION:Xi.addProjectionOps(t);break;case dt.QUERY:Xi.addQueryOps(t);break;case dt.WINDOW:Xi.addWindowOps(t);break}}function uo(e,t,n){const{context:r,useGlobalContext:i}=n||{},o=r?r.getOperator(e,t):null;return!o&&i?Xi.getOperator(e,t):o}const Py={$$ROOT(e,t,n){return n.root},$$CURRENT(e,t,n){return e},$$REMOVE(e,t,n){},$$NOW(e,t,n){return new Date(n.timestamp)}},wh={$$KEEP(e,t,n){return e},$$PRUNE(e,t,n){},$$DESCEND(e,t,n){if(!$n(t,"$cond"))return e;let r;for(const[i,o]of Object.entries(e))if(Cc(o)){if(o instanceof Array){const a=[];for(let s of o)kt(s)&&(s=Dy(s,t,n.update(s))),hn(s)||a.push(s);r=a}else r=Dy(o,t,n.update(o));hn(r)?delete e[i]:e[i]=r}return e}};function fn(e,t,n,r){var i;const o=so.init(r,e);if(n=n||"",Lo(n)){const a=uo(dt.EXPRESSION,n,r);if(a)return a(e,t,o);const s=uo(dt.ACCUMULATOR,n,r);if(s)return e instanceof Array||(e=fn(e,t,null,o),t=null),Kt(e instanceof Array,`'${n}' target must be an array.`),s(e,t,o.update(null,o.local));throw new Ao(`operator '${n}' is not registered`)}if(ri(t)&&t.length>0&&t[0]==="$"){if($n(wh,t))return t;let a=o.root;const s=t.split(".");if($n(Py,s[0]))a=Py[s[0]](e,null,o),t=t.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){a=Object.assign({},o.variables,{this:e},(i=o.local)===null||i===void 0?void 0:i.variables);const u=s[0].slice(2);Kt($n(a,u),`Use of undefined variable: ${u}`),t=t.slice(2)}else t=t.slice(1);return t===""?a:Ma(a,t)}if(Wt(t))return t.map(a=>fn(e,a,null,o));if(kt(t)){const a={};for(const[s,u]of Object.entries(t))if(a[s]=fn(e,u,s,o),[dt.EXPRESSION,dt.ACCUMULATOR].some(d=>!!uo(d,s,r)))return Kt(Object.keys(t).length===1,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),a[s];return a}return t}function Dy(e,t,n){const r=fn(e,t,null,n);return $n(wh,r)?wh[r](e,t,n):r}function Ra(e){return e instanceof Ty?e:new Ty(e)}function QO(...e){let t=0;return Ra(()=>{for(;t<e.length;){const n=e[t].next();if(!n.done)return n;t++}return{done:!0}})}function YO(e){return!!e&&typeof e=="object"&&(e==null?void 0:e.next)instanceof Function}function GO(e,t){const n=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,n)}const _h=new Error;var Ar;(function(e){e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP"})(Ar||(Ar={}));function JO(e,t,n){let r=!1,i=-1,o=0;return function(a){try{e:for(;!r;){let s=e();i++;let u=-1;const d=t.length;let m=!1;for(;++u<d;){const h=t[u];switch(h.action){case Ar.MAP:s=h.func(s,i);break;case Ar.FILTER:if(!h.func(s,i))continue e;break;case Ar.TAKE:--h.count,h.count||(m=!0);break;case Ar.DROP:--h.count,h.count||GO(t,u);continue e;default:break e}}if(r=m,a)n[o++]=s;else return{value:s,done:!1}}}catch(s){if(s!==_h)throw s}return r=!0,{done:r}}}class Ty{constructor(t){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let n;if(t instanceof Function&&(t={next:t}),YO(t)){const r=t;n=()=>{const i=r.next();if(i.done)throw _h;return i.value}}else if(t instanceof Array){const r=t,i=r.length;let o=0;n=()=>{if(o<i)return r[o++];throw _h}}else if(!(t instanceof Function))throw new Ao("Lazy must be initialized with an array, generator, or function.");this.getNext=JO(n,this.iteratees,this.yieldedValues)}push(t,n){return typeof n=="function"?this.iteratees.push({action:t,func:n}):typeof n=="number"&&this.iteratees.push({action:t,count:n}),this}next(){return this.getNext()}map(t){return this.push(Ar.MAP,t)}filter(t){return this.push(Ar.FILTER,t)}take(t){return t>0?this.push(Ar.TAKE,t):this}drop(t){return t>0?this.push(Ar.DROP,t):this}transform(t){const n=this;let r;return Ra(()=>(r||(r=Ra(t(n.value()))),r.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){const n=this.next();if(n.done)break;if(t(n.value)===!1)return!1}return!0}reduce(t,n){let r=this.next();for(n===void 0&&!r.done&&(n=r.value,r=this.next());!r.done;)n=t(n,r.value),r=this.next();return n}size(){return this.reduce((t,n)=>++t,0)}[Symbol.iterator](){return this}}class XO{constructor(t,n){this.pipeline=t,this.options=zl(n)}stream(t){let n=Ra(t);const r=this.options.processingMode;(r==Ei.CLONE_ALL||r==Ei.CLONE_INPUT)&&n.map(hh);const i=new Array;if(!Aa(this.pipeline))for(const o of this.pipeline){const a=Object.keys(o),s=a[0],u=uo(dt.PIPELINE,s,this.options);Kt(a.length===1&&!!u,`invalid pipeline operator ${s}`),i.push(s),n=u(n,o[s],this.options)}return(r==Ei.CLONE_OUTPUT||r==Ei.CLONE_ALL&&Hp([["$group","$unwind"],i]).length)&&n.map(hh),n}run(t){return this.stream(t).value()}}class ZO{constructor(t,n,r,i){this.source=t,this.predicate=n,this.projection=r,this.options=i,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(kt(this.projection)&&this.operators.push({$project:this.projection}),this.result=Ra(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new XO(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){const t=Ra([...this.buffer]);return this.buffer=[],QO(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options=Object.assign(Object.assign({},this.options),{collation:t}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;const t=this.fetch().next();return t.done?!1:(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}}class oi{constructor(t,n){this.condition=t,this.options=zl(n),this.compiled=[],this.compile()}compile(){Kt(kt(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const t={};for(const[n,r]of Object.entries(this.condition)){if(n==="$where")Object.assign(t,{field:n,expr:r});else if(xa(["$and","$or","$nor","$expr","$jsonSchema"],n))this.processOperator(n,n,r);else{Kt(!Lo(n),`unknown top level operator: ${n}`);for(const[i,o]of Object.entries(q_(r)))this.processOperator(n,i,o)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,n,r){const i=uo(dt.QUERY,n,this.options);if(!i)throw new Ao(`unknown query operator ${n}`);const o=i(t,r,this.options);this.compiled.push(o)}test(t){for(let n=0,r=this.compiled.length;n<r;n++)if(!this.compiled[n](t))return!1;return!0}find(t,n){return new ZO(t,r=>this.test(r),n||{},this.options)}remove(t){return t.reduce((n,r)=>(this.test(r)||n.push(r),n),[])}}const eP=(e,t,n)=>{if(Aa(t)||!kt(t))return e;let r=Dn;const i=n.collation;return kt(i)&&ri(i.locale)&&(r=nP(i)),e.transform(o=>{const a=Object.keys(t);for(const s of a.reverse()){const u=KO(o,m=>Ma(m,s),n.hashFunction),d=Array.from(u.keys()).sort(r);t[s]===-1&&d.reverse(),o=[],d.reduce((m,h)=>fu(m,u.get(h)),o)}return o})},tP={1:"base",2:"accent",3:"variant"};function nP(e){const t={sensitivity:tP[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));const n=new Intl.Collator(e.locale,t);return(r,i)=>{if(!ri(r)||!ri(i))return Dn(r,i);const o=n.compare(r,i);return o<0?-1:o>0?1:0}}function pn(e){const t=(n,r,i)=>{const o={unwrapArray:!0},a=Math.max(1,n.split(".").length-1);return s=>{const u=Ma(s,n,o);return e(u,r,Object.assign(Object.assign({},i),{depth:a}))}};return t.op="query",t}function Na(e){return(t,n,r)=>{const i=fn(t,n,null,r);return e(...i)}}function Vp(e,t,n){if(ii(e,t)||hn(e)&&hn(t))return!0;if(e instanceof Array){const r=ii.bind(null,t);return e.some(r)||U_(e,n==null?void 0:n.depth).some(r)}return!1}function K_(e,t,n){return!Vp(e,t,n)}function W_(e,t,n){return hn(e)?t.some(r=>r===null):Hp([La(e),t],n==null?void 0:n.hashFunction).length>0}function rP(e,t,n){return!W_(e,t,n)}function H_(e,t,n){return xc(e,t,(r,i)=>Dn(r,i)<0)}function V_(e,t,n){return xc(e,t,(r,i)=>Dn(r,i)<=0)}function Q_(e,t,n){return xc(e,t,(r,i)=>Dn(r,i)>0)}function Y_(e,t,n){return xc(e,t,(r,i)=>Dn(r,i)>=0)}function iP(e,t,n){return La(e).some(r=>t.length===2&&r%t[0]===t[1])}function oP(e,t,n){const r=La(e),i=o=>ri(o)&&ka(t.exec(o),n==null?void 0:n.useStrictMode);return r.some(i)||U_(r,1).some(i)}function aP(e,t,n){return(t===!1||t===0)&&e===void 0||(t===!0||t===1)&&e!==void 0}function sP(e,t,n){if(!Wt(e)||!Wt(t)||!e.length||!t.length)return!1;let r=!0;for(const i of t){if(!r)break;kt(i)&&xa(Object.keys(i),"$elemMatch")?r=G_(e,i.$elemMatch,n):i instanceof RegExp?r=e.some(o=>typeof o=="string"&&i.test(o)):r=e.some(o=>ii(i,o))}return r}function uP(e,t,n){return Array.isArray(e)&&e.length===t}function lP(e){return Lo(e)&&["$and","$or","$nor"].indexOf(e)===-1}function G_(e,t,n){if(Wt(e)&&!Aa(e)){let r=a=>a,i=t;Object.keys(t).every(lP)&&(i={temp:t},r=a=>({temp:a}));const o=new oi(i,n);for(let a=0,s=e.length;a<s;a++)if(o.test(r(e[a])))return!0}return!1}const Iy=e=>e===null,Ay=e=>jn(e)&&e>=TO&&e<=DO&&e.toString().indexOf(".")===-1,Ly=e=>jn(e)&&e>=AO&&e<=IO&&e.toString().indexOf(".")===-1,cP={array:Wt,bool:Kf,boolean:Kf,date:ph,decimal:jn,double:jn,int:Ay,long:Ly,number:jn,null:Iy,object:kt,regex:dl,regexp:dl,string:ri,undefined:hn,function:e=>{throw new Ao("unsupported type key `function`.")},1:jn,2:ri,3:kt,4:Wt,6:hn,8:Kf,9:ph,10:Iy,11:dl,16:Ay,18:Ly,19:jn};function My(e,t,n){const r=cP[t];return r?r(e):!1}function fP(e,t,n){return Array.isArray(t)?t.findIndex(r=>My(e,r))>=0:My(e,t)}function xc(e,t,n){return La(e).some(r=>Ys(r)===Ys(t)&&n(r,t))}const dP=(e,t,n)=>{const r=fn(e,t,null,n);return ka(r,n.useStrictMode)&&r.every(i=>ka(i,n.useStrictMode))},hP=(e,t,n)=>{const r=La(t);if(r.length==0)return!1;if(r.length==1)return!fn(e,r[0],null,n);throw"Expression $not takes exactly 1 argument"},pP=(e,t,n)=>{const r=fn(e,t,null,n),i=n.useStrictMode;return ka(r,i)&&r.some(o=>ka(o,i))},mP=Object.freeze(Object.defineProperty({__proto__:null,$and:dP,$not:hP,$or:pP},Symbol.toStringTag,{value:"Module"})),vP=(e,t,n)=>{const r=fn(e,t,null,n);return r[0]>r[1]?1:r[0]<r[1]?-1:0},yP=Na(Vp),gP=Na(Q_),wP=Na(Y_),_P=Na(H_),bP=Na(V_),SP=Na(K_),EP=Object.freeze(Object.defineProperty({__proto__:null,$cmp:vP,$eq:yP,$gt:gP,$gte:wP,$lt:_P,$lte:bP,$ne:SP},Symbol.toStringTag,{value:"Module"})),Ny=(e,t)=>{const n={};return e.split("").forEach((r,i)=>n[r]=t*(i+1)),n};Object.assign(Object.assign(Object.assign({},Ny("ABCDEFGHIKLM",1)),Ny("NOPQRSTUVWXY",-1)),{Z:0});const jy={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Wn(e,t=jy){const n=Object.assign({},jy,t),r=new Set(Object.keys(n));return(i,o,a)=>{const s=fn(i,o,null,a);if(r.has(`${s}`)){const u=n[`${s}`];if(u instanceof Error)throw new Ao(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return u}return e(s)}}Wn(Math.acos,{Infinity:1/0,0:new Error});Wn(Math.acosh,{Infinity:1/0,0:new Error});Wn(Math.asin);Wn(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});Wn(Math.atan);Wn(Math.atanh,{1:1/0,"-1":-1/0});Wn(Math.cos);Wn(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const CP=Math.PI/180;Wn(e=>e*CP,{Infinity:1/0,"-Infinity":1/0});const xP=180/Math.PI;Wn(e=>e*xP,{Infinity:1/0,"-Infinity":-1/0});Wn(Math.sin);Wn(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});Wn(Math.tan);const kP=(e,t,n)=>{if(Aa(t))return e;let r=Object.keys(t),i=!1;J_(t,n);const o=n.idKey;if(xa(r,o)){const s=t[o];(s===0||s===!1)&&(r=r.filter($_.bind(null,[o])),i=r.length==0)}else r.push(o);const a=so.init(n);return e.map(s=>bh(s,t,a.update(s),r,i))};function bh(e,t,n,r,i){let o={},a=!1,s=!1;const u=[];i&&u.push(n.idKey);for(const d of r){let m;const h=t[d];if(d!==n.idKey&&xa([0,!1],h)&&(s=!0),d===n.idKey&&Aa(h))m=e[d];else if(ri(h))m=fn(e,h,d,n);else if(!xa([1,!0],h))if(h instanceof Array)m=h.map(b=>{const g=fn(e,b,null,n);return hn(g)?null:g});else if(kt(h)){const b=h,g=Object.keys(h),S=g.length==1?g[0]:"",I=uo(dt.PROJECTION,S,n);if(I)S==="$slice"?La(b[S]).every(jn)?(m=I(e,b[S],d,n),a=!0):m=fn(e,b,d,n):m=I(e,b[S],d,n);else if(Lo(S))m=fn(e,b[S],S,n);else if($n(e,d)){J_(b,n);let E=e[d];E instanceof Array?m=E.map(x=>bh(x,b,n,g,!1)):(E=kt(E)?E:e,m=bh(E,b,n,g,!1))}else m=fn(e,h,null,n)}else{u.push(d);continue}const p=hl(e,d,{preserveMissing:!0});p!==void 0&&mh(o,p,{flatten:!0}),$_([0,1,!1,!0],h)&&(m===void 0?Ry(o,d,{descendArray:!0}):HO(o,d,m))}if(gh(o),(a||s||i)&&(o=fu({},e,o),u.length>0))for(const d of u)Ry(o,d,{descendArray:!0});return o}function J_(e,t){const n=[!1,!1];for(const[r,i]of Object.entries(e)){if(r===(t==null?void 0:t.idKey))return;i===0||i===!1?n[0]=!0:(i===1||i===!0)&&(n[1]=!0),Kt(!(n[0]&&n[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const X_=(e,t,n)=>{Kt(Wt(t),"Invalid expression: $and expects value to be an Array.");const r=t.map(i=>new oi(i,n));return i=>r.every(o=>o.test(i))},Qp=(e,t,n)=>{Kt(Wt(t),"Invalid expression. $or expects value to be an Array");const r=t.map(i=>new oi(i,n));return i=>r.some(o=>o.test(i))},Z_=(e,t,n)=>{Kt(Wt(t),"Invalid expression. $nor expects value to be an array.");const r=Qp("$or",t,n);return i=>!r(i)},e1=(e,t,n)=>{const r={};r[e]=q_(t);const i=new oi(r,n);return o=>!i.test(o)},t1=pn(Vp),n1=pn(Q_),r1=pn(Y_),i1=pn(W_),o1=pn(H_),a1=pn(V_),s1=pn(K_),u1=pn(rP);function RP(e,t,n){return r=>fn(r,t,null,n)}function OP(e,t,n){if(!(n!=null&&n.jsonSchemaValidator))throw new Ao("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");const r=n==null?void 0:n.jsonSchemaValidator(t);return i=>r(i)}const l1=pn(iP),c1=pn(oP);function PP(e,t,n){Kt(n.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");const r=t;return Kt(cu(r),"$where only accepts a Function object"),i=>ka(r.call(i),n==null?void 0:n.useStrictMode)}const DP=pn(sP),f1=pn(G_),d1=pn(uP),h1=pn(aP),p1=pn(fP);var Fy=!1;function TP(e){return Fy||(Oy(dt.PIPELINE,{$sort:eP,$project:kP}),Oy(dt.QUERY,{$and:X_,$eq:t1,$elemMatch:f1,$exists:h1,$gt:n1,$gte:r1,$in:i1,$lt:o1,$lte:a1,$ne:s1,$nin:u1,$mod:l1,$nor:Z_,$not:e1,$or:Qp,$regex:c1,$size:d1,$type:p1}),Fy=!0),new oi(e)}function ql(e,t){var n=Tn(e.primaryKey);t=ft(t);var r=ar(t);if(typeof r.skip!="number"&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach(([d,m])=>{(typeof m!="object"||m===null)&&(r.selector[d]={$eq:m})})):r.selector={},r.index){var i=Ws(r.index);i.includes(n)||i.push(n),r.index=i}if(r.sort){var u=r.sort.find(d=>ek(d)===n);u||(r.sort=r.sort.slice(0),r.sort.push({[n]:"asc"}))}else if(r.index)r.sort=r.index.map(d=>({[d]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(r.selector).forEach(([d,m])=>{var h=!1;typeof m=="object"&&m!==null?h=!!Object.keys(m).find(p=>qp.has(p)):h=!0,h&&o.add(d)});var a=-1,s;e.indexes.forEach(d=>{var m=ca(d)?d:[d],h=m.findIndex(p=>!o.has(p));h>0&&h>a&&(a=h,s=m)}),s&&(r.sort=s.map(d=>({[d]:"asc"})))}r.sort||(r.sort=[{[n]:"asc"}])}return r}function m1(e,t){if(!t.sort)throw fe("SNH",{query:t});var n=[];t.sort.forEach(i=>{var o=Object.keys(i)[0],a=Object.values(i)[0];n.push({key:o,direction:a,getValueFn:Zx(o)})});var r=(i,o)=>{for(var a=0;a<n.length;++a){var s=n[a],u=s.getValueFn(i),d=s.getValueFn(o);if(u!==d){var m=s.direction==="asc"?Dn(u,d):Dn(d,u);return m}}};return r}function Yp(e,t){if(!t.sort)throw fe("SNH",{query:t});var n=TP(t.selector),r=i=>n.test(i);return r}function IP(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(n=>Object.keys(n)[0])}var AP=new WeakMap;function LP(e){return Nr(AP,e,()=>{var t=e.collection,n=ql(t.storageInstance.schema,ar(e.mangoQuery)),r=t.schema.primaryPath,i=m1(t.schema.jsonSchema,n),o=(d,m)=>{var h={docA:d,docB:m,rxQuery:e};return i(h.docA,h.docB)},a=Yp(t.schema.jsonSchema,n),s=d=>{var m={doc:d,rxQuery:e};return a(m.doc)},u={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:IP(r,n),sortComparator:o,queryMatcher:s};return u})}function MP(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=LP(e),r=ze(e._result).docsData.slice(0),i=ze(e._result).docsDataMap,o=!1,a=t.map(u=>LR(u)).filter(Hw),s=a.find(u=>{var d={queryParams:n,changeEvent:u,previousResults:r,keyDocumentMap:i},m=SO(d);if(m==="runFullQueryAgain")return!0;if(m!=="doNothing")return o=!0,EO(m,n,u,r,i),!1});return s?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:r}}var NP=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(r){var i=r.toString();return Nr(this._map,i,()=>r)},e}();function jP(){return new NP}function By(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}function FP(e){return e.refCount$.observers.length}var BP=100,$P=30*1e3,UP=(e,t)=>(n,r)=>{if(!(r._map.size<e)){var i=Jt()-t,o=[],a=Array.from(r._map.values());for(var s of a)if(!(FP(s)>0)){if(s._lastEnsureEqual===0&&s._creationTime<i){By(r,s);continue}o.push(s)}var u=o.length-e;if(!(u<=0)){var d=o.sort((h,p)=>h._lastEnsureEqual-p._lastEnsureEqual),m=d.slice(0,u);m.forEach(h=>By(r,h))}}},v1=UP(BP,$P),Hf=new WeakSet;function zP(e){Hf.has(e)||(Hf.add(e),mk().then(()=>gk(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),Hf.delete(e)}))}var qP=function(){function e(n,r,i){this.cacheItemByDocId=new Map,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var a=o.docId,s=this.cacheItemByDocId.get(a);s&&(s.byRev.delete(o.revisionHeight),s.byRev.size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.registerIdleTasks=[],this.primaryPath=n,this.changes$=r,this.documentCreator=i,r.subscribe(o=>{var a=o.documentId,s=this.cacheItemByDocId.get(a);if(s){var u=A_(o);s.last=u}})}var t=e.prototype;return t.getLatestDocumentData=function(r){var i=wo(this.cacheItemByDocId,r);return i.last},t.getLatestDocumentDataIfExists=function(r){var i=this.cacheItemByDocId.get(r);if(i)return i.last},$i(e,[{key:"getCachedRxDocument",get:function(){var n=KP(this);return Ai(this,"getCachedRxDocument",n)}}])}();function KP(e){var t=e.primaryPath,n=e.cacheItemByDocId,r=e.registry,i=zt.deepFreezeWhenDevMode,o=e.documentCreator,a=s=>{var u=s[t],d=dy(s._rev),m=Nr(n,u,()=>WP(s)),h=m.byRev,p=h.get(d),b=p?p.deref():void 0;return b||(s=i(s),b=o(s),h.set(d,VP(b)),r&&(e.registerIdleTasks.push(b),e.registerIdlePromise||(e.registerIdlePromise=Yw().then(()=>{e.registerIdlePromise=void 0;var g=e.registerIdleTasks;g.length!==0&&(e.registerIdleTasks=[],g.forEach(S=>{r.register(S,{docId:S.primary,revisionHeight:dy(S.revision)})}))})))),b};return a}function y1(e,t){for(var n=e.getCachedRxDocument,r=[],i=0;i<t.length;i++){var o=t[i],a=n(o);r.push(a)}return r}function WP(e){return{byRev:new Map,last:e}}var HP=typeof WeakRef=="function",VP=HP?QP:YP;function QP(e){return new WeakRef(e)}function YP(e){return{deref(){return e}}}var $y=function(){function e(t,n,r){this.time=Jt(),this.collection=t,this.count=r,this.documents=y1(this.collection._docCache,n)}return $i(e,[{key:"docsData",get:function(){return Ai(this,"docsData",this.documents.map(t=>t._data))}},{key:"docsDataMap",get:function(){var t=new Map;return this.documents.forEach(n=>{t.set(n.primary,n._data)}),Ai(this,"docsDataMap",t)}},{key:"docsMap",get:function(){for(var t=new Map,n=this.documents,r=0;r<n.length;r++){var i=n[r];t.set(i.primary,i)}return Ai(this,"docsMap",t)}}])}(),GP=0,JP=function(){return++GP},g1=function(){function e(n,r,i,o={}){this.id=JP(),this._execOverDatabaseCount=0,this._creationTime=Jt(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new Kr(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=gr,this.op=n,this.mangoQuery=r,this.collection=i,this.other=o,r||(this.mangoQuery=Ss()),this.isFindOneByIdQuery=eD(this.collection.schema.primaryPath,r)}var t=e.prototype;return t._setResultData=function(r){if(typeof r=="number"){this._result=new $y(this.collection,[],r);return}else r instanceof Map&&(r=Array.from(r.values()));var i=new $y(this.collection,r,r.length);this._result=i},t._execOverDatabase=async function(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Jt(),this.op==="count"){var r=this.getPreparedQuery(),i=await this.collection.storageInstance.count(r);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw fe("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=ze(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,s=[];if(o.forEach(m=>{var h=this.collection._docCache.getLatestDocumentDataIfExists(m);if(h){if(!h._deleted){var p=this.collection._docCache.getCachedRxDocument(h);a.set(m,p)}}else s.push(m)}),s.length>0){var u=await this.collection.storageInstance.findDocumentsById(s,!1);u.forEach(m=>{var h=this.collection._docCache.getCachedRxDocument(m);a.set(h.primary,h)})}return a}var d=_1(this);return d.then(m=>(this._lastExecEnd=Jt(),m))},t.exec=function(r){if(r&&this.op!=="findOne")throw fe("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Uy(this).then(()=>Co(this.$)).then(i=>{if(!i&&r)throw fe("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return i})},t.toString=function(){var r=$l({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(r);return this.toString=()=>i,i},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:ql(this.collection.schema.jsonSchema,this.mangoQuery)};r.mangoQuery.selector._deleted={$eq:!1},r.mangoQuery.index&&r.mangoQuery.index.unshift("_deleted"),Cr("prePrepareQuery",r);var i=kc(this.collection.schema.jsonSchema,r.mangoQuery);return this.getPreparedQuery=()=>i,i},t.doesDocumentDataMatch=function(r){return r._deleted?!1:this.queryMatcher(r)},t.remove=function(){return this.exec().then(r=>Array.isArray(r)?Promise.all(r.map(i=>i.remove())):r.remove())},t.update=function(r){throw wt("update")},t.where=function(r){throw wt("query-builder")},t.sort=function(r){throw wt("query-builder")},t.skip=function(r){throw wt("query-builder")},t.limit=function(r){throw wt("query-builder")},$i(e,[{key:"$",get:function(){if(!this._$){var n=this.collection.$.pipe(vt(r=>!r.isLocal),I_(null),qi(()=>Uy(this)),wr(()=>this._result),T_(t_),dh((r,i)=>!!(r&&r.time===ze(i).time)),vt(r=>!!r),wr(r=>{var i=ze(r);return this.op==="count"?i.count:this.op==="findOne"?i.documents.length===0?null:i.documents[0]:this.op==="findByIds"?i.docsMap:i.documents.slice(0)}));this._$=MR(n,this.refCount$.pipe(vt(()=>!1)))}return this._$}},{key:"$$",get:function(){var n=this.collection.database.getReactivityFactory();return n.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var n=this.collection.schema.jsonSchema,r=ql(this.collection.schema.jsonSchema,this.mangoQuery);return Ai(this,"queryMatcher",Yp(n,r))}},{key:"asRxQuery",get:function(){return this}}])}();function Ss(){return{selector:{}}}function XP(e){return e.collection._queryCache.getByQuery(e)}function qo(e,t,n,r){Cr("preCreateRxQuery",{op:e,queryObj:t,collection:n,other:r});var i=new g1(e,t,n,r);return i=XP(i),zP(n),i}function w1(e){var t=e.asRxQuery.collection._changeEventBuffer.counter;return e._latestChangeEvent>=t}function Uy(e){return e.collection.database.destroyed||w1(e)?gr:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>ZP(e)),e._ensureEqualQueue)}function ZP(e){if(e._lastEnsureEqual=Jt(),e.collection.database.destroyed||w1(e))return gr;var t=!1,n=!1;if(e._latestChangeEvent===-1&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(r===null)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if(e.op==="count"){var o=ze(e._result).count,a=o;i.forEach(u=>{var d=u.previousDocumentData&&e.doesDocumentDataMatch(u.previousDocumentData),m=e.doesDocumentDataMatch(u.documentData);!d&&m&&a++,d&&!m&&a--}),a!==o&&(t=!0,e._setResultData(a))}else{var s=MP(e,i);s.runFullQueryAgain?n=!0:s.changed&&(t=!0,e._setResultData(s.newResults))}}}return n?e._execOverDatabase().then(u=>(e._latestChangeEvent=e.collection._changeEventBuffer.counter,typeof u=="number"?((!e._result||u!==e._result.count)&&(t=!0,e._setResultData(u)),t):((!e._result||!nk(e.collection.schema.primaryPath,u,e._result.docsData))&&(t=!0,e._setResultData(u)),t))):Promise.resolve(t)}function kc(e,t){if(!t.sort)throw fe("SNH",{query:t});var n=CO(e,t);return{query:t,queryPlan:n}}async function _1(e){var t=[],n=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var r=e.isFindOneByIdQuery;if(r=r.filter(m=>{var h=e.collection._docCache.getLatestDocumentDataIfExists(m);return h?(h._deleted||t.push(h),!1):!0}),r.length>0){var i=await n.storageInstance.findDocumentsById(r,!1);go(t,i)}}else{var o=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!a){var s=await n.storageInstance.findDocumentsById([o],!1);s[0]&&(a=s[0])}a&&!a._deleted&&t.push(a)}else{var u=e.getPreparedQuery(),d=await n.storageInstance.query(u);t=d.documents}return t}function eD(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var n=t.selector[e];if(typeof n=="string")return n;if(Object.keys(n).length===1&&typeof n.$eq=="string"||Object.keys(n).length===1&&Array.isArray(n.$eq)&&!n.$eq.find(r=>typeof r!="string"))return n.$eq}return!1}var tD="_rxdb_internal";async function Gp(e,t){var n=await e.findDocumentsById([t],!1),r=n[0];if(r)return r}async function b1(e,t,n){var r=await e.bulkWrite([t],n);if(r.error.length>0){var i=r.error[0];throw i}else{var o=r.success[0];return o}}function Js(e){return Object.assign({},...e)}function nD(e,t,n){var r=t.documentData,i=t.previousDocumentData,o={documentId:t.documentId,collectionName:n?n.name:void 0,isLocal:e,operation:t.operation,documentData:zt.deepFreezeWhenDevMode(r),previousDocumentData:zt.deepFreezeWhenDevMode(i)};return o}function Kl(e,t,n,r){if(r)throw r.status===409?fe("CONFLICT",{collection:e.name,id:t,writeError:r,data:n}):r.status===422?fe("VD2",{collection:e.name,id:t,writeError:r,data:n}):r}function rD(e,t,n,r,i,o,a){for(var s=!!e.schema.attachments,u=[],d=[],m=[],h=Ia(10),p={id:h,events:[],checkpoint:null,context:i,startTime:Jt(),endTime:0},b=p.events,g=[],S=[],I=[],E=n.size>0,x,y=r.length,O=function(){var k=r[T],P=k.document,L=k.previous,B=P[t],N=P._deleted,F=L&&L._deleted,Z=void 0;E&&(Z=n.get(B));var ue;if(Z){var Ce=Z._rev;if(!L||L&&Ce!==L._rev){var Ie={isError:!0,status:409,documentId:B,writeRow:k,documentInDb:Z};return m.push(Ie),1}var ce=s?Vf(k):k;s&&(N?L&&Object.keys(L._attachments).forEach(je=>{S.push({documentId:B,attachmentId:je,digest:ze(L)._attachments[je].digest})}):(Object.entries(P._attachments).find(([je,Le])=>{var it=L?L._attachments[je]:void 0;return!it&&!Le.data&&(ue={documentId:B,documentInDb:Z,isError:!0,status:510,writeRow:k,attachmentId:je}),!0}),ue||Object.entries(P._attachments).forEach(([je,Le])=>{var it=L?L._attachments[je]:void 0;if(!it)g.push({documentId:B,attachmentId:je,attachmentData:Le,digest:Le.digest});else{var ot=ce.document._attachments[je].digest;Le.data&&it.digest!==ot&&I.push({documentId:B,attachmentId:je,attachmentData:Le,digest:Le.digest})}}))),ue?m.push(ue):(s?(d.push(Vf(ce)),a&&a(P)):(d.push(ce),a&&a(P)),x=ce);var se=null,we=null,Ne=null;if(F&&!N)Ne="INSERT",se=s?Ci(P):P;else if(L&&!F&&!N)Ne="UPDATE",se=s?Ci(P):P,we=L;else if(N)Ne="DELETE",se=ze(P),we=L;else throw fe("SNH",{args:{writeRow:k}});var Ze={documentId:B,documentData:se,previousDocumentData:we,operation:Ne};b.push(Ze)}else{var Ee=!!N;if(s&&Object.entries(P._attachments).forEach(([je,Le])=>{Le.data?g.push({documentId:B,attachmentId:je,attachmentData:Le,digest:Le.digest}):(ue={documentId:B,isError:!0,status:510,writeRow:k,attachmentId:je},m.push(ue))}),ue||(s?(u.push(Vf(k)),o&&o(P)):(u.push(k),o&&o(P)),x=k),!Ee){var Re={documentId:B,operation:"INSERT",documentData:s?Ci(P):P,previousDocumentData:s&&L?Ci(L):L};b.push(Re)}}},T=0;T<y;T++)O();return{bulkInsertDocs:u,bulkUpdateDocs:d,newestRow:x,errors:m,eventBulk:p,attachmentsAdd:g,attachmentsRemove:S,attachmentsUpdate:I}}function Vf(e){return{previous:e.previous,document:Ci(e.document)}}function iD(e){return atob(e).length}function oD(e){var t=e.data;if(!t)return e;var n={length:iD(t),digest:e.digest,type:e.type};return n}function Ci(e){if(!e._attachments||Object.keys(e._attachments).length===0)return e;var t=ft(e);return t._attachments={},Object.entries(e._attachments).forEach(([n,r])=>{t._attachments[n]=oD(r)}),t}function Jp(e){var t=ft(e);return t._meta=ft(e._meta),t}function S1(e,t,n){zt.deepFreezeWhenDevMode(n);var r=Tn(n.primaryKey);function i(a){var s=ft(a.document);if(s._meta=ft(s._meta),zt.isDevMode()){s=a_(r,n,s);try{typeof structuredClone=="function"?structuredClone(a):JSON.parse(JSON.stringify(a))}catch{throw fe("DOC24",{collection:t.collectionName,document:a.document})}a.previous,a.previous&&Object.keys(a.previous._meta).forEach(u=>{if(!Object.prototype.hasOwnProperty.call(a.document._meta,u))throw fe("SNH",{dataBefore:a.previous,dataAfter:a.document})})}return s._meta.lwt=Jt(),s._rev=ti(e.token,a.previous),{document:s,previous:a.previous}}var o={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite(a,s){var u=a.map(d=>i(d));return e.lockedRun(()=>t.bulkWrite(u,s)).then(d=>{var m={error:[],success:d.success.slice(0)},h=d.error.filter(b=>b.status===409&&!b.writeRow.previous&&!b.writeRow.document._deleted&&ze(b.documentInDb)._deleted?!0:(m.error.push(b),!1));if(h.length>0){var p=h.map(b=>({previous:b.documentInDb,document:Object.assign({},b.writeRow.document,{_rev:ti(e.token,b.documentInDb)})}));return e.lockedRun(()=>t.bulkWrite(p,s)).then(b=>(go(m.error,b.error),go(m.success,b.success),m))}return d})},query(a){return e.lockedRun(()=>t.query(a))},count(a){return e.lockedRun(()=>t.count(a))},findDocumentsById(a,s){return e.lockedRun(()=>t.findDocumentsById(a,s))},getAttachmentData(a,s,u){return e.lockedRun(()=>t.getAttachmentData(a,s,u))},getChangedDocumentsSince:t.getChangedDocumentsSince?(a,s)=>e.lockedRun(()=>t.getChangedDocumentsSince(ze(a),s)):void 0,cleanup(a){return e.lockedRun(()=>t.cleanup(a))},remove(){return e.storageInstances.delete(o),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(o),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()},conflictResultionTasks(){return t.conflictResultionTasks()},resolveConflictResultionTask(a){if(a.output.isEqual)return t.resolveConflictResultionTask(a);var s=Object.assign({},a.output.documentData,{_meta:ou(),_rev:Er(),_attachments:{}}),u=ft(s);return delete u._meta,delete u._rev,delete u._attachments,t.resolveConflictResultionTask({id:a.id,output:{isEqual:!1,documentData:u}})}};return e.storageInstances.add(o),o}function aD(e){if(e.schema.keyCompression)throw fe("UT5",{args:{params:e}});if(E1(e.schema))throw fe("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw fe("UT7",{args:{params:e}})}function E1(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}function sD(e,t,n){var r=Tn(e.schema.primaryKey),i=n?n.lwt:Tp,o=n?n.id:"";return ql(e.schema,{selector:{$or:[{"_meta.lwt":{$gt:i}},{"_meta.lwt":{$eq:i},[r]:{$gt:n?o:""}}],"_meta.lwt":{$gte:i}},sort:[{"_meta.lwt":"asc"},{[r]:"asc"}],skip:0,limit:t})}async function C1(e,t,n){if(e.getChangedDocumentsSince)return e.getChangedDocumentsSince(t,n);var r=Tn(e.schema.primaryKey),i=kc(e.schema,sD(e,t,n)),o=await e.query(i),a=o.documents,s=Gx(a);return{documents:a,checkpoint:s?{id:s[r],lwt:s._meta.lwt}:n||{id:"",lwt:0}}}var uD=function(){function e(n,r,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=n,this.primaryPath=r,this.preWrite=i,this.postWrite=o}var t=e.prototype;return t.addWrite=function(r,i){var o=r[this.primaryPath],a=Nr(this.queueByDocId,o,()=>[]),s=new Promise((u,d)=>{var m={lastKnownDocumentState:r,modifier:i,resolve:u,reject:d};ze(a).push(m),this.triggerRun()});return s},t.triggerRun=async function(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var r=[],i=this.queueByDocId;this.queueByDocId=new Map,await Promise.all(Array.from(i.entries()).map(async([a,s])=>{var u=lD(s.map(h=>h.lastKnownDocumentState)),d=u;for(var m of s)try{d=await m.modifier(ar(d))}catch(h){m.reject(h),m.reject=()=>{},m.resolve=()=>{}}try{await this.preWrite(d,u)}catch(h){s.forEach(p=>p.reject(h));return}r.push({previous:u,document:d})}));var o=r.length>0?await this.storageInstance.bulkWrite(r,"incremental-write"):{error:[],success:[]};return await Promise.all(o.success.map(a=>{var s=a[this.primaryPath];this.postWrite(a);var u=wo(i,s);u.forEach(d=>d.resolve(a))})),o.error.forEach(a=>{var s=a.documentId,u=wo(i,s),d=Sc(a);if(d){var m=Nr(this.queueByDocId,s,()=>[]);u.reverse().forEach(p=>{p.lastKnownDocumentState=ze(d.documentInDb),ze(m).unshift(p)})}else{var h=Pk(a);u.forEach(p=>p.reject(h))}}),this.isRunning=!1,this.triggerRun()}},e}();function zy(e){var t=async n=>{var r=tk(n);r._deleted=n._deleted;var i=await e(r),o=Object.assign({},i,{_meta:n._meta,_attachments:n._attachments,_rev:n._rev,_deleted:typeof i._deleted<"u"?i._deleted:n._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o};return t}function lD(e){var t=e[0],n=Sa(t._rev).height;return e.forEach(r=>{var i=Sa(r._rev).height;i>n&&(t=r,n=i)}),t}var du={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(wr(t=>t._data._deleted))},get deleted$$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.deleted$,e.getLatest().deleted,e.collection.database)},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(vt(t=>!t.isLocal),vt(t=>t.documentId===this.primary),wr(t=>A_(t)),I_(e.collection._docCache.getLatestDocumentData(this.primary)),dh((t,n)=>t._rev===n._rev),wr(t=>this.collection._docCache.getCachedRxDocument(t)),T_(t_))},get $$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.$,e.getLatest()._data,e.collection.database)},get$(e){if(zt.isDevMode()){if(e.includes(".item."))throw fe("DOC1",{path:e});if(e===this.primaryPath)throw fe("DOC2");if(this.collection.schema.finalFields.includes(e))throw fe("DOC3",{path:e});var t=jr(this.collection.schema.jsonSchema,e);if(!t)throw fe("DOC4",{path:e})}return this.$.pipe(wr(n=>Ir(n,e)),dh())},get$$(e){var t=this.get$(e),n=this.collection.database.getReactivityFactory();return n.fromObservable(t,this.getLatest().get(e),this.collection.database)},populate(e){var t=jr(this.collection.schema.jsonSchema,e),n=this.get(e);if(!n)return yk;if(!t)throw fe("DOC5",{path:e});if(!t.ref)throw fe("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw fe("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?r.findByIds(n).exec().then(i=>{var o=i.values();return Array.from(o)}):r.findOne(n).exec()},get(e){return Nr(this._propertyCache,e,()=>{var t=Ir(this._data,e);if(typeof t!="object"||t===null||Array.isArray(t))return zt.deepFreezeWhenDevMode(t);var n=this,r=new Proxy(ft(t),{get(i,o){if(typeof o!="string")return i[o];var a=o.charAt(o.length-1);if(o.endsWith("$$")){var s=o.slice(0,-2);return n.get$$(Si(e+"."+s))}else if(a==="$"){var u=o.slice(0,-1);return n.get$(Si(e+"."+u))}else if(a==="_"){var d=o.slice(0,-1);return n.populate(Si(e+"."+d))}else return n.get(Si(e+"."+o))}});return r})},toJSON(e=!1){if(e)return zt.deepFreezeWhenDevMode(this._data);var t=ft(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,zt.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return ar(this.toJSON(e))},update(e){throw wt("update")},incrementalUpdate(e){throw wt("update")},updateCRDT(e){throw wt("crdt")},putAttachment(){throw wt("attachments")},getAttachment(){throw wt("attachments")},allAttachments(){throw wt("attachments")},get allAttachments$(){throw wt("attachments")},async modify(e,t){var n=this._data,r=await zy(e)(n);return this._saveData(r,n)},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,zy(e)).then(n=>this.collection._docCache.getCachedRxDocument(n))},patch(e){var t=this._data,n=ar(t);return Object.entries(e).forEach(([r,i])=>{n[r]=i}),this._saveData(n,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([n,r])=>{t[n]=r}),t))},async _saveData(e,t){if(e=ft(e),this._data._deleted)throw fe("DOC11",{id:this.primary,document:this});await k1(this.collection,e,t);var n=await this.collection.storageInstance.bulkWrite([{previous:t,document:e}],"rx-document-save-data"),r=n.error[0];return Kl(this.collection,this.primary,e,r),await this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(n.success[0])},remove(){var e=this.collection;if(this.deleted)return Promise.reject(fe("DOC13",{document:this,id:this.primary}));var t=ft(this._data),n;return e._runHooks("pre","remove",t,this).then(async()=>{t._deleted=!0;var r=await e.storageInstance.bulkWrite([{previous:this._data,document:t}],"rx-document-remove"),i=r.error[0];return Kl(e,this.primary,t,i),r.success[0]}).then(r=>(n=r,this.collection._runHooks("post","remove",t,this))).then(()=>this.collection._docCache.getCachedRxDocument(n))},incrementalRemove(){return this.incrementalModify(async e=>(await this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e)).then(async e=>(await this.collection._runHooks("post","remove",e._data,e),e))},destroy(){throw fe("DOC14")}};function x1(e=du){var t=function(r,i){this.collection=r,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function cD(e,t,n){var r=new e(t,n);return Cr("createRxDocument",r),r}function k1(e,t,n){return t._meta=Object.assign({},n._meta,t._meta),zt.isDevMode()&&e.schema.validateChange(n,t),e._runHooks("pre","save",t,n)}var lo="collection",Xp="storage-token",fD="rx-migration-status",dD="RxInternalDocument",Zp=Ip({version:0,title:dD,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[lo,Xp,fD,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Xs(e,t){return Ui(Zp,{key:e,context:t})}async function R1(e){var t=kc(e.schema,{selector:{context:lo,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),n=await e.query(t),r=n.documents;return r}var O1="storageToken",hD=Xs(O1,Xp);async function pD(e){var t=Ia(10),n=e.password?await e.hashFunction(JSON.stringify(e.password)):void 0,r={id:hD,context:Xp,key:O1,data:{rxdbVersion:e.rxdbVersion,token:t,instanceToken:e.token,passwordHash:n},_deleted:!1,_meta:ou(),_rev:Er(),_attachments:{}},i=await e.internalStore.bulkWrite([{document:r}],"internal-add-storage-token");if(i.success[0])return i.success[0];var o=ze(i.error[0]);if(o.isError&&Sc(o)){var a=o;if(!mD(a.documentInDb.data.rxdbVersion,e.rxdbVersion))throw fe("DM5",{args:{database:e.name,databaseStateVersion:a.documentInDb.data.rxdbVersion,codeVersion:e.rxdbVersion}});if(n&&n!==a.documentInDb.data.passwordHash)throw fe("DB1",{passwordHash:n,existingPasswordHash:a.documentInDb.data.passwordHash});var s=a.documentInDb;return ze(s)}throw o}function mD(e,t){if(!e||t.includes("beta")&&t!==e)return!1;var n=e.split(".")[0],r=t.split(".")[0];return n===r}async function vD(e,t,n){if(e.schema.version!==n.version)throw fe("SNH",{schema:n,version:e.schema.version,name:e.name,collection:e,args:{storageCollectionName:t}});for(var r=Wl(e.name,e.schema.jsonSchema),i=Xs(r,lo);;){var o=await Gp(e.database.internalStore,i),a=ar(ze(o)),s=a.data.connectedStorages.find(u=>u.collectionName===t&&u.schema.version===n.version);if(s)return;a.data.connectedStorages.push({collectionName:t,schema:n});try{await b1(e.database.internalStore,{previous:ze(o),document:a},"add-connected-storage-to-collection")}catch(u){if(!Sc(u))throw u}}}async function yD(e,t,n){if(e.schema.version!==n.version)throw fe("SNH",{schema:n,version:e.schema.version,name:e.name,collection:e,args:{storageCollectionName:t}});for(var r=Wl(e.name,e.schema.jsonSchema),i=Xs(r,lo);;){var o=await Gp(e.database.internalStore,i),a=ar(ze(o)),s=a.data.connectedStorages.find(u=>u.collectionName===t&&u.schema.version===n.version);if(!s)return;a.data.connectedStorages=a.data.connectedStorages.filter(u=>u.collectionName!==t);try{await b1(e.database.internalStore,{previous:ze(o),document:a},"remove-connected-storage-from-collection")}catch(u){if(!Sc(u))throw u}}}function Wl(e,t){return e+"-"+t.version}function Qf(e,t){return t=ft(t),t=Lk(e,t),t=a_(e.primaryPath,e.jsonSchema,t),t._meta=ou(),Object.prototype.hasOwnProperty.call(t,"_deleted")||(t._deleted=!1),Object.prototype.hasOwnProperty.call(t,"_attachments")||(t._attachments={}),Object.prototype.hasOwnProperty.call(t,"_rev")||(t._rev=Er()),t}async function gD(e,t){t.multiInstance=e.multiInstance;var n=await e.storage.createStorageInstance(t);return n}async function P1(e,t,n,r,i,o,a){var s=await R1(t),u=s.filter(p=>p.data.name===i),d=[];u.forEach(p=>{d.push({collectionName:p.data.name,schema:p.data.schema,isCollection:!0}),p.data.connectedStorages.forEach(b=>d.push({collectionName:b.collectionName,isCollection:!1,schema:b.schema}))});var m=new Set;if(d=d.filter(p=>{var b=p.collectionName+"||"+p.schema.version;return m.has(b)?!1:(m.add(b),!0)}),await Promise.all(d.map(async p=>{var b=await e.createStorageInstance({collectionName:p.collectionName,databaseInstanceToken:n,databaseName:r,multiInstance:!1,options:{},schema:p.schema,password:o,devMode:zt.isDevMode()});await b.remove(),p.isCollection&&await _o("postRemoveRxCollection",{storage:e,databaseName:r,collectionName:i})})),a){var h=u.map(p=>{var b=Jp(p);return b._deleted=!0,b._meta.lwt=Jt(),b._rev=ti(n,p),{previous:p,document:b}});await t.bulkWrite(h,"rx-database-remove-collection-all")}}var wD=function(){function e(n){this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=n,this.subs.push(this.collection.$.pipe(vt(r=>!r.isLocal)).subscribe(r=>this._handleChangeEvent(r)))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var i=this.buffer[0],o=this.eventCounterMap.get(i);if(r<o)return null;var a=r-o;return a},t.getFrom=function(r){var i=[],o=this.getArrayIndexByPointer(r);if(o===null)return null;for(;;){var a=this.buffer[o];if(o++,a)i.push(a);else return i}},t.runFrom=function(r,i){var o=this.getFrom(r);if(o===null)throw new Error("out of bounds");o.forEach(a=>i(a))},t.reduceByLastOfDoc=function(r){return r.slice(0)},t.destroy=function(){this.subs.forEach(r=>r.unsubscribe())},e}();function _D(e){return new wD(e)}var bD=new WeakMap;function SD(e){var t=e.schema.getDocumentPrototype(),n=xD(e),r=du,i={};return[t,n,r].forEach(o=>{var a=Object.getOwnPropertyNames(o);a.forEach(s=>{var u=Object.getOwnPropertyDescriptor(o,s),d=!0;(s.startsWith("_")||s.endsWith("_")||s.startsWith("$")||s.endsWith("$"))&&(d=!1),typeof u.value=="function"?Object.defineProperty(i,s,{get(){return u.value.bind(this)},enumerable:d,configurable:!1}):(u.enumerable=d,u.configurable=!1,u.writable&&(u.writable=!1),Object.defineProperty(i,s,u))})}),i}function ED(e){return Nr(bD,e,()=>x1(SD(e)))}function CD(e,t){var n=cD(ED(e),e,zt.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,n),Cr("postCreateRxDocument",n),n}function xD(e){var t={};return Object.entries(e.methods).forEach(([n,r])=>{t[n]=r}),t}async function Hl(e,t){var n=Ui(e.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),r=await e.input.metaInstance.findDocumentsById([n],!1),i=r[0];if(e.lastCheckpointDoc[t]=i,i)return i.checkpointData}async function Vl(e,t,n){e.checkpointQueue=e.checkpointQueue.then(async()=>{var r=e.lastCheckpointDoc[t];if(n&&!e.events.canceled.getValue()&&(!r||JSON.stringify(r.checkpointData)!==JSON.stringify(n))){var i={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:n,_meta:ou(),_rev:Er()};for(i.id=Ui(e.input.metaInstance.schema,i);!e.events.canceled.getValue();){if(r&&(i.checkpointData=Js([r.checkpointData,i.checkpointData])),i._meta.lwt=Jt(),i._rev=ti(await e.checkpointKey,r),e.events.canceled.getValue())return;var o=await e.input.metaInstance.bulkWrite([{previous:r,document:i}],"replication-set-checkpoint"),a=o.success[0];if(a){e.lastCheckpointDoc[t]=a;return}else{var s=o.error[0];if(s.status!==409)throw s;r=ze(s.documentInDb),i._rev=ti(await e.checkpointKey,r)}}}}),await e.checkpointQueue}async function kD(e){var t=await e.hashFunction([e.identifier,e.forkInstance.databaseName,e.forkInstance.collectionName].join("||"));return"rx_storage_replication_"+t}function qy(e,t,n,r,i){var o=Object.assign({},r,{_attachments:t&&r._attachments?r._attachments:{},_meta:n?r._meta:{lwt:Jt()},_rev:n?r._rev:Er()});return o._rev||(o._rev=ti(e,i)),o}function yi(e,t,n){var r=ft(e);return t||delete r._attachments,n||(delete r._meta,delete r._rev),r}function Sh(e,t){return e.hasAttachments?t.map(n=>{var r=ar(n.document);return r.docData=Ci(r.docData),{document:r,previous:n.previous}}):t}function Eh(e){for(;;)if(e.underlyingPersistentStorage)e=e.underlyingPersistentStorage;else return e}var RD="RxReplicationProtocolMetaData";function OD(e,t){var n=Dk(e),r={title:RD,primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:e.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:n+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:n>4?n:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:e.properties},isResolvedConflict:{type:"string"}},keyCompression:e.keyCompression,required:["id","isCheckpoint","itemId"]};t&&(r.encrypted=["docData"]);var i=Ip(r);return i}function D1(e,t){return e.input.metaInstance.findDocumentsById(t.map(n=>{var r=Ui(e.input.metaInstance.schema,{itemId:n,isCheckpoint:"0"});return r}),!0).then(n=>{var r={};return Object.values(n).forEach(i=>{r[i.itemId]={docData:i.docData,metaDocument:i}}),r})}async function Ql(e,t,n,r){var i=t[e.primaryPath],o=n?Jp(n):{id:"",isCheckpoint:"0",itemId:i,docData:t,_attachments:{},_deleted:!1,_rev:Er(),_meta:{lwt:0}};o.docData=t,r&&(o.isResolvedConflict=r),o._meta.lwt=Jt(),o.id=Ui(e.input.metaInstance.schema,o),o._rev=ti(await e.checkpointKey,n);var a={previous:n,document:o};return a}async function PD(e){if(e.input.initialCheckpoint&&e.input.initialCheckpoint.downstream){var t=await Hl(e,"down");t||await Vl(e,"down",e.input.initialCheckpoint.downstream)}var n=await e.input.hashFunction(e.input.identifier),r=e.input.replicationHandler,i=0,o=[];function a(g){e.stats.down.addNewTask=e.stats.down.addNewTask+1;var S={time:i++,task:g};o.push(S),e.streamQueue.down=e.streamQueue.down.then(()=>{for(var I=[];o.length>0;){e.events.active.down.next(!0);var E=ze(o.shift());if(!(E.time<u)){if(E.task==="RESYNC")if(I.length===0){I.push(E.task);break}else break;I.push(E.task)}}if(I.length!==0)return I[0]==="RESYNC"?d():m(I)}).then(()=>{e.events.active.down.next(!1),!e.firstSyncDone.down.getValue()&&!e.events.canceled.getValue()&&e.firstSyncDone.down.next(!0)})}if(a("RESYNC"),!e.events.canceled.getValue()){var s=r.masterChangeStream$.pipe(qi(async g=>(await Co(e.events.active.up.pipe(vt(S=>!S))),g))).subscribe(g=>{e.stats.down.masterChangeStreamEmit=e.stats.down.masterChangeStreamEmit+1,a(g)});Co(e.events.canceled.pipe(vt(g=>!!g))).then(()=>s.unsubscribe())}var u=-1;async function d(){if(e.stats.down.downstreamResyncOnce=e.stats.down.downstreamResyncOnce+1,!e.events.canceled.getValue()){e.checkpointQueue=e.checkpointQueue.then(()=>Hl(e,"down"));for(var g=await e.checkpointQueue,S=[];!e.events.canceled.getValue();){u=i++;var I=await r.masterChangesSince(g,e.input.pullBatchSize);if(I.documents.length===0||(g=Js([g,I.checkpoint]),S.push(b(I.documents,g)),I.documents.length<e.input.pullBatchSize))break}await Promise.all(S)}}function m(g){e.stats.down.downstreamProcessChanges=e.stats.down.downstreamProcessChanges+1;var S=[],I=null;return g.forEach(E=>{if(E==="RESYNC")throw new Error("SNH");go(S,E.documents),I=Js([I,E.checkpoint])}),b(S,ze(I))}var h=xn,p={docs:{}};function b(g,S){var I=e.primaryPath;return e.stats.down.persistFromMaster=e.stats.down.persistFromMaster+1,g.forEach(E=>{var x=E[I];p.docs[x]=E}),p.checkpoint=S,h=h.then(()=>{var E=p.docs;p.docs={};var x=p.checkpoint,y=Object.keys(E);if(e.events.canceled.getValue()||y.length===0)return xn;var O=[],T={},k={},P=[];return Promise.all([e.input.forkInstance.findDocumentsById(y,!0),D1(e,y)]).then(([L,B])=>{var N=new Map;return L.forEach(F=>N.set(F[I],F)),Promise.all(y.map(async F=>{var Z=N.get(F),ue=Z?yi(Z,e.hasAttachments,!1):void 0,Ee=E[F],Re=B[F];if(Re&&Z&&Re.metaDocument.isResolvedConflict===Z._rev)return xn;var Ce=!Re||!ue?!1:await e.input.conflictHandler({realMasterState:Re.docData,newDocumentState:ue},"downstream-check-if-equal-0").then(Ne=>Ne.isEqual);if(!Ce&&Re&&Re.docData._rev&&Z&&Z._meta[e.input.identifier]&&Sa(Z._rev).height===Z._meta[e.input.identifier]&&(Ce=!0),Z&&Re&&Ce===!1||Z&&!Re)return xn;var Ie=ue?await e.input.conflictHandler({realMasterState:Ee,newDocumentState:ue},"downstream-check-if-equal-1").then(Ne=>Ne.isEqual):!1;if(ue&&Ie)return(!Re||Ce===!1)&&P.push(await Ql(e,ue,Re?Re.metaDocument:void 0)),xn;var ce=Object.assign({},Ee,Z?{_meta:ft(Z._meta),_attachments:e.hasAttachments&&Ee._attachments?Ee._attachments:{},_rev:Er()}:{_meta:{lwt:Jt()},_rev:Er(),_attachments:e.hasAttachments&&Ee._attachments?Ee._attachments:{}});if(Ee._rev){var se=Z?Sa(Z._rev).height+1:1;ce._meta[e.input.identifier]=se,e.input.keepMeta&&(ce._rev=Ee._rev)}e.input.keepMeta&&Ee._meta&&(ce._meta=Ee._meta);var we={previous:Z,document:ce};we.document._rev=we.document._rev?we.document._rev:ti(n,we.previous),O.push(we),T[F]=we,k[F]=await Ql(e,Ee,Re?Re.metaDocument:void 0)}))}).then(async()=>{if(O.length>0)return e.input.forkInstance.bulkWrite(O,await e.downstreamBulkWriteFlag).then(L=>{L.success.forEach(B=>{var N=B[I];e.events.processed.down.next(T[N]),P.push(k[N])}),L.error.forEach(B=>{B.status!==409&&e.events.error.next(fe("RC_PULL",{writeError:B}))})})}).then(()=>{if(P.length>0)return e.input.metaInstance.bulkWrite(Sh(e,P),"replication-down-write-meta").then(L=>{L.error.forEach(B=>{e.events.error.next(fe("RC_PULL",{id:B.documentId,writeError:B}))})})}).then(()=>{Vl(e,"down",x)})}).catch(E=>e.events.error.next(E)),h}}var T1=function(e,t){var n=Ci(e.newDocumentState),r=Ci(e.realMasterState);return Hs(n,r)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};async function DD(e,t,n){var r=e.input.conflictHandler,i=await r(t,"replication-resolve-conflict");if(!i.isEqual){var o=Object.assign({},i.documentData,{_meta:ft(n._meta),_rev:Er(),_attachments:ft(n._attachments)});return o._meta.lwt=Jt(),o._rev=ti(await e.checkpointKey,n),{resolvedDoc:o,output:i}}}async function Ch(e,t,n,r){if(!n._attachments||r&&!r._attachments)throw new Error("_attachments missing");var i=n[e],o=new Set(r&&r._attachments?Object.keys(r._attachments):[]);return await Promise.all(Object.entries(n._attachments).map(async([a,s])=>{if((!o.has(a)||r&&ze(r._attachments)[a].digest!==s.digest)&&!s.data){var u=await t.getAttachmentData(i,a,s.digest);s.data=u}})),n}async function TD(e){if(e.input.initialCheckpoint&&e.input.initialCheckpoint.upstream){var t=await Hl(e,"up");t||await Vl(e,"up",e.input.initialCheckpoint.upstream)}var n=e.input.replicationHandler;e.streamQueue.up=e.streamQueue.up.then(()=>d().then(()=>{m()}));var r=0,i=-1,o=[],a=gr,s={docs:{}},u=e.input.forkInstance.changeStream().subscribe(async p=>{if(p.context!==await e.downstreamBulkWriteFlag)return e.stats.up.forkChangeStreamEmit=e.stats.up.forkChangeStreamEmit+1,o.push({task:p,time:r++}),e.events.active.up.getValue()||e.events.active.up.next(!0),e.input.waitBeforePersist?e.input.waitBeforePersist().then(()=>m()):m()});Co(e.events.canceled.pipe(vt(p=>!!p))).then(()=>u.unsubscribe());async function d(){if(e.stats.up.upstreamInitialSync=e.stats.up.upstreamInitialSync+1,!e.events.canceled.getValue()){e.checkpointQueue=e.checkpointQueue.then(()=>Hl(e,"up"));for(var p=await e.checkpointQueue,b=new Set,g=async function(){i=r++,b.size>3&&await Promise.race(Array.from(b));var E=await C1(e.input.forkInstance,e.input.pushBatchSize,p);if(E.documents.length===0)return 1;p=Js([p,E.checkpoint]);var x=h(E.documents,ze(p));b.add(x),x.catch().then(()=>b.delete(x))};!e.events.canceled.getValue()&&!await g(););var S=await Promise.all(b),I=S.find(E=>!!E);I?await d():!e.firstSyncDone.up.getValue()&&!e.events.canceled.getValue()&&e.firstSyncDone.up.next(!0)}}function m(){if(e.events.canceled.getValue()||o.length===0){e.events.active.up.next(!1);return}e.stats.up.processTasks=e.stats.up.processTasks+1,e.events.active.up.next(!0),e.streamQueue.up=e.streamQueue.up.then(()=>{for(var p=[],b={};o.length>0;){var g=ze(o.shift());g.time<i||(go(p,g.task.events.map(I=>I.documentData)),b=Js([b,g.task.checkpoint]))}var S=p.length===0?gr:h(p,b);return S.then(()=>{o.length===0?e.events.active.up.next(!1):m()})})}function h(p,b){return e.stats.up.persistToMaster=e.stats.up.persistToMaster+1,p.forEach(g=>{var S=g[e.primaryPath];s.docs[S]=g}),s.checkpoint=b,a=a.then(async()=>{if(e.events.canceled.getValue())return!1;var g=s.docs;s.docs={};var S=s.checkpoint,I=Object.keys(g);if(I.length===0)return!1;var E=await D1(e,I),x={},y=[],O={},T={};if(await Promise.all(I.map(async Ce=>{var Ie=g[Ce];T[Ce]=Ie;var ce=yi(Ie,e.hasAttachments,!!e.input.keepMeta),se=E[Ce];se&&se.metaDocument.isResolvedConflict!==Ie._rev&&(await e.input.conflictHandler({realMasterState:se.docData,newDocumentState:ce},"upstream-check-if-equal")).isEqual||se&&se.docData._rev&&Sa(Ie._rev).height===Ie._meta[e.input.identifier]||(y.push(Ce),x[Ce]={assumedMasterState:se?se.docData:void 0,newDocumentState:ce},O[Ce]=await Ql(e,ce,se?se.metaDocument:void 0))})),y.length===0)return!1;var k=Object.values(x),P=new Set,L={},B=Jx(k,e.input.pushBatchSize);await Promise.all(B.map(async Ce=>{e.hasAttachments&&await Promise.all(Ce.map(async ce=>{ce.newDocumentState=await Ch(e.primaryPath,e.input.forkInstance,ar(ce.newDocumentState),ce.assumedMasterState)}));var Ie=await n.masterWrite(Ce);Ie.forEach(ce=>{var se=ce[e.primaryPath];P.add(se),L[se]=ce})}));var N=[];if(y.forEach(Ce=>{P.has(Ce)||(e.events.processed.up.next(x[Ce]),N.push(O[Ce]))}),e.events.canceled.getValue())return!1;N.length>0&&await e.input.metaInstance.bulkWrite(Sh(e,N),"replication-up-write-meta");var F=!1;if(P.size>0){e.stats.up.persistToMasterHadConflicts=e.stats.up.persistToMasterHadConflicts+1;var Z=[],ue={};if(await Promise.all(Object.entries(L).map(([Ce,Ie])=>{var ce=x[Ce],se={newDocumentState:ce.newDocumentState,assumedMasterState:ce.assumedMasterState,realMasterState:Ie};return DD(e,se,T[Ce]).then(async we=>{if(we){e.events.resolvedConflicts.next({input:se,output:we.output}),Z.push({previous:T[Ce],document:we.resolvedDoc});var Ne=E[Ce];ue[Ce]=await Ql(e,ze(Ie),Ne?Ne.metaDocument:void 0,we.resolvedDoc._rev)}})})),Z.length>0){F=!0,e.stats.up.persistToMasterConflictWrites=e.stats.up.persistToMasterConflictWrites+1;var Ee=await e.input.forkInstance.bulkWrite(Z,"replication-up-write-conflict"),Re=[];Ee.success.forEach(Ce=>{var Ie=Ce[e.primaryPath];Re.push(ue[Ie])}),Re.length>0&&await e.input.metaInstance.bulkWrite(Sh(e,Re),"replication-up-write-conflict-meta")}}return Vl(e,"up",S),F}).catch(g=>(e.events.error.next(g),!1)),a}}function ID(e){e=ft(e),e.forkInstance=Eh(e.forkInstance),e.metaInstance=Eh(e.metaInstance);var t=kD(e),n={primaryPath:Tn(e.forkInstance.schema.primaryKey),hasAttachments:!!e.forkInstance.schema.attachments,input:e,checkpointKey:t,downstreamBulkWriteFlag:t.then(r=>"replication-downstream-"+r),events:{canceled:new Kr(!1),active:{down:new Kr(!0),up:new Kr(!0)},processed:{down:new Lt,up:new Lt},resolvedConflicts:new Lt,error:new Lt},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new Kr(!1),up:new Kr(!1)},streamQueue:{down:xn,up:xn},checkpointQueue:xn,lastCheckpointDoc:{}};return PD(n),TD(n),n}function Yf(e){return Co(D_([e.firstSyncDone.down.pipe(vt(t=>!!t)),e.firstSyncDone.up.pipe(vt(t=>!!t))])).then(()=>{})}function Ky(e){return Promise.all([e.streamQueue.up,e.streamQueue.down,e.checkpointQueue])}function AD(e,t,n,r=!1){e=Eh(e);var i=!!e.schema.attachments,o=Tn(e.schema.primaryKey),a={masterChangeStream$:e.changeStream().pipe(qi(async s=>{var u={checkpoint:s.checkpoint,documents:await Promise.all(s.events.map(async d=>{var m=yi(d.documentData,i,r);return i&&(m=await Ch(o,e,ar(m),void 0)),m}))};return u})),masterChangesSince(s,u){return C1(e,u,s).then(async d=>({checkpoint:d.documents.length>0?d.checkpoint:s,documents:await Promise.all(d.documents.map(async m=>{var h=yi(m,i,r);return i&&(h=await Ch(o,e,ar(h),void 0)),h}))}))},async masterWrite(s){var u={};s.forEach(S=>{var I=S.newDocumentState[o];u[I]=S});var d=Object.keys(u),m=await e.findDocumentsById(d,!0),h=new Map;m.forEach(S=>h.set(S[o],S));var p=[],b=[];if(await Promise.all(Object.entries(u).map(async([S,I])=>{var E=h.get(S);E?E&&!I.assumedMasterState?p.push(yi(E,i,r)):(await t({realMasterState:yi(E,i,r),newDocumentState:ze(I.assumedMasterState)},"rxStorageInstanceToReplicationHandler-masterWrite")).isEqual===!0?b.push({previous:E,document:qy(n,i,r,I.newDocumentState,E)}):p.push(yi(E,i,r)):b.push({document:qy(n,i,r,I.newDocumentState)})})),b.length>0){var g=await e.bulkWrite(b,"replication-master-write");g.error.forEach(S=>{if(S.status!==409)throw new Error("non conflict error");p.push(yi(ze(S.documentInDb),i,r))})}return p}};return a}async function LD(e){e.events.canceled.next(!0),e.events.active.up.complete(),e.events.active.down.complete(),e.events.processed.up.complete(),e.events.processed.down.complete(),e.events.resolvedConflicts.complete(),e.events.canceled.complete(),await e.checkpointQueue}var I1=["pre","post"],A1=["insert","save","remove","create"],Wy=!1,em=function(){function e(n,r,i,o,a={},s={},u={},d={},m={},h=v1,p={},b=T1){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=jP(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.database=n,this.name=r,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=a,this.migrationStrategies=s,this.methods=u,this.attachments=d,this.options=m,this.cacheReplacementPolicy=h,this.statics=p,this.conflictHandler=b,MD(this.asRxCollection)}var t=e.prototype;return t.prepare=async function(){this.storageInstance=S1(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new uD(this.storageInstance,this.schema.primaryPath,(a,s)=>k1(this,a,s),a=>this._runHooks("post","save",a));var r=this.database.eventBulks$.pipe(vt(a=>a.collectionName===this.name));this.$=r.pipe(qi(a=>a.events)),this.checkpoint$=r.pipe(wr(a=>a.checkpoint)),this._changeEventBuffer=_D(this.asRxCollection),this._docCache=new qP(this.schema.primaryPath,this.$.pipe(vt(a=>!a.isLocal)),a=>CD(this.asRxCollection,a));var i=await this.database.storageToken,o=this.storageInstance.changeStream().subscribe(a=>{var s={id:a.id,internal:!1,collectionName:this.name,storageToken:i,events:a.events.map(u=>nD(!1,u,this)),databaseToken:this.database.token,checkpoint:a.checkpoint,context:a.context,endTime:a.endTime,startTime:a.startTime};this.database.$emit(s)});return this._subs.push(o),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(a=>{this.conflictHandler(a.input,a.context).then(s=>{this.storageInstance.resolveConflictResultionTask({id:a.id,output:s})})})),xn},t.cleanup=function(r){throw wt("cleanup")},t.migrationNeeded=function(){throw wt("migration-schema")},t.getMigrationState=function(){throw wt("migration-schema")},t.startMigration=function(r=10){return this.getMigrationState().startMigration(r)},t.migratePromise=function(r=10){return this.getMigrationState().migratePromise(r)},t.insert=async function(r){var i=await this.bulkInsert([r]),o=i.error[0];Kl(this,r[this.schema.primaryPath],r,o);var a=ze(i.success[0]);return a},t.bulkInsert=async function(r){if(r.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o=r.map(h=>{var p=Qf(this.schema,h);return p}),a=this.hasHooks("pre","insert")?await Promise.all(o.map(h=>this._runHooks("pre","insert",h).then(()=>h))):o,s=a.map(h=>{var p={document:h};return p}),u=await this.storageInstance.bulkWrite(s,"rx-collection-bulk-insert"),d=y1(this._docCache,u.success);if(this.hasHooks("post","insert")){var m=new Map;a.forEach(h=>{m.set(h[i],h)}),await Promise.all(d.map(h=>this._runHooks("post","insert",m.get(h.primary),h)))}return{success:d,error:u.error}},t.bulkRemove=async function(r){var i=this.schema.primaryPath;if(r.length===0)return{success:[],error:[]};var o=await this.findByIds(r).exec(),a=[],s=new Map;Array.from(o.values()).forEach(p=>{var b=p.toMutableJSON(!0);a.push(b),s.set(p.primary,b)}),await Promise.all(a.map(p=>{var b=p[this.schema.primaryPath];return this._runHooks("pre","remove",p,o.get(b))}));var u=a.map(p=>{var b=ft(p);return b._deleted=!0,{previous:p,document:b}}),d=await this.storageInstance.bulkWrite(u,"rx-collection-bulk-remove"),m=d.success.map(p=>p[i]);await Promise.all(m.map(p=>this._runHooks("post","remove",s.get(p),o.get(p))));var h=m.map(p=>wo(o,p));return{success:h,error:d.error}},t.bulkUpsert=async function(r){var i=[],o=new Map;r.forEach(d=>{var m=Qf(this.schema,d),h=m[this.schema.primaryPath];if(!h)throw fe("COL3",{primaryPath:this.schema.primaryPath,data:m,schema:this.schema.jsonSchema});o.set(h,m),i.push(m)});var a=await this.bulkInsert(i),s=a.success.slice(0),u=[];return await Promise.all(a.error.map(async d=>{if(d.status!==409)u.push(d);else{var m=d.documentId,h=wo(o,m),p=ze(d.documentInDb),b=this._docCache.getCachedRxDocument(p),g=await b.incrementalModify(()=>h);s.push(g)}})),{error:u,success:s}},t.upsert=async function(r){var i=await this.bulkUpsert([r]);return Kl(this.asRxCollection,r[this.schema.primaryPath],r,i.error[0]),i.success[0]},t.incrementalUpsert=function(r){var i=Qf(this.schema,r),o=i[this.schema.primaryPath];if(!o)throw fe("COL4",{data:r});var a=this._incrementalUpsertQueues.get(o);return a||(a=xn),a=a.then(()=>jD(this,o,i)).then(s=>s.inserted?s.doc:ND(s.doc,i)),this._incrementalUpsertQueues.set(o,a),a},t.find=function(r){if(typeof r=="string")throw fe("COL5",{queryObj:r});r||(r=Ss());var i=qo("find",r,this);return i},t.findOne=function(r){if(typeof r=="number"||Array.isArray(r))throw rr("COL6",{queryObj:r});var i;if(typeof r=="string")i=qo("findOne",{selector:{[this.schema.primaryPath]:r},limit:1},this);else{if(r||(r=Ss()),r.limit)throw fe("QU6");r=ft(r),r.limit=1,i=qo("findOne",r,this)}return i},t.count=function(r){r||(r=Ss());var i=qo("count",r,this);return i},t.findByIds=function(r){var i={selector:{[this.schema.primaryPath]:{$in:r.slice(0)}}},o=qo("findByIds",i,this);return o},t.exportJSON=function(){throw wt("json-dump")},t.importJSON=function(r){throw wt("json-dump")},t.insertCRDT=function(r){throw wt("crdt")},t.addHook=function(r,i,o,a=!1){if(typeof o!="function")throw rr("COL7",{key:i,when:r});if(!I1.includes(r))throw rr("COL8",{key:i,when:r});if(!A1.includes(i))throw fe("COL9",{key:i});if(r==="post"&&i==="create"&&a===!0)throw fe("COL10",{when:r,key:i,parallel:a});var s=o.bind(this),u=a?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][r]=this.hooks[i][r]||{series:[],parallel:[]},this.hooks[i][r][u].push(s)},t.getHooks=function(r,i){return!this.hooks[i]||!this.hooks[i][r]?{series:[],parallel:[]}:this.hooks[i][r]},t.hasHooks=function(r,i){var o=this.getHooks(r,i);return o?o.series.length>0||o.parallel.length>0:!1},t._runHooks=function(r,i,o,a){var s=this.getHooks(r,i);if(!s)return xn;var u=s.series.map(d=>()=>d(o,a));return wk(u).then(()=>Promise.all(s.parallel.map(d=>d(o,a))))},t._runHooksSync=function(r,i,o,a){var s=this.getHooks(r,i);s&&s.series.forEach(u=>u(o,a))},t.promiseWait=function(r){var i=new Promise(o=>{var a=setTimeout(()=>{this.timeouts.delete(a),o()},r);this.timeouts.add(a)});return i},t.destroy=function(){return this.destroyed?gr:(this.destroyed=!0,Array.from(this.timeouts).forEach(r=>clearTimeout(r)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(r=>r.unsubscribe()),delete this.database.collections[this.name],_o("postDestroyRxCollection",this).then(()=>!0))))},t.remove=async function(){await this.destroy(),await P1(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)},$i(e,[{key:"insert$",get:function(){return this.$.pipe(vt(n=>n.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(vt(n=>n.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(vt(n=>n.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])}();function MD(e){if(!Wy){Wy=!0;var t=Object.getPrototypeOf(e);A1.forEach(n=>{I1.map(r=>{var i=r+Gw(n);t[i]=function(o,a){return this.addHook(r,n,o,a)}})})}}function ND(e,t){return e.incrementalModify(n=>t)}function jD(e,t,n){var r=e._docCache.getLatestDocumentDataIfExists(t);return r?Promise.resolve({doc:e._docCache.getCachedRxDocument(r),inserted:!1}):e.findOne(t).exec().then(i=>i?{doc:i,inserted:!1}:e.insert(n).then(o=>({doc:o,inserted:!0})))}function FD({database:e,name:t,schema:n,instanceCreationOptions:r={},migrationStrategies:i={},autoMigrate:o=!0,statics:a={},methods:s={},attachments:u={},options:d={},localDocuments:m=!1,cacheReplacementPolicy:h=v1,conflictHandler:p=T1}){var b={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:n.jsonSchema,options:r,multiInstance:e.multiInstance,password:e.password,devMode:zt.isDevMode()};return Cr("preCreateRxStorageInstance",b),gD(e,b).then(g=>{var S=new em(e,t,n,g,r,i,s,u,d,h,a,p);return S.prepare().then(()=>{Object.entries(a).forEach(([E,x])=>{Object.defineProperty(S,E,{get:()=>x.bind(S)})});var I=xn;return o&&S.schema.version!==0&&(I=S.migratePromise()),I}).then(()=>(Cr("createRxCollection",{collection:S,creator:{name:t,schema:n,storageInstance:g,instanceCreationOptions:r,migrationStrategies:i,methods:s,attachments:u,options:d,cacheReplacementPolicy:h,localDocuments:m,statics:a}}),S)).catch(I=>g.close().then(()=>Promise.reject(I)))})}var L1=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};L1.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,xh(this)},wrapCall:function(t){var n=this;this.lock();var r;try{r=t()}catch(i){throw this.unlock(),i}return!r.then||typeof r.then!="function"?(this.unlock(),r):r.then(function(i){return n.unlock(),i}).catch(function(i){throw n.unlock(),i})},requestIdlePromise:function(t){var n=this;t=t||{};var r,i=new Promise(function(s){return r=s}),o=function(){Gf(n,i),r()};if(i._manRes=o,t.timeout){var a=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=a}return this._iC.add(i),xh(this),i},cancelIdlePromise:function(t){Gf(this,t)},requestIdleCallback:function(t,n){var r=this._lHN++,i=this.requestIdlePromise(n);return this._hPM.set(r,i),this._pHM.set(i,r),i.then(function(){return t()}),r},cancelIdleCallback:function(t){var n=this._hPM.get(t);this.cancelIdlePromise(n)},clear:function(){var t=this;this._iC.forEach(function(n){return Gf(t,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function BD(e){if(e._iC.size!==0){var t=e._iC.values(),n=t.next().value;n._manRes(),setTimeout(function(){return xh(e)},0)}}function Gf(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function xh(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}BD(e),e._tryIR=!1},0)},0))}class tm{constructor(t){Ur(this,"ttl");Ur(this,"map",new Map);Ur(this,"_to",!1);this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,M1()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,$D(this)},0))}clear(){this.map.clear()}}function $D(e){const t=M1()-e.ttl,n=e.map[Symbol.iterator]();for(;;){const r=n.next().value;if(!r)return;const i=r[0];if(r[1]<t)e.map.delete(i);else return}}function M1(){return Date.now()}var Yl=new Set,nm=function(){function e(n,r,i,o,a,s,u=!1,d={},m,h,p,b,g){this.idleQueue=new L1,this.rxdbVersion=n_,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new Lt,this.observable$=this.eventBulks$.pipe(qi(S=>S.events)),this.storageToken=gr,this.storageTokenDocument=gr,this.emittedEventBulkIds=new tm(60*1e3),this.name=n,this.token=r,this.storage=i,this.instanceCreationOptions=o,this.password=a,this.multiInstance=s,this.eventReduce=u,this.options=d,this.internalStore=m,this.hashFunction=h,this.cleanupPolicy=p,this.allowSlowCount=b,this.reactivity=g,this.name!=="pseudoInstance"&&(this.internalStore=S1(this.asRxDatabase,m,Zp),this.storageTokenDocument=pD(this.asRxDatabase).catch(S=>this.startupErrors.push(S)),this.storageToken=this.storageTokenDocument.then(S=>S.data.token).catch(S=>this.startupErrors.push(S)))}var t=e.prototype;return t.getReactivityFactory=function(){if(!this.reactivity)throw fe("DB14",{database:this.name});return this.reactivity},t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r))},t.removeCollectionDoc=async function(r,i){var o=await Gp(this.internalStore,Xs(Wl(r,i),lo));if(!o)throw fe("SNH",{name:r,schema:i});var a=Jp(o);a._deleted=!0,await this.internalStore.bulkWrite([{document:a,previous:o}],"rx-database-remove-collection")},t.addCollections=async function(r){var i={},o={},a=[],s={};await Promise.all(Object.entries(r).map(async([m,h])=>{var p=m,b=h.schema;i[p]=b;var g=jk(b,this.hashFunction);if(o[p]=g,this.collections[m])throw fe("DB3",{name:m});var S=Wl(m,b),I={id:Xs(S,lo),key:S,context:lo,data:{name:p,schemaHash:await g.hash,schema:g.jsonSchema,version:g.version,connectedStorages:[]},_deleted:!1,_meta:ou(),_rev:Er(),_attachments:{}};a.push({document:I});var E=Object.assign({},h,{name:p,schema:g,database:this}),x=ft(h);x.database=this,x.name=m,Cr("preCreateRxCollection",x),E.conflictHandler=x.conflictHandler,s[p]=E}));var u=await this.internalStore.bulkWrite(a,"rx-database-add-collection");await zD(this),await Promise.all(u.error.map(async m=>{if(m.status!==409)throw fe("DB12",{database:this.name,writeError:m});var h=ze(m.documentInDb),p=h.data.name,b=o[p];if(h.data.schemaHash!==await b.hash)throw fe("DB6",{database:this.name,collection:p,previousSchemaHash:h.data.schemaHash,schemaHash:await b.hash,previousSchema:h.data.schema,schema:ze(i[p])})}));var d={};return await Promise.all(Object.keys(r).map(async m=>{var h=s[m],p=await FD(h);d[m]=p,this.collections[m]=p,this[m]||Object.defineProperty(this,m,{get:()=>this.collections[m]})})),d},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(r){throw wt("json-dump")},t.addState=function(r){throw wt("state")},t.importJSON=function(r){throw wt("json-dump")},t.backup=function(r){throw wt("backup")},t.leaderElector=function(){throw wt("leader-election")},t.isLeader=function(){throw wt("leader-election")},t.waitForLeadership=function(){throw wt("leader-election")},t.migrationStates=function(){throw wt("migration-schema")},t.destroy=async function(){return this.destroyed||(this.destroyed=!0,await _o("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(r=>r.unsubscribe()),this.name==="pseudoInstance")?gr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>Promise.all(Object.keys(this.collections).map(r=>this.collections[r]).map(r=>r.destroy()))).then(()=>this.internalStore.close()).then(()=>Yl.delete(this.storage.name+"|"+this.name)).then(()=>!0)},t.remove=function(){return this.destroy().then(()=>rm(this.name,this.storage,this.password))},$i(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function UD(e,t){var n=t.name+"|"+e;if(Yl.has(n))throw fe("DB8",{name:e,storage:t.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}async function N1(e,t,n,r,i,o){var a=await t.createStorageInstance({databaseInstanceToken:e,databaseName:n,collectionName:tD,schema:Zp,options:r,multiInstance:i,password:o,devMode:zt.isDevMode()});return a}function j1({storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i=!0,eventReduce:o=!0,ignoreDuplicate:a=!1,options:s={},cleanupPolicy:u,allowSlowCount:d=!1,localDocuments:m=!1,hashFunction:h=pk,reactivity:p}){Cr("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:m}),a||UD(n,e),Yl.add(e.name+"|"+n);var b=Ia(10);return N1(b,e,n,t,i,r).catch(g=>{throw Yl.delete(e.name+"|"+n),g}).then(g=>{var S=new nm(n,b,e,t,r,i,o,s,g,h,u,d,p);return _o("createRxDatabase",{database:S,creator:{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:m}}).then(()=>S)})}async function rm(e,t,n){var r=Ia(10),i=await N1(r,t,e,{},!1,n),o=await R1(i),a=new Set;o.forEach(u=>a.add(u.data.name));var s=Array.from(a);return await Promise.all(s.map(u=>P1(t,i,r,e,u,n))),await _o("postRemoveRxDatabase",{databaseName:e,storage:t}),await i.remove(),s}async function zD(e){if(await e.storageToken,e.startupErrors[0])throw e.startupErrors[0]}var qD={RxSchema:u_.prototype,RxDocument:du,RxQuery:g1.prototype,RxCollection:em.prototype,RxDatabase:nm.prototype},Jf=new Set,Hy=new Set;function sr(e){if(Cr("preAddRxPlugin",{plugin:e,plugins:Jf}),!Jf.has(e)){{if(Hy.has(e.name))throw fe("PL3",{name:e.name,plugin:e});Jf.add(e),Hy.add(e.name)}if(!e.rxdb)throw rr("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,n])=>n(qD[t])),e.overwritable&&Object.assign(zt,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,n])=>{n.after&&Qs[t].push(n.after),n.before&&Qs[t].unshift(n.before)})}}function KD(e){return e&&typeof e.then=="function"}Promise.resolve(!1);var WD=Promise.resolve(!0),Gr=Promise.resolve();function io(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function HD(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function hu(){return Math.random().toString(36).substring(2)}var Xf=0;function pu(){var e=Date.now()*1e3;return e<=Xf&&(e=Xf+1),Xf=e,e}function VD(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&typeof navigator.locks.request=="function"}var QD=pu,YD="native";function GD(e){var t={time:pu(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function JD(e){e.bc.close(),e.subFns=[]}function XD(e,t){try{return e.bc.postMessage(t,!1),Gr}catch(n){return Promise.reject(n)}}function ZD(e,t){e.messagesCallback=t}function eT(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function tT(){return 150}var nT={create:GD,close:JD,onMessage:ZD,postMessage:XD,canBeUsed:eT,type:YD,averageResponseTime:tT,microSeconds:QD};function im(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var rT=pu,iT="pubkey.broadcast-channel-0-",ai="messages",Rc={durability:"relaxed"},oT="idb";function F1(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function om(e){e.commit&&e.commit()}function aT(e){var t=F1(),n=iT+e,r=t.open(n);return r.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(ai,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){i(r.result)}})}function sT(e,t,n){var r=Date.now(),i={uuid:t,time:r,data:n},o=e.transaction([ai],"readwrite",Rc);return new Promise(function(a,s){o.oncomplete=function(){return a()},o.onerror=function(d){return s(d)};var u=o.objectStore(ai);u.add(i),om(o)})}function uT(e,t){var n=e.transaction(ai,"readonly",Rc),r=n.objectStore(ai),i=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(o);return new Promise(function(u,d){a.onerror=function(m){return d(m)},a.onsuccess=function(m){u(m.target.result)}})}function s(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch{return r.openCursor()}}return new Promise(function(u,d){var m=s();m.onerror=function(h){return d(h)},m.onsuccess=function(h){var p=h.target.result;p?p.value.id<t+1?p.continue(t+1):(i.push(p.value),p.continue()):(om(n),u(i))}})}function lT(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(ai,"readwrite",Rc),r=n.objectStore(ai);return Promise.all(t.map(function(i){var o=r.delete(i);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function cT(e,t){var n=Date.now()-t,r=e.transaction(ai,"readonly",Rc),i=r.objectStore(ai),o=[];return new Promise(function(a){i.openCursor().onsuccess=function(s){var u=s.target.result;if(u){var d=u.value;d.time<n?(o.push(d),u.continue()):(om(r),a(o))}else a(o)}})}function fT(e){return cT(e.db,e.options.idb.ttl).then(function(t){return lT(e,t.map(function(n){return n.id}))})}function dT(e,t){return t=im(t),aT(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:hu(),eMIs:new tm(t.idb.ttl*2),writeBlockPromise:Gr,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},B1(r),r})}function B1(e){e.closed||$1(e).then(function(){return io(e.options.idb.fallbackInterval)}).then(function(){return B1(e)})}function hT(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function $1(e){return e.closed||!e.messagesCallback?Gr:uT(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return hT(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Gr})}function pT(e){e.closed=!0,e.db.close()}function mT(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return sT(e.db,e.uuid,t)}).then(function(){HD(0,10)===0&&fT(e)}),e.writeBlockPromise}function vT(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,$1(e)}function yT(){return!!F1()}function gT(e){return e.idb.fallbackInterval*2}var wT={create:dT,close:pT,onMessage:vT,postMessage:mT,canBeUsed:yT,type:oT,averageResponseTime:gT,microSeconds:rT},_T=pu,bT="pubkey.broadcastChannel-",ST="localstorage";function U1(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function z1(e){return bT+e}function ET(e,t){return new Promise(function(n){io().then(function(){var r=z1(e.channelName),i={token:hu(),time:Date.now(),data:t,uuid:e.uuid},o=JSON.stringify(i);U1().setItem(r,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=o,window.dispatchEvent(a),n()})})}function CT(e,t){var n=z1(e),r=function(o){o.key===n&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function xT(e){window.removeEventListener("storage",e)}function kT(e,t){if(t=im(t),!q1())throw new Error("BroadcastChannel: localstorage cannot be used");var n=hu(),r=new tm(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=CT(e,function(o){i.messagesCallback&&o.uuid!==n&&(!o.token||r.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(r.add(o.token),i.messagesCallback(o.data)))}),i}function RT(e){xT(e.listener)}function OT(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function q1(){var e=U1();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function PT(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var DT={create:kT,close:RT,onMessage:OT,postMessage:ET,canBeUsed:q1,type:ST,averageResponseTime:PT,microSeconds:_T},K1=pu,TT="simulate",am=new Set;function IT(e){var t={time:K1(),name:e,messagesCallback:null};return am.add(t),t}function AT(e){am.delete(e)}var W1=5;function LT(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(am);r.forEach(function(i){i.name===e.name&&i!==e&&i.messagesCallback&&i.time<t.time&&i.messagesCallback(t)}),n()},W1)})}function MT(e,t){e.messagesCallback=t}function NT(){return!0}function jT(){return W1}var FT={create:IT,close:AT,onMessage:MT,postMessage:LT,canBeUsed:NT,type:TT,averageResponseTime:jT,microSeconds:K1},Vy=[nT,wT,DT];function BT(e){var t=[].concat(e.methods,Vy).filter(Boolean);if(e.type){if(e.type==="simulate")return FT;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(Vy.map(function(i){return i.type})))}var H1=new Set,$T=0,sm=function(t,n){this.id=$T++,H1.add(this),this.name=t,Qy&&(n=Qy),this.options=im(n),this.method=BT(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,UT(this)};sm._pubkey=!0;var Qy;sm.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Yy(this,"message",t)},postInternal:function(t){return Yy(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};Jy(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,Gy(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};Gy(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});Jy(this,t,r)},close:function(){var t=this;if(!this.closed){H1.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Gr;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Yy(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},o=e._prepP?e._prepP:Gr;return o.then(function(){var a=e.method.postMessage(e._state,i);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function UT(e){var t=e.method.create(e.name,e.options);KD(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function V1(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Gy(e,t,n){e._addEL[t].push(n),zT(e)}function Jy(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),qT(e)}function zT(e){if(!e._iL&&V1(e)){var t=function(i){e._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function qT(e){if(e._iL&&!V1(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}function KT(e){if(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}function WT(e){process.on("exit",function(){return e()}),process.on("beforeExit",function(){return e().then(function(){return process.exit()})}),process.on("SIGINT",function(){return e().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return e().then(function(){console.trace(t),process.exit(101)})})}var HT=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",VT=HT?WT:KT,Es=new Set,Xy=!1;function QT(){Xy||(Xy=!0,VT(GT))}function YT(e){if(QT(),typeof e!="function")throw new Error("Listener is no function");Es.add(e);var t={remove:function(){return Es.delete(e)},run:function(){return Es.delete(e),e()}};return t}function GT(){var e=[];return Es.forEach(function(t){e.push(t()),Es.delete(t)}),Promise.all(e)}function co(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function Q1(e){e.isLeader=!0,e._hasLeader=!0;var t=YT(function(){return e.die()});e._unl.push(t);var n=function(i){i.context==="leader"&&i.action==="apply"&&co(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),co(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),co(e,"tell")}var Y1=function(t,n){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=n,this.isLeader=!1,this.isDead=!1,this.token=hu(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};Y1.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(n){var r=n.held?n.held.filter(function(i){return i.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var n=new Promise(function(r,i){t._wKMC.res=r,t._wKMC.rej=i});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,Q1(t),r(),n}).catch(function(){})})}return this._wLMP},set onduplicate(e){},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),co(this,"death")}};var G1=function(t,n){var r=this;this.broadcastChannel=t,this._options=n,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=hu(),this._aplQ=Gr,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(a){a.context==="leader"&&(a.action==="death"&&(r._hasLeader=!1),a.action==="tell"&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};G1.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var n=this;if(this.isLeader)return io(0,!0);if(this.isDead)return io(0,!1);if(this._aplQC>1)return this._aplQ;var r=function(){if(n.isLeader)return WD;var o=!1,a,s=new Promise(function(m){a=function(){o=!0,m()}}),u=function(h){h.context==="leader"&&h.token!=n.token&&(h.action==="apply"&&h.token>n.token&&a(),h.action==="tell"&&(a(),n._hasLeader=!0))};n.broadcastChannel.addEventListener("internal",u);var d=t?n._options.responseTime*4:n._options.responseTime;return co(n,"apply").then(function(){return Promise.race([io(d),s.then(function(){return Promise.reject(new Error)})])}).then(function(){return co(n,"apply")}).then(function(){return Promise.race([io(d),s.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return n.broadcastChannel.removeEventListener("internal",u),o?!1:Q1(n).then(function(){return!0})})};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return r()}).then(function(){n._aplQC=n._aplQC-1}),this._aplQ.then(function(){return n.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=JT(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,co(this,"death")}};function JT(e){return e.isLeader?Gr:new Promise(function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var i=function a(){return io(e._options.fallbackInterval).then(function(){if(!(e.isDead||n))if(e.isLeader)r();else return e.applyOnce(!0).then(function(){e.isLeader?r():a()})})};i();var o=function(s){s.context==="leader"&&s.action==="death"&&(e._hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&r()}))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)})}function XT(e,t){return e||(e={}),e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}function ZT(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=XT(t,e);var n=VD()?new Y1(e,t):new G1(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n,n}var Gl=new Map;function J1(e,t,n,r){var i=Gl.get(t);return i||(i={bc:new sm(["RxDB:",e,n].join("|")),refs:new Set},Gl.set(t,i)),i.refs.add(r),i.bc}function kh(e,t){var n=Gl.get(e);if(n&&(n.refs.delete(t),n.refs.size===0))return Gl.delete(e),n.bc.close()}function eI(e,t,n,r){if(t.multiInstance){var i=r||J1(e,t.databaseInstanceToken,n.databaseName,n),o=new Lt,a=p=>{p.storageName===e&&p.databaseName===t.databaseName&&p.collectionName===t.collectionName&&p.version===t.schema.version&&o.next(p.eventBulk)};i.addEventListener("message",a);var s=n.changeStream(),u=!1,d=s.subscribe(p=>{u||i.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:p})});n.changeStream=function(){return o.asObservable().pipe(TR(s))};var m=n.close.bind(n);n.close=async function(){return u=!0,d.unsubscribe(),i.removeEventListener("message",a),r||await kh(t.databaseInstanceToken,n),m()};var h=n.remove.bind(n);n.remove=async function(){return u=!0,d.unsubscribe(),i.removeEventListener("message",a),r||await kh(t.databaseInstanceToken,n),h()}}}var Zy={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html#cant-change-the-schema",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See see https://rxdb.info/migration-storage.html",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"},Zf;function tI(){if(!Zf){var e=new em,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Zf=[...t,...n]}return Zf}var ed;function nI(){if(!ed){var e=new nm("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));ed=[...t,...n],e.destroy()}return ed}var rI=x1(du),iI=new rI,td;function X1(){if(!td){var e=["deleted","synced"],t=Object.getOwnPropertyNames(iI),n=Object.getOwnPropertyNames(du);td=[...t,...n,...e]}return td}function oI(e){if(e!=="_deleted"){if(["properties"].includes(e))throw fe("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(t);if(e!=="_id"&&!e.match(n))throw fe("SC1",{regex:t,fieldName:e})}}function aI(e){var t=Tn(e.primaryKey);function n(i,o,a){if(typeof i=="string"&&typeof o=="object"&&!Array.isArray(o)&&a.split(".").pop()!=="patternProperties"&&oI(i),Object.prototype.hasOwnProperty.call(o,"item")&&o.type!=="array")throw fe("SC2",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"required")&&typeof o.required=="boolean")throw fe("SC24",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"$ref"))throw fe("SC40",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"ref"))if(Array.isArray(o.type)){if(o.type.length>2||!o.type.includes("string")||!o.type.includes("null"))throw fe("SC4",{fieldName:i})}else switch(o.type){case"string":break;case"array":if(!o.items||!o.items.type||o.items.type!=="string")throw fe("SC3",{fieldName:i});break;default:throw fe("SC4",{fieldName:i})}var s=a.split(".").length>=2;if(s&&o.default)throw fe("SC7",{path:a});if(!s){if(i==="_id"&&t!=="_id")throw fe("COL2",{fieldName:i});if(i.charAt(0)==="_"){if(i==="_id"||i==="_deleted")return;throw fe("SC8",{fieldName:i})}}}function r(i,o){!i||typeof i!="object"||Object.keys(i).forEach(a=>{var s=i[a];!i.properties&&s&&typeof s=="object"&&!Array.isArray(i)&&n(a,s,o);var u=o;a!=="properties"&&(u=u+"."+a),r(s,u)})}return r(e,""),!0}function sI(e){if(!e.primaryKey)throw fe("SC30",{schema:e});function t(u){if(!u)throw fe("SC33",{schema:e});var d=u.type;if(!d||!["string","number","integer"].includes(d))throw fe("SC32",{schema:e,args:{schemaPart:u}})}if(typeof e.primaryKey=="string"){var n=e.primaryKey,r=e.properties[n];t(r)}else{var i=e.primaryKey,o=jr(e,i.key);t(o),i.fields.forEach(u=>{var d=jr(e,u);t(d)})}var a=Tn(e.primaryKey),s=e.properties[a];if(s.maxLength){if(!isFinite(s.maxLength))throw fe("SC41",{schema:e,args:{primaryPathSchemaPart:s}})}else throw fe("SC39",{schema:e,args:{primaryPathSchemaPart:s}})}function eg(e){for(var t=e.split("."),n="",r=0;r<t.length;r+=1)t[r]!=="[]"?n=n.concat(".properties.".concat(t[r])):n=n.concat(".items");return Si(n)}function uI(e){if(!e.primaryKey)throw fe("SC30",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"properties"))throw fe("SC29",{schema:e});if(e.properties._rev)throw fe("SC10",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"version")||typeof e.version!="number"||e.version<0)throw fe("SC11",{version:e.version});if(aI(e),sI(e),Object.keys(e.properties).forEach(t=>{var n=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw fe("SC13",{value:n,schema:e});if(n.unique)throw fe("SC14",{value:n,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw fe("SC15",{value:n,schema:e});if(n.type!=="string")throw fe("SC16",{value:n,schema:e})}if(X1().includes(t))throw fe("SC17",{key:t,schema:e})}),e.indexes){if(!ca(e.indexes))throw fe("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(t=>{if(!(typeof t=="string"||Array.isArray(t)))throw fe("SC19",{index:t,schema:e});if(Array.isArray(t)){for(var n=0;n<t.length;n+=1)if(typeof t[n]!="string")throw fe("SC20",{index:t,schema:e})}var r=ca(t)?t:[t];r.forEach(i=>{var o=jr(e,i),a=o.type;switch(a){case"string":var s=o.maxLength;if(!s)throw fe("SC34",{index:t,field:i,schema:e});break;case"number":case"integer":var u=o.multipleOf;if(!u)throw fe("SC35",{index:t,field:i,schema:e});var d=o.maximum,m=o.minimum;if(typeof d>"u"||typeof m>"u")throw fe("SC37",{index:t,field:i,schema:e});if(!isFinite(d)||!isFinite(m))throw fe("SC41",{index:t,field:i,schema:e});break;case"boolean":var h="",p=i;if(i.includes(".")){var b=i.split(".");p=b.pop(),h=b.join(".")}var g=h===""?e:jr(e,h);if(!g.required||!g.required.includes(p))throw fe("SC38",{index:t,field:i,schema:e});break;default:throw fe("SC36",{fieldName:i,type:o.type,schema:e})}})})}Object.keys(ah(e)).map(t=>{var n=t.split(".");return n.pop(),n.join(".")}).filter(t=>t!=="").filter((t,n,r)=>r.indexOf(t)===n).filter(t=>{var n=Ir(e,t);return n&&!!n.index}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),fe("SC26",{index:Si(t),schema:e})}),(e.indexes||[]).reduce((t,n)=>(ca(n)?go(t,n):t.push(n),t),[]).filter((t,n,r)=>r.indexOf(t)===n).map(t=>{var n=eg(t),r=Ir(e,n);if(!r||typeof r!="object")throw fe("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}}).filter(t=>t.schemaObj.type!=="string"&&t.schemaObj.type!=="integer"&&t.schemaObj.type!=="number"&&t.schemaObj.type!=="boolean").forEach(t=>{throw fe("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(ah(e)).map(t=>{var n=t.split(".");return n.pop(),n.join(".")}).filter(t=>t!==""&&t!=="attachments").filter((t,n,r)=>r.indexOf(t)===n).filter(t=>{var n=Ir(e,t);return n&&!!n.encrypted}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),fe("SC27",{index:Si(t),schema:e})}),e.encrypted&&e.encrypted.forEach(t=>{var n=eg(t),r=Ir(e,n);if(!r||typeof r!="object")throw fe("SC28",{field:t,schema:e})})}function nd(e){e&&Object.entries(e).forEach(([t,n])=>{if(typeof t!="string")throw rr("COL14",{name:t});if(t.startsWith("_"))throw rr("COL15",{name:t});if(typeof n!="function")throw rr("COL16",{name:t,type:typeof t});if(tI().includes(t)||X1().includes(t))throw fe("COL17",{name:t})})}function lI(e,t){var n=Object.keys(e.properties);t&&Object.keys(t).filter(r=>n.includes(r)).forEach(r=>{throw fe("COL18",{funName:r})})}function cI(e,t){if(typeof t!="object"||Array.isArray(t))throw rr("COL11",{schema:e});var n=Nk(e);if(n.length!==Object.keys(t).length)throw fe("COL12",{have:Object.keys(t),should:n});return n.map(r=>({v:r,s:t[r+1]})).filter(r=>typeof r.s!="function").forEach(r=>{throw rr("COL13",{version:r.v,type:typeof r,schema:e})}),!0}function fI(e){if(nI().includes(e.name))throw fe("DB5",{name:e.name});eb(e.name)}function dI(e){if(eb(e.name),e.name.includes("$"))throw fe("DB13",{name:e.name});if(Jw(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw fe("DB11",{name:e.name})}var Z1="^[a-z][_$a-z0-9\\-]*$",hI=new RegExp(Z1);function eb(e){if(typeof e!="string"||e.length===0)throw rr("UT1",{name:e});if(Jw(e))return!0;if(!e.match(hI)&&e!==":memory:")throw fe("UT2",{regex:Z1,givenName:e});return!0}function pI(e){var t=Object.prototype.toString.call(e.queryObj)==="[object Object]";if(!t)throw rr("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var n=["selector","limit","skip","sort","index"];if(Object.keys(e.queryObj).forEach(r=>{if(!n.includes(r))throw rr("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:r,args:{validKeys:n}})}),e.op==="count"&&(e.queryObj.limit||e.queryObj.skip))throw fe("QU15",{collection:e.collection.name,query:e.queryObj});Jl(e.queryObj)}function mI(e){var t=e.rxQuery.collection.schema.jsonSchema,n=e.mangoQuery.selector,r=Object.keys(t.properties);Object.keys(n).filter(s=>!s.startsWith("$")).filter(s=>!s.includes(".")).forEach(s=>{if(!r.includes(s))throw fe("QU13",{schema:t,field:s,query:e.mangoQuery})});var i=t.indexes?t.indexes:[],o=e.mangoQuery.index;if(o){var a=i.find(s=>Hs(s,o));if(!a)throw fe("QU12",{collection:e.rxQuery.collection.name,query:e.mangoQuery,schema:t})}if(e.rxQuery.op==="count"&&!vI(e.rxQuery.collection.schema.jsonSchema,e.mangoQuery)&&!e.rxQuery.collection.database.allowSlowCount)throw fe("QU14",{collection:e.rxQuery.collection,query:e.mangoQuery});e.mangoQuery.sort&&e.mangoQuery.sort.map(s=>Object.keys(s)[0]).filter(s=>!s.includes(".")).forEach(s=>{if(!r.includes(s))throw fe("QU13",{schema:t,field:s,query:e.mangoQuery})}),Jl(e.mangoQuery)}function vI(e,t){var n=kc(e,t);return n.queryPlan.selectorSatisfiedByIndex}function Jl(e){if(!(typeof e!="object"||e===null)){var t=Object.keys(e);t.forEach(n=>{var r=e[n];if(r instanceof RegExp)throw fe("QU16",{field:n,query:e});Array.isArray(r)?r.forEach(i=>Jl(i)):Jl(r)})}}function yI(e,t){if(!e)throw fe("DOC20",{primaryKey:e,document:t});if(e!==e.trim())throw fe("DOC21",{primaryKey:e,document:t});if(e.includes("\r")||e.includes(`
`))throw fe("DOC22",{primaryKey:e,document:t});if(e.includes('"'))throw fe("DOC23",{primaryKey:e,document:t})}function gI(e){return!e||typeof e=="string"||typeof e=="number"?e:Vw(e)}var wI="dev-mode",tb={name:wI,rxdb:!0,init:()=>{console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","🤗 Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:gI,tunnelErrorMessage(e){if(!Zy[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Code "+e+" not known, contact the maintainer");return Zy[e]}},hooks:{preCreateRxSchema:{after:uI},preCreateRxDatabase:{after:function(e){dI(e)}},preCreateRxCollection:{after:function(e){if(fI(e),lI(e.schema,e.methods),e.name.charAt(0)==="_")throw fe("DB2",{name:e.name});if(!e.schema)throw fe("DB4",{name:e.name,args:e})}},createRxDocument:{before:function(e){yI(e.primary,e.toJSON(!0))}},preCreateRxQuery:{after:function(e){pI(e)}},prePrepareQuery:{after:e=>{mI(e)}},createRxCollection:{after:e=>{nd(e.creator.statics),nd(e.creator.methods),nd(e.creator.attachments),e.creator.schema&&e.creator.migrationStrategies&&cI(e.creator.schema,e.creator.migrationStrategies)}}}};const Oc=e=>pn((t,n,r)=>{let i=0;if(n instanceof Array)for(const o of n)i=i|1<<o;else i=n;return e(t&i,i)}),_I=Oc((e,t)=>e==0),bI=Oc((e,t)=>e==t),SI=Oc((e,t)=>e<t),EI=Oc((e,t)=>e>0),CI=Object.freeze(Object.defineProperty({__proto__:null,$all:DP,$and:X_,$bitsAllClear:_I,$bitsAllSet:bI,$bitsAnyClear:SI,$bitsAnySet:EI,$elemMatch:f1,$eq:t1,$exists:h1,$expr:RP,$gt:n1,$gte:r1,$in:i1,$jsonSchema:OP,$lt:o1,$lte:a1,$mod:l1,$ne:s1,$nin:u1,$nor:Z_,$not:e1,$or:Qp,$regex:c1,$size:d1,$type:p1,$where:PP},Symbol.toStringTag,{value:"Module"})),um=(e,t)=>{switch(e){case"deep":return hh(t);case"copy":return ph(t)?new Date(t):Wt(t)?[...t]:kt(t)?Object.assign({},t):t;default:return t}},xI=/^[a-z]+[a-zA-Z0-9]*$/;function nb(e){if(!e.includes(".$"))return[{parent:e,selector:e},[]];const t=e.indexOf(".$"),n=e.indexOf("]"),r=e.substring(0,t),i=e.substring(t+3,n);Kt(i===""||xI.test(i),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");const o=e.substring(n+2),[a,s]=o?nb(o):[];return[{selector:e,parent:r,child:i||"$",next:a},[i,...s||[]].filter(Boolean)]}const In=(e,t,n,r,i)=>{const{parent:o,child:a,next:s}=t;if(!a){let d=!1;return Gs(e,o,(h,p)=>d=!!r(h,p)||d,i),d}const u=Ma(e,o);return Wt(u)?u.map((d,m)=>n[a]&&!n[a].test({[a]:d})?!1:s?In(d,s,n,r,i):r(u,m)).some(Boolean):!1};function Hn(e,t,n,r){const i=[];for(const[o,a]of Object.entries(e)){const[s,u]=nb(o);if(!u.length)r(a,s,{})&&i.push(s.parent);else{const d={};t.forEach(h=>{Object.keys(h).forEach(p=>{u.forEach(b=>{(p===b||p.startsWith(b+"."))&&(d[b]=d[b]||{},Object.assign(d[b],{[p]:h[p]}))})})});const m={};for(const[h,p]of Object.entries(d))m[h]=new oi(p,n.queryOptions);r(a,s,m)&&i.push(s.parent)}}return i}const kI=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>{const s={$each:[i]};return kt(i)&&$n(i,"$each")&&Object.assign(s,i),In(e,o,a,(u,d)=>{const m=u[d]||(u[d]=[]);return Hp([m,s.$each]).length===s.$each.length?!1:(u[d]=um(r.cloneMode,UO(m.concat(s.$each))),!0)},{buildGraph:!0})}),RI=new Set(["and","or","xor"]),OI=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>{const s=Object.keys(i);return Kt(s.length===1&&RI.has(s[0]),`Invalid bit operator '${s[0]}'. Must be one of 'and', 'or', or 'xor'.`),In(e,o,a,(u,d)=>{let m=u[d];const h=i[s[0]];if(m!==void 0&&!(jn(m)&&jn(h)))return!1;switch(m=m||0,s[0]){case"and":u[d]=m&h;break;case"or":u[d]=m|h;break;case"xor":u[d]=m^h;break}return u[d]!==m},{buildGraph:!0})}),PI=(e,t,n=[],r={})=>{const i=Date.now();return Hn(t,n,r,(o,a,s)=>In(e,a,s,(u,d)=>(u[d]=i,!0),{buildGraph:!0}))},DI=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>{if(!o.child){const s=Ma(e,o.parent);Kt(s===void 0||jn(s),"cannot apply $inc to a value of non-numeric type")}return In(e,o,a,(s,u)=>(s[u]=(s[u]||(s[u]=0))+i,!0),{buildGraph:!0})}),TI=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>s[u]!==void 0&&Dn(s[u],i)>-1?!1:(s[u]=i,!0),{buildGraph:!0})),II=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>s[u]!==void 0&&Dn(s[u],i)<1?!1:(s[u]=i,!0),{buildGraph:!0})),AI=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>{const d=s[u];return s[u]=s[u]===void 0?0:s[u]*i,s[u]!==d},{buildGraph:!0})),LI=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>{const d=s[u];return Kt(Wt(d),`path '${o.selector}' contains an element of non-array type.`),d.length?(i===-1?d.splice(0,1):d.pop(),!0):!1})),rb=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>{const s=!kt(i)||Object.keys(i).some(Lo),u=new oi(s?{k:i}:i,r.queryOptions),d=s?m=>u.test({k:m}):m=>u.test(m);return In(e,o,a,(m,h)=>{const p=m[h],b=new Array;return p.map(S=>{const I=d(S);return I||b.push(S),I}).some(Boolean)?(m[h]=b,!0):!1})}),MI=(e,t,n=[],r={})=>{const i={};return Object.entries(t).forEach(([o,a])=>{i[o]={$in:a}}),rb(e,i,n,r)},NI=Object.freeze(["$each","$slice","$sort","$position"]),jI=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>{const s={$each:[i]};return kt(i)&&NI.some(u=>$n(i,u))&&Object.assign(s,i),In(e,o,a,(u,d)=>{const m=u[d]||(u[d]=[]),h=m.slice(0,s.$slice||m.length),p=m.length,b=jn(s.$position)?s.$position:m.length;if(m.splice(b,0,...um(r.cloneMode,s.$each)),s.$sort){const g=kt(s.$sort)?Object.keys(s.$sort||{}).pop():"",S=g?s.$sort[g]:s.$sort,I=g?E=>Ma(E,g):E=>E;m.sort((E,x)=>S*Dn(I(E),I(x)))}return jn(s.$slice)&&(s.$slice<0?m.splice(0,m.length+s.$slice):m.splice(s.$slice)),p!=m.length||!ii(h,m)},{descendArray:!0,buildGraph:!0})}),ib=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>ii(s[u],i)?!1:(s[u]=um(r.cloneMode,i),!0),{buildGraph:!0})),FI=(e,t,n=[],r={})=>{const i=[],o=Hn(t,n,r,(a,s,u)=>In(e,s,u,(d,m)=>$n(d,m)?(i.push(...ib(e,{[a]:d[m]},n,r)),delete d[m],!0):!1));return Array.from(new Set(o.concat(i)))},BI=(e,t,n=[],r={})=>Hn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>$n(s,u)?(Wt(s)?s[u]=null:delete s[u],!0):!1)),tg=Object.freeze(Object.defineProperty({__proto__:null,$addToSet:kI,$bit:OI,$currentDate:PI,$inc:DI,$max:TI,$min:II,$mul:AI,$pop:LI,$pull:rb,$pullAll:MI,$push:jI,$rename:FI,$set:ib,$unset:BI},Symbol.toStringTag,{value:"Module"}));function ob(e){return e=Object.assign(Object.assign({},e),{queryOptions:zl(e.queryOptions)}),e.queryOptions.context.addQueryOps(CI).addExpressionOps(mP).addExpressionOps(EP),(t,n,r=[],i={},o={})=>{const a=Object.assign({cloneMode:"copy"},e,o);Object.assign(a,{queryOptions:zl(Object.assign({useStrictMode:!1},a==null?void 0:a.queryOptions))}),r=r||[],i=i||{};const s=Object.entries(n);Kt(s.length===1,"Update expression must contain only one operator.");const[u,d]=s[0];Kt($n(tg,u),`Update operator '${u}' is not supported.`);const m=tg[u];return Object.keys(i).length&&!(i instanceof oi?i:new oi(i,a.queryOptions)).test(t)?[]:m(t,d,r,a)}}ob({});var rd;function ab(e,t){if(!rd){var n=ob({cloneMode:"none"});rd=(r,i)=>{var o=ar(r);return n(o,i),o}}return rd(e,t)}function $I(e){return this.incrementalModify(t=>{var n=ab(t,e);return n})}function UI(e){var t=this._data,n=ab(t,e);return this._saveData(n,t)}function zI(e){return this.exec().then(t=>t?Array.isArray(t)?Promise.all(t.map(n=>n.update(e))).then(()=>t):t.update(e).then(()=>t):null)}var sb={name:"update",rxdb:!0,prototypes:{RxDocument:e=>{e.update=UI,e.incrementalUpdate=$I},RxQuery:e=>{e.update=zI}}};function qI(e){var t={name:this.name,instanceToken:this.token,collections:[]},n=Object.keys(this.collections).filter(r=>!e||e.includes(r)).filter(r=>r.charAt(0)!=="_").map(r=>this.collections[r]);return Promise.all(n.map(r=>r.exportJSON())).then(r=>(t.collections=r,t))}var KI=function(e){var t=e.collections.filter(n=>!this.collections[n.name]).map(n=>n.name);if(t.length>0)throw fe("JD1",{missingCollections:t});return Promise.all(e.collections.map(n=>this.collections[n.name].importJSON(n)))},WI=async function(){var e={name:this.name,schemaHash:await this.schema.hash,docs:[]},t=qo("find",Ss(),this);return _1(t).then(n=>(e.docs=n.map(r=>(r=ft(r),delete r._rev,delete r._attachments,r)),e))};async function HI(e){if(e.schemaHash!==await this.schema.hash)throw fe("JD2",{schemaHash:e.schemaHash,own:this.schema.hash});var t=e.docs;return this.storageInstance.bulkWrite(t.map(n=>{var r=Object.assign({},n,{_meta:{lwt:Jt()},_rev:Er(),_attachments:{},_deleted:!1});return{document:r}}),"json-dump-import")}var ub={name:"json-dump",rxdb:!0,prototypes:{RxDatabase:e=>{e.exportJSON=qI,e.importJSON=KI},RxCollection:e=>{e.exportJSON=WI,e.importJSON=HI}},overwritable:{}},lm={minimumDeletedTime:1e3*60*60*24*31,minimumCollectionAge:1e3*60,runEach:1e3*60*5,awaitReplicationsInSync:!0,waitForLeadership:!0},lb=new WeakMap,VI=new WeakMap;function ng(e){return Nr(VI,e,()=>ZT(e))}function QI(){var e=J1(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return kh(this.token,this),t()};var n=ng(e);return n||(n=ng(e),lb.set(this,n)),this.leaderElector=()=>n,n}function YI(){return this.multiInstance?this.leaderElector().isLeader:!0}function GI(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):bc}function JI(e){var t=lb.get(e);t&&t.die()}var XI=!0,ZI={RxDatabase:e=>{e.leaderElector=QI,e.isLeader=YI,e.waitForLeadership=GI}},Pc={name:"leader-election",rxdb:XI,prototypes:ZI,hooks:{preDestroyRxDatabase:{after:JI}}},rg=e=>Promise.resolve(e);function ig(e,t){if(e==="_deleted")return t;t=ft(t);var n=!!t._deleted;return t[e]=n,delete t._deleted,t}function id(e,t,n){return n.map(r=>{var i=ft(r);if(t!=="_deleted"){var o=!!i[t];i._deleted=o,delete i[t]}else i._deleted=!!i._deleted;var a=e.schema.primaryPath;return i[a]=Ui(e.schema.jsonSchema,i),i})}function og(e,t){if(typeof window>"u"||typeof window!="object"||typeof window.addEventListener>"u"||navigator.onLine)return e.promiseWait(t);var n,r=new Promise(i=>{n=()=>{window.removeEventListener("online",n),i()},window.addEventListener("online",n)});return Promise.race([r,e.promiseWait(t)]).then(()=>{window.removeEventListener("online",n)})}var cm=new WeakMap,e2=function(){function e(n,r,i,o,a,s,u,d){this.subs=[],this.subjects={received:new Lt,sent:new Lt,error:new Lt,canceled:new Kr(!1),active:new Kr(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.onCancel=[],this.callOnStart=void 0,this.remoteEvents$=new Lt,this.replicationIdentifier=n,this.collection=r,this.deletedField=i,this.pull=o,this.push=a,this.live=s,this.retryTime=u,this.autoStart=d,this.metaInfoPromise=(async()=>{var p="rx-replication-meta-"+await r.database.hashFunction([this.collection.name,this.replicationIdentifier].join("-")),b=OD(this.collection.schema.jsonSchema,E1(this.collection.schema.jsonSchema));return{collectionName:p,schema:b}})();var m=Nr(cm,r,()=>[]);m.push(this),this.collection.onDestroy.push(()=>this.cancel()),Object.keys(this.subjects).forEach(p=>{Object.defineProperty(this,p+"$",{get:function(){return this.subjects[p].asObservable()}})});var h=new Promise(p=>{this.callOnStart=p});this.startPromise=h}var t=e.prototype;return t.start=async function(){if(!this.isStopped()){var r=this.pull&&this.pull.modifier?this.pull.modifier:rg,i=this.push&&this.push.modifier?this.push.modifier:rg,o=this.collection.database,a=await this.metaInfoPromise,[s]=await Promise.all([this.collection.database.storage.createStorageInstance({databaseName:o.name,collectionName:a.collectionName,databaseInstanceToken:o.token,multiInstance:o.multiInstance,options:{},schema:a.schema,password:o.password,devMode:zt.isDevMode()}),vD(this.collection,a.collectionName,a.schema)]);this.metaInstance=s,this.internalReplicationState=ID({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:o.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe(vt(u=>!!this.pull),qi(async u=>{if(u==="RESYNC")return u;var d=ft(u);return d.documents=id(this.collection,this.deletedField,d.documents),d.documents=await Promise.all(d.documents.map(m=>r(m))),d})),masterChangesSince:async(u,d)=>{if(!this.pull)return{checkpoint:null,documents:[]};for(var m=!1,h={};!m&&!this.isStopped();)try{h=await this.pull.handler(u,d),m=!0}catch(g){var p=fe("RC_PULL",{checkpoint:u,errors:Ws(g).map(S=>my(S)),direction:"pull"});this.subjects.error.next(p),await og(this.collection,ze(this.retryTime))}if(this.isStopped())return{checkpoint:null,documents:[]};var b=ft(h);return b.documents=id(this.collection,this.deletedField,b.documents),b.documents=await Promise.all(b.documents.map(g=>r(g))),b},masterWrite:async u=>{if(!this.push)return[];var d=!1;await _o("preReplicationMasterWrite",{rows:u,collection:this.collection});var m=await Promise.all(u.map(async S=>(S.newDocumentState=await i(S.newDocumentState),S.newDocumentState===null?null:(S.assumedMasterState&&(S.assumedMasterState=await i(S.assumedMasterState)),this.deletedField!=="_deleted"&&(S.newDocumentState=ig(this.deletedField,S.newDocumentState),S.assumedMasterState&&(S.assumedMasterState=ig(this.deletedField,S.assumedMasterState))),S)))),h=m.filter(Hw),p=null;for(h.length===0&&(d=!0,p=[]);!d&&!this.isStopped();)try{if(p=await this.push.handler(h),!Array.isArray(p))throw fe("RC_PUSH_NO_AR",{pushRows:u,direction:"push",args:{result:p}});d=!0}catch(S){var b=S.rxdb?S:fe("RC_PUSH",{pushRows:u,errors:Ws(S).map(I=>my(I)),direction:"push"});this.subjects.error.next(b),await og(this.collection,ze(this.retryTime))}if(this.isStopped())return[];await _o("preReplicationMasterWriteDocumentsHandle",{result:p,collection:this.collection});var g=id(this.collection,this.deletedField,ze(p));return g}}}),this.subs.push(this.internalReplicationState.events.error.subscribe(u=>{this.subjects.error.next(u)}),this.internalReplicationState.events.processed.down.subscribe(u=>this.subjects.received.next(u.document)),this.internalReplicationState.events.processed.up.subscribe(u=>{this.subjects.sent.next(u.newDocumentState)}),D_([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([u,d])=>{var m=u||d;this.subjects.active.next(m)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:u=>{this.remoteEvents$.next(u)},error:u=>{this.subjects.error.next(u)}})),this.live||(await Yf(this.internalReplicationState),await Ky(this.internalReplicationState),await this.cancel()),this.callOnStart()}},t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.awaitInitialReplication=async function(){return await this.startPromise,Yf(ze(this.internalReplicationState))},t.awaitInSync=async function(){await this.startPromise,await Yf(ze(this.internalReplicationState));for(var r=2;r>0;)r--,await this.collection.database.requestIdlePromise(),await Ky(ze(this.internalReplicationState));return!0},t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(r){this.remoteEvents$.next(r)},t.cancel=async function(){if(this.isStopped())return gr;var r=this.onCancel.map(i=>vk(i()));return this.internalReplicationState&&await LD(this.internalReplicationState),this.metaInstance&&r.push(ze(this.internalReplicationState).checkpointQueue.then(()=>ze(this.metaInstance).close())),this.subs.forEach(i=>i.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(r)},t.remove=async function(){await ze(this.metaInstance).remove();var r=await this.metaInfoPromise;await this.cancel(),await yD(this.collection,r.collectionName,r.schema)},e}();function t2({replicationIdentifier:e,collection:t,deletedField:n="_deleted",pull:r,push:i,live:o=!0,retryTime:a=1e3*5,waitForLeadership:s=!0,autoStart:u=!0}){if(sr(Pc),!r&&!i)throw fe("UT3",{collection:t.name,args:{replicationIdentifier:e}});var d=new e2(e,t,n,r,i,o,a,u);return n2(s,d),d}function n2(e,t){var n=e&&t.collection.database.multiInstance,r=n?t.collection.database.waitForLeadership():bc;return r.then(()=>{t.isStopped()||t.autoStart&&t.start()})}var od=bc;async function r2(e){var t=e.database,n=Object.assign({},lm,t.cleanupPolicy?t.cleanupPolicy:{});await cb(e,n),!e.destroyed&&(await fb(e,n),await i2(e,n))}async function cb(e,t){await e.promiseWait(t.minimumCollectionAge),!e.destroyed&&t.waitForLeadership&&await e.database.waitForLeadership()}async function fb(e,t){for(var n=e.database,r=e.storageInstance,i=!1;!i&&!e.destroyed;){if(t.awaitReplicationsInSync){var o=cm.get(e);o&&await Promise.all(o.map(a=>{if(!a.isStopped())return a.awaitInSync()}))}if(e.destroyed)return;od=od.then(async()=>e.destroyed?!0:(await n.requestIdlePromise(),r.cleanup(t.minimumDeletedTime))),i=await od}}async function i2(e,t){for(;!e.destroyed;){if(await e.promiseWait(t.runEach),e.destroyed)return;await fb(e,t)}}var ad=bc;async function o2(e){var t=e.collection,n=t.database,r=Object.assign({},lm,n.cleanupPolicy?n.cleanupPolicy:{});await cb(t,r),!t.destroyed&&(await db(e,r),await a2(e,r))}async function db(e,t){for(var n=e.collection,r=n.database,i=!1;!i&&!n.destroyed;){if(t.awaitReplicationsInSync){var o=cm.get(n);o&&await Promise.all(o.map(a=>{if(!a.isStopped())return a.awaitInSync()}))}if(n.destroyed)return;ad=ad.then(async()=>n.destroyed?!0:(await r.requestIdlePromise(),e._cleanup())),i=await ad}}async function a2(e,t){for(var n=e.collection;!n.destroyed;){if(await n.promiseWait(t.runEach),n.destroyed)return;await db(e,t)}}var hb={name:"cleanup",rxdb:!0,prototypes:{RxCollection:e=>{e.cleanup=async function(t){var n=Object.assign({},lm,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof t>"u"&&(t=n.minimumDeletedTime);for(var r=!1;!r&&!this.destroyed;)r=await this.storageInstance.cleanup(t)}}},hooks:{createRxCollection:{after:e=>{r2(e.collection)}},createRxState:{after:e=>{o2(e.state)}}}},pb={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jn,function(){var n=function(l,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,_){v.__proto__=_}||function(v,_){for(var C in _)Object.prototype.hasOwnProperty.call(_,C)&&(v[C]=_[C])})(l,c)},r=function(){return(r=Object.assign||function(l){for(var c,v=1,_=arguments.length;v<_;v++)for(var C in c=arguments[v])Object.prototype.hasOwnProperty.call(c,C)&&(l[C]=c[C]);return l}).apply(this,arguments)};function i(l,c,v){if(v||arguments.length===2)for(var _,C=0,D=c.length;C<D;C++)!_&&C in c||((_=_||Array.prototype.slice.call(c,0,C))[C]=c[C]);return l.concat(_||Array.prototype.slice.call(c))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Jn,a=Object.keys,s=Array.isArray;function u(l,c){return typeof c!="object"||a(c).forEach(function(v){l[v]=c[v]}),l}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var d=Object.getPrototypeOf,m={}.hasOwnProperty;function h(l,c){return m.call(l,c)}function p(l,c){typeof c=="function"&&(c=c(d(l))),(typeof Reflect>"u"?a:Reflect.ownKeys)(c).forEach(function(v){g(l,v,c[v])})}var b=Object.defineProperty;function g(l,c,v,_){b(l,c,u(v&&h(v,"get")&&typeof v.get=="function"?{get:v.get,set:v.set,configurable:!0}:{value:v,configurable:!0,writable:!0},_))}function S(l){return{from:function(c){return l.prototype=Object.create(c.prototype),g(l.prototype,"constructor",l),{extend:p.bind(null,l.prototype)}}}}var I=Object.getOwnPropertyDescriptor,E=[].slice;function x(l,c,v){return E.call(l,c,v)}function y(l,c){return c(l)}function O(l){if(!l)throw new Error("Assertion Failed")}function T(l){o.setImmediate?setImmediate(l):setTimeout(l,0)}function k(l,c){if(typeof c=="string"&&h(l,c))return l[c];if(!c)return l;if(typeof c!="string"){for(var v=[],_=0,C=c.length;_<C;++_){var D=k(l,c[_]);v.push(D)}return v}var A=c.indexOf(".");if(A!==-1){var j=l[c.substr(0,A)];return j==null?void 0:k(j,c.substr(A+1))}}function P(l,c,v){if(l&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof c!="string"&&"length"in c){O(typeof v!="string"&&"length"in v);for(var _=0,C=c.length;_<C;++_)P(l,c[_],v[_])}else{var D,A,j=c.indexOf(".");j!==-1?(D=c.substr(0,j),(A=c.substr(j+1))===""?v===void 0?s(l)&&!isNaN(parseInt(D))?l.splice(D,1):delete l[D]:l[D]=v:P(j=!(j=l[D])||!h(l,D)?l[D]={}:j,A,v)):v===void 0?s(l)&&!isNaN(parseInt(c))?l.splice(c,1):delete l[c]:l[c]=v}}function L(l){var c,v={};for(c in l)h(l,c)&&(v[c]=l[c]);return v}var B=[].concat;function N(l){return B.apply([],l)}var Br="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(N([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(c){return c+l+"Array"})}))).filter(function(l){return o[l]}),F=new Set(Br.map(function(l){return o[l]})),Z=null;function ue(l){return Z=new WeakMap,l=function c(v){if(!v||typeof v!="object")return v;var _=Z.get(v);if(_)return _;if(s(v)){_=[],Z.set(v,_);for(var C=0,D=v.length;C<D;++C)_.push(c(v[C]))}else if(F.has(v.constructor))_=v;else{var A,j=d(v);for(A in _=j===Object.prototype?{}:Object.create(j),Z.set(v,_),v)h(v,A)&&(_[A]=c(v[A]))}return _}(l),Z=null,l}var Ee={}.toString;function Re(l){return Ee.call(l).slice(8,-1)}var Ce=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ie=typeof Ce=="symbol"?function(l){var c;return l!=null&&(c=l[Ce])&&c.apply(l)}:function(){return null};function ce(l,c){return c=l.indexOf(c),0<=c&&l.splice(c,1),0<=c}var se={};function we(l){var c,v,_,C;if(arguments.length===1){if(s(l))return l.slice();if(this===se&&typeof l=="string")return[l];if(C=Ie(l)){for(v=[];!(_=C.next()).done;)v.push(_.value);return v}if(l==null)return[l];if(typeof(c=l.length)!="number")return[l];for(v=new Array(c);c--;)v[c]=l[c];return v}for(c=arguments.length,v=new Array(c);c--;)v[c]=arguments[c];return v}var Ne=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},re=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Gn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(re),Ze={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function je(l,c){this.name=l,this.message=c}function Le(l,c){return l+". Errors: "+Object.keys(c).map(function(v){return c[v].toString()}).filter(function(v,_,C){return C.indexOf(v)===_}).join(`
`)}function it(l,c,v,_){this.failures=c,this.failedKeys=_,this.successCount=v,this.message=Le(l,c)}function ot(l,c){this.name="BulkError",this.failures=Object.keys(c).map(function(v){return c[v]}),this.failuresByPos=c,this.message=Le(l,this.failures)}S(je).from(Error).extend({toString:function(){return this.name+": "+this.message}}),S(it).from(je),S(ot).from(je);var Mt=Gn.reduce(function(l,c){return l[c]=c+"Error",l},{}),Fr=je,Ae=Gn.reduce(function(l,c){var v=c+"Error";function _(C,D){this.name=v,C?typeof C=="string"?(this.message="".concat(C).concat(D?`
 `+D:""),this.inner=D||null):typeof C=="object"&&(this.message="".concat(C.name," ").concat(C.message),this.inner=C):(this.message=Ze[c]||v,this.inner=null)}return S(_).from(Fr),l[c]=_,l},{});Ae.Syntax=SyntaxError,Ae.Type=TypeError,Ae.Range=RangeError;var Vn=re.reduce(function(l,c){return l[c+"Error"]=Ae[c],l},{}),Ct=Gn.reduce(function(l,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(l[c+"Error"]=Ae[c]),l},{});function Qe(){}function Bt(l){return l}function mn(l,c){return l==null||l===Bt?c:function(v){return c(l(v))}}function X(l,c){return function(){l.apply(this,arguments),c.apply(this,arguments)}}function ie(l,c){return l===Qe?c:function(){var v=l.apply(this,arguments);v!==void 0&&(arguments[0]=v);var _=this.onsuccess,C=this.onerror;this.onsuccess=null,this.onerror=null;var D=c.apply(this,arguments);return _&&(this.onsuccess=this.onsuccess?X(_,this.onsuccess):_),C&&(this.onerror=this.onerror?X(C,this.onerror):C),D!==void 0?D:v}}function me(l,c){return l===Qe?c:function(){l.apply(this,arguments);var v=this.onsuccess,_=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?X(v,this.onsuccess):v),_&&(this.onerror=this.onerror?X(_,this.onerror):_)}}function Me(l,c){return l===Qe?c:function(v){var _=l.apply(this,arguments);u(v,_);var C=this.onsuccess,D=this.onerror;return this.onsuccess=null,this.onerror=null,v=c.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?X(C,this.onsuccess):C),D&&(this.onerror=this.onerror?X(D,this.onerror):D),_===void 0?v===void 0?void 0:v:u(_,v)}}function M(l,c){return l===Qe?c:function(){return c.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function f(l,c){return l===Qe?c:function(){var v=l.apply(this,arguments);if(v&&typeof v.then=="function"){for(var _=this,C=arguments.length,D=new Array(C);C--;)D[C]=arguments[C];return v.then(function(){return c.apply(_,D)})}return c.apply(this,arguments)}}Ct.ModifyError=it,Ct.DexieError=je,Ct.BulkError=ot;var w=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function R(l){w=l}var $={},V=100,Br=typeof Promise>"u"?[]:function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,d(l),l];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,d(c),l]}(),re=Br[0],Gn=Br[1],Br=Br[2],Gn=Gn&&Gn.then,De=re&&re.constructor,Ke=!!Br,st=function(l,c){yn.push([l,c]),We&&(queueMicrotask(ye),We=!1)},Ue=!0,We=!0,pt=[],vn=[],Qn=Bt,Xt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Qe,pgp:!1,env:{},finalize:Qe},Oe=Xt,yn=[],ur=0,Mo=[];function xe(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=Oe;if(typeof l!="function"){if(l!==$)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ba(this,this._value))}this._state=null,this._value=null,++c.ref,function v(_,C){try{C(function(D){if(_._state===null){if(D===_)throw new TypeError("A promise cannot be resolved with itself.");var A=_._lib&&Pe();D&&typeof D.then=="function"?v(_,function(j,K){D instanceof xe?D._then(j,K):D.then(j,K)}):(_._state=!0,_._value=D,Y(_)),A&&He()}},Ba.bind(null,_))}catch(D){Ba(_,D)}}(this,l)}var ja={get:function(){var l=Oe,c=Dt;function v(_,C){var D=this,A=!l.global&&(l!==Oe||c!==Dt),j=A&&!Yn(),K=new xe(function(z,Q){te(D,new Fa(jo(_,l,A,j),jo(C,l,A,j),z,Q,l))});return this._consoleTask&&(K._consoleTask=this._consoleTask),K}return v.prototype=$,v},set:function(l){g(this,"then",l&&l.prototype===$?ja:{get:function(){return l},set:ja.set})}};function Fa(l,c,v,_,C){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof c=="function"?c:null,this.resolve=v,this.reject=_,this.psd=C}function Ba(l,c){var v,_;vn.push(c),l._state===null&&(v=l._lib&&Pe(),c=Qn(c),l._state=!1,l._value=c,_=l,pt.some(function(C){return C._value===_._value})||pt.push(_),Y(l),v&&He())}function Y(l){var c=l._listeners;l._listeners=[];for(var v=0,_=c.length;v<_;++v)te(l,c[v]);var C=l._PSD;--C.ref||C.finalize(),ur===0&&(++ur,st(function(){--ur==0&&$e()},[]))}function te(l,c){if(l._state!==null){var v=l._state?c.onFulfilled:c.onRejected;if(v===null)return(l._state?c.resolve:c.reject)(l._value);++c.psd.ref,++ur,st(le,[v,l,c])}else l._listeners.push(c)}function le(l,c,v){try{var _,C=c._value;!c._state&&vn.length&&(vn=[]),_=w&&c._consoleTask?c._consoleTask.run(function(){return l(C)}):l(C),c._state||vn.indexOf(C)!==-1||function(D){for(var A=pt.length;A;)if(pt[--A]._value===D._value)return pt.splice(A,1)}(c),v.resolve(_)}catch(D){v.reject(D)}finally{--ur==0&&$e(),--v.psd.ref||v.psd.finalize()}}function ye(){Ln(Xt,function(){Pe()&&He()})}function Pe(){var l=Ue;return We=Ue=!1,l}function He(){var l,c,v;do for(;0<yn.length;)for(l=yn,yn=[],v=l.length,c=0;c<v;++c){var _=l[c];_[0].apply(null,_[1])}while(0<yn.length);We=Ue=!0}function $e(){var l=pt;pt=[],l.forEach(function(_){_._PSD.onunhandled.call(null,_._value,_)});for(var c=Mo.slice(0),v=c.length;v;)c[--v]()}function Fe(l){return new xe($,!1,l)}function _e(l,c){var v=Oe;return function(){var _=Pe(),C=Oe;try{return rn(v,!0),l.apply(this,arguments)}catch(D){c&&c(D)}finally{rn(C,!1),_&&He()}}}p(xe.prototype,{then:ja,_then:function(l,c){te(this,new Fa(null,null,l,c,Oe))},catch:function(l){if(arguments.length===1)return this.then(null,l);var c=l,v=arguments[1];return typeof c=="function"?this.then(null,function(_){return(_ instanceof c?v:Fe)(_)}):this.then(null,function(_){return(_&&_.name===c?v:Fe)(_)})},finally:function(l){return this.then(function(c){return xe.resolve(l()).then(function(){return c})},function(c){return xe.resolve(l()).then(function(){return Fe(c)})})},timeout:function(l,c){var v=this;return l<1/0?new xe(function(_,C){var D=setTimeout(function(){return C(new Ae.Timeout(c))},l);v.then(_,C).finally(clearTimeout.bind(null,D))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&g(xe.prototype,Symbol.toStringTag,"Dexie.Promise"),Xt.env=No(),p(xe,{all:function(){var l=we.apply(null,arguments).map(lr);return new xe(function(c,v){l.length===0&&c([]);var _=l.length;l.forEach(function(C,D){return xe.resolve(C).then(function(A){l[D]=A,--_||c(l)},v)})})},resolve:function(l){return l instanceof xe?l:l&&typeof l.then=="function"?new xe(function(c,v){l.then(c,v)}):new xe($,!0,l)},reject:Fe,race:function(){var l=we.apply(null,arguments).map(lr);return new xe(function(c,v){l.map(function(_){return xe.resolve(_).then(c,v)})})},PSD:{get:function(){return Oe},set:function(l){return Oe=l}},totalEchoes:{get:function(){return Dt}},newPSD:yt,usePSD:Ln,scheduler:{get:function(){return st},set:function(l){st=l}},rejectionMapper:{get:function(){return Qn},set:function(l){Qn=l}},follow:function(l,c){return new xe(function(v,_){return yt(function(C,D){var A=Oe;A.unhandleds=[],A.onunhandled=D,A.finalize=X(function(){var j,K=this;j=function(){K.unhandleds.length===0?C():D(K.unhandleds[0])},Mo.push(function z(){j(),Mo.splice(Mo.indexOf(z),1)}),++ur,st(function(){--ur==0&&$e()},[])},A.finalize),l()},c,v,_)})}}),De&&(De.allSettled&&g(xe,"allSettled",function(){var l=we.apply(null,arguments).map(lr);return new xe(function(c){l.length===0&&c([]);var v=l.length,_=new Array(v);l.forEach(function(C,D){return xe.resolve(C).then(function(A){return _[D]={status:"fulfilled",value:A}},function(A){return _[D]={status:"rejected",reason:A}}).then(function(){return--v||c(_)})})})}),De.any&&typeof AggregateError<"u"&&g(xe,"any",function(){var l=we.apply(null,arguments).map(lr);return new xe(function(c,v){l.length===0&&v(new AggregateError([]));var _=l.length,C=new Array(_);l.forEach(function(D,A){return xe.resolve(D).then(function(j){return c(j)},function(j){C[A]=j,--_||v(new AggregateError(C))})})})}));var Be={awaits:0,echoes:0,id:0},$t=0,Ve=[],lt=0,Dt=0,gn=0;function yt(l,c,v,_){var C=Oe,D=Object.create(C);return D.parent=C,D.ref=0,D.global=!1,D.id=++gn,Xt.env,D.env=Ke?{Promise:xe,PromiseProp:{value:xe,configurable:!0,writable:!0},all:xe.all,race:xe.race,allSettled:xe.allSettled,any:xe.any,resolve:xe.resolve,reject:xe.reject}:{},c&&u(D,c),++C.ref,D.finalize=function(){--this.parent.ref||this.parent.finalize()},_=Ln(D,l,v,_),D.ref===0&&D.finalize(),_}function An(){return Be.id||(Be.id=++$t),++Be.awaits,Be.echoes+=V,Be.id}function Yn(){return!!Be.awaits&&(--Be.awaits==0&&(Be.id=0),Be.echoes=Be.awaits*V,!0)}function lr(l){return Be.echoes&&l&&l.constructor===De?(An(),l.then(function(c){return Yn(),c},function(c){return Yn(),gt(c)})):l}function xr(){var l=Ve[Ve.length-1];Ve.pop(),rn(l,!1)}function rn(l,c){var v,_=Oe;(c?!Be.echoes||lt++&&l===Oe:!lt||--lt&&l===Oe)||queueMicrotask(c?(function(C){++Dt,Be.echoes&&--Be.echoes!=0||(Be.echoes=Be.awaits=Be.id=0),Ve.push(Oe),rn(C,!0)}).bind(null,l):xr),l!==Oe&&(Oe=l,_===Xt&&(Xt.env=No()),Ke&&(v=Xt.env.Promise,c=l.env,(_.global||l.global)&&(Object.defineProperty(o,"Promise",c.PromiseProp),v.all=c.all,v.race=c.race,v.resolve=c.resolve,v.reject=c.reject,c.allSettled&&(v.allSettled=c.allSettled),c.any&&(v.any=c.any))))}function No(){var l=o.Promise;return Ke?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Ln(l,c,v,_,C){var D=Oe;try{return rn(l,!0),c(v,_,C)}finally{rn(D,!1)}}function jo(l,c,v,_){return typeof l!="function"?l:function(){var C=Oe;v&&An(),rn(c,!0);try{return l.apply(this,arguments)}finally{rn(C,!1),_&&queueMicrotask(Yn)}}}function kr(l){Promise===De&&Be.echoes===0?lt===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Gn).indexOf("[native code]")===-1&&(An=Yn=Qe);var gt=xe.reject,Ye="￿",et="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Zt="String expected.",cr=[],Fo="__dbnames",Dc="readonly",Tc="readwrite";function Ki(l,c){return l?c?function(){return l.apply(this,arguments)&&c.apply(this,arguments)}:l:c}var fm={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function vu(l){return typeof l!="string"||/\./.test(l)?function(c){return c}:function(c){return c[l]===void 0&&l in c&&delete(c=ue(c))[l],c}}function dm(){throw Ae.Type()}function ct(l,c){try{var v=hm(l),_=hm(c);if(v!==_)return v==="Array"?1:_==="Array"?-1:v==="binary"?1:_==="binary"?-1:v==="string"?1:_==="string"?-1:v==="Date"?1:_!=="Date"?NaN:-1;switch(v){case"number":case"Date":case"string":return c<l?1:l<c?-1:0;case"binary":return function(C,D){for(var A=C.length,j=D.length,K=A<j?A:j,z=0;z<K;++z)if(C[z]!==D[z])return C[z]<D[z]?-1:1;return A===j?0:A<j?-1:1}(pm(l),pm(c));case"Array":return function(C,D){for(var A=C.length,j=D.length,K=A<j?A:j,z=0;z<K;++z){var Q=ct(C[z],D[z]);if(Q!==0)return Q}return A===j?0:A<j?-1:1}(l,c)}}catch{}return NaN}function hm(l){var c=typeof l;return c!="object"?c:ArrayBuffer.isView(l)?"binary":(l=Re(l),l==="ArrayBuffer"?"binary":l)}function pm(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}var mm=(bt.prototype._trans=function(l,c,v){var _=this._tx||Oe.trans,C=this.name,D=w&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function A(z,Q,U){if(!U.schema[C])throw new Ae.NotFound("Table "+C+" not part of transaction");return c(U.idbtrans,U)}var j=Pe();try{var K=_&&_.db._novip===this.db._novip?_===Oe.trans?_._promise(l,A,v):yt(function(){return _._promise(l,A,v)},{trans:_,transless:Oe.transless||Oe}):function z(Q,U,G,q){if(Q.idbdb&&(Q._state.openComplete||Oe.letThrough||Q._vip)){var H=Q._createTransaction(U,G,Q._dbSchema);try{H.create(),Q._state.PR1398_maxLoop=3}catch(J){return J.name===Mt.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,G,q)})):gt(J)}return H._promise(U,function(J,W){return yt(function(){return Oe.trans=H,q(J,W,H)})}).then(function(J){if(U==="readwrite")try{H.idbtrans.commit()}catch{}return U==="readonly"?J:H._completion.then(function(){return J})})}if(Q._state.openComplete)return gt(new Ae.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return gt(new Ae.DatabaseClosed);Q.open().catch(Qe)}return Q._state.dbReadyPromise.then(function(){return z(Q,U,G,q)})}(this.db,l,[this.name],A);return D&&(K._consoleTask=D,K=K.catch(function(z){return console.trace(z),gt(z)})),K}finally{j&&He()}},bt.prototype.get=function(l,c){var v=this;return l&&l.constructor===Object?this.where(l).first(c):l==null?gt(new Ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(_){return v.core.get({trans:_,key:l}).then(function(C){return v.hook.reading.fire(C)})}).then(c)},bt.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(s(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var c=a(l);if(c.length===1)return this.where(c[0]).equals(l[c[0]]);var v=this.schema.indexes.concat(this.schema.primKey).filter(function(K){if(K.compound&&c.every(function(Q){return 0<=K.keyPath.indexOf(Q)})){for(var z=0;z<c.length;++z)if(c.indexOf(K.keyPath[z])===-1)return!1;return!0}return!1}).sort(function(K,z){return K.keyPath.length-z.keyPath.length})[0];if(v&&this.db._maxKey!==Ye){var A=v.keyPath.slice(0,c.length);return this.where(A).equals(A.map(function(z){return l[z]}))}!v&&w&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var _=this.schema.idxByName,C=this.db._deps.indexedDB;function D(K,z){return C.cmp(K,z)===0}var j=c.reduce(function(G,z){var Q=G[0],U=G[1],G=_[z],q=l[z];return[Q||G,Q||!G?Ki(U,G&&G.multi?function(H){return H=k(H,z),s(H)&&H.some(function(J){return D(q,J)})}:function(H){return D(q,k(H,z))}):U]},[null,null]),A=j[0],j=j[1];return A?this.where(A.name).equals(l[A.keyPath]).filter(j):v?this.filter(j):this.where(c).equals("")},bt.prototype.filter=function(l){return this.toCollection().and(l)},bt.prototype.count=function(l){return this.toCollection().count(l)},bt.prototype.offset=function(l){return this.toCollection().offset(l)},bt.prototype.limit=function(l){return this.toCollection().limit(l)},bt.prototype.each=function(l){return this.toCollection().each(l)},bt.prototype.toArray=function(l){return this.toCollection().toArray(l)},bt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},bt.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,s(l)?"[".concat(l.join("+"),"]"):l))},bt.prototype.reverse=function(){return this.toCollection().reverse()},bt.prototype.mapToClass=function(l){var c,v=this.db,_=this.name;function C(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof dm&&(function(K,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function Q(){this.constructor=K}n(K,z),K.prototype=z===null?Object.create(z):(Q.prototype=z.prototype,new Q)}(C,c=l),Object.defineProperty(C.prototype,"db",{get:function(){return v},enumerable:!1,configurable:!0}),C.prototype.table=function(){return _},l=C);for(var D=new Set,A=l.prototype;A;A=d(A))Object.getOwnPropertyNames(A).forEach(function(K){return D.add(K)});function j(K){if(!K)return K;var z,Q=Object.create(l.prototype);for(z in K)if(!D.has(z))try{Q[z]=K[z]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=j,this.hook("reading",j),l},bt.prototype.defineClass=function(){return this.mapToClass(function(l){u(this,l)})},bt.prototype.add=function(l,c){var v=this,_=this.schema.primKey,C=_.auto,D=_.keyPath,A=l;return D&&C&&(A=vu(D)(l)),this._trans("readwrite",function(j){return v.core.mutate({trans:j,type:"add",keys:c!=null?[c]:null,values:[A]})}).then(function(j){return j.numFailures?xe.reject(j.failures[0]):j.lastResult}).then(function(j){if(D)try{P(l,D,j)}catch{}return j})},bt.prototype.update=function(l,c){return typeof l!="object"||s(l)?this.where(":id").equals(l).modify(c):(l=k(l,this.schema.primKey.keyPath),l===void 0?gt(new Ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(c))},bt.prototype.put=function(l,c){var v=this,_=this.schema.primKey,C=_.auto,D=_.keyPath,A=l;return D&&C&&(A=vu(D)(l)),this._trans("readwrite",function(j){return v.core.mutate({trans:j,type:"put",values:[A],keys:c!=null?[c]:null})}).then(function(j){return j.numFailures?xe.reject(j.failures[0]):j.lastResult}).then(function(j){if(D)try{P(l,D,j)}catch{}return j})},bt.prototype.delete=function(l){var c=this;return this._trans("readwrite",function(v){return c.core.mutate({trans:v,type:"delete",keys:[l]})}).then(function(v){return v.numFailures?xe.reject(v.failures[0]):void 0})},bt.prototype.clear=function(){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"deleteRange",range:fm})}).then(function(c){return c.numFailures?xe.reject(c.failures[0]):void 0})},bt.prototype.bulkGet=function(l){var c=this;return this._trans("readonly",function(v){return c.core.getMany({keys:l,trans:v}).then(function(_){return _.map(function(C){return c.hook.reading.fire(C)})})})},bt.prototype.bulkAdd=function(l,c,v){var _=this,C=Array.isArray(c)?c:void 0,D=(v=v||(C?void 0:c))?v.allKeys:void 0;return this._trans("readwrite",function(A){var z=_.schema.primKey,j=z.auto,z=z.keyPath;if(z&&C)throw new Ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(C&&C.length!==l.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var K=l.length,z=z&&j?l.map(vu(z)):l;return _.core.mutate({trans:A,type:"add",keys:C,values:z,wantResults:D}).then(function(H){var U=H.numFailures,G=H.results,q=H.lastResult,H=H.failures;if(U===0)return D?G:q;throw new ot("".concat(_.name,".bulkAdd(): ").concat(U," of ").concat(K," operations failed"),H)})})},bt.prototype.bulkPut=function(l,c,v){var _=this,C=Array.isArray(c)?c:void 0,D=(v=v||(C?void 0:c))?v.allKeys:void 0;return this._trans("readwrite",function(A){var z=_.schema.primKey,j=z.auto,z=z.keyPath;if(z&&C)throw new Ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(C&&C.length!==l.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var K=l.length,z=z&&j?l.map(vu(z)):l;return _.core.mutate({trans:A,type:"put",keys:C,values:z,wantResults:D}).then(function(H){var U=H.numFailures,G=H.results,q=H.lastResult,H=H.failures;if(U===0)return D?G:q;throw new ot("".concat(_.name,".bulkPut(): ").concat(U," of ").concat(K," operations failed"),H)})})},bt.prototype.bulkUpdate=function(l){var c=this,v=this.core,_=l.map(function(A){return A.key}),C=l.map(function(A){return A.changes}),D=[];return this._trans("readwrite",function(A){return v.getMany({trans:A,keys:_,cache:"clone"}).then(function(j){var K=[],z=[];l.forEach(function(U,G){var q=U.key,H=U.changes,J=j[G];if(J){for(var W=0,ee=Object.keys(H);W<ee.length;W++){var ne=ee[W],oe=H[ne];if(ne===c.schema.primKey.keyPath){if(ct(oe,q)!==0)throw new Ae.Constraint("Cannot update primary key in bulkUpdate()")}else P(J,ne,oe)}D.push(G),K.push(q),z.push(J)}});var Q=K.length;return v.mutate({trans:A,type:"put",keys:K,values:z,updates:{keys:_,changeSpecs:C}}).then(function(U){var G=U.numFailures,q=U.failures;if(G===0)return Q;for(var H=0,J=Object.keys(q);H<J.length;H++){var W,ee=J[H],ne=D[Number(ee)];ne!=null&&(W=q[ee],delete q[ee],q[ne]=W)}throw new ot("".concat(c.name,".bulkUpdate(): ").concat(G," of ").concat(Q," operations failed"),q)})})})},bt.prototype.bulkDelete=function(l){var c=this,v=l.length;return this._trans("readwrite",function(_){return c.core.mutate({trans:_,type:"delete",keys:l})}).then(function(A){var C=A.numFailures,D=A.lastResult,A=A.failures;if(C===0)return D;throw new ot("".concat(c.name,".bulkDelete(): ").concat(C," of ").concat(v," operations failed"),A)})},bt);function bt(){}function $a(l){function c(A,j){if(j){for(var K=arguments.length,z=new Array(K-1);--K;)z[K-1]=arguments[K];return v[A].subscribe.apply(null,z),l}if(typeof A=="string")return v[A]}var v={};c.addEventType=D;for(var _=1,C=arguments.length;_<C;++_)D(arguments[_]);return c;function D(A,j,K){if(typeof A!="object"){var z;j=j||M;var Q={subscribers:[],fire:K=K||Qe,subscribe:function(U){Q.subscribers.indexOf(U)===-1&&(Q.subscribers.push(U),Q.fire=j(Q.fire,U))},unsubscribe:function(U){Q.subscribers=Q.subscribers.filter(function(G){return G!==U}),Q.fire=Q.subscribers.reduce(j,K)}};return v[A]=c[A]=Q}a(z=A).forEach(function(U){var G=z[U];if(s(G))D(U,z[U][0],z[U][1]);else{if(G!=="asap")throw new Ae.InvalidArgument("Invalid event config");var q=D(U,Bt,function(){for(var H=arguments.length,J=new Array(H);H--;)J[H]=arguments[H];q.subscribers.forEach(function(W){T(function(){W.apply(null,J)})})})}})}}function Ua(l,c){return S(c).from({prototype:l}),c}function Bo(l,c){return!(l.filter||l.algorithm||l.or)&&(c?l.justLimit:!l.replayFilter)}function Ic(l,c){l.filter=Ki(l.filter,c)}function Ac(l,c,v){var _=l.replayFilter;l.replayFilter=_?function(){return Ki(_(),c())}:c,l.justLimit=v&&!_}function yu(l,c){if(l.isPrimKey)return c.primaryKey;var v=c.getIndexByKeyPath(l.index);if(!v)throw new Ae.Schema("KeyPath "+l.index+" on object store "+c.name+" is not indexed");return v}function vm(l,c,v){var _=yu(l,c.schema);return c.openCursor({trans:v,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:_,range:l.range}})}function gu(l,c,v,_){var C=l.replayFilter?Ki(l.filter,l.replayFilter()):l.filter;if(l.or){var D={},A=function(j,K,z){var Q,U;C&&!C(K,z,function(G){return K.stop(G)},function(G){return K.fail(G)})||((U=""+(Q=K.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Q)),h(D,U)||(D[U]=!0,c(j,K,z)))};return Promise.all([l.or._iterate(A,v),ym(vm(l,_,v),l.algorithm,A,!l.keysOnly&&l.valueMapper)])}return ym(vm(l,_,v),Ki(l.algorithm,C),c,!l.keysOnly&&l.valueMapper)}function ym(l,c,v,_){var C=_e(_?function(D,A,j){return v(_(D),A,j)}:v);return l.then(function(D){if(D)return D.start(function(){var A=function(){return D.continue()};c&&!c(D,function(j){return A=j},function(j){D.stop(j),A=Qe},function(j){D.fail(j),A=Qe})||C(D.value,D,function(j){return A=j}),A()})})}var Br=Symbol(),Lc=(gm.prototype.execute=function(l){var c=(c=this.replacePrefix)===null||c===void 0?void 0:c[0];return c&&typeof l=="string"&&l.startsWith(c)?this.replacePrefix[1]+l.substring(c.length):l},gm);function gm(l){Object.assign(this,l)}var xb=(ut.prototype._read=function(l,c){var v=this._ctx;return v.error?v.table._trans(null,gt.bind(null,v.error)):v.table._trans("readonly",l).then(c)},ut.prototype._write=function(l){var c=this._ctx;return c.error?c.table._trans(null,gt.bind(null,c.error)):c.table._trans("readwrite",l,"locked")},ut.prototype._addAlgorithm=function(l){var c=this._ctx;c.algorithm=Ki(c.algorithm,l)},ut.prototype._iterate=function(l,c){return gu(this._ctx,l,c,this._ctx.table.core)},ut.prototype.clone=function(l){var c=Object.create(this.constructor.prototype),v=Object.create(this._ctx);return l&&u(v,l),c._ctx=v,c},ut.prototype.raw=function(){return this._ctx.valueMapper=null,this},ut.prototype.each=function(l){var c=this._ctx;return this._read(function(v){return gu(c,l,v,c.table.core)})},ut.prototype.count=function(l){var c=this;return this._read(function(v){var _=c._ctx,C=_.table.core;if(Bo(_,!0))return C.count({trans:v,query:{index:yu(_,C.schema),range:_.range}}).then(function(A){return Math.min(A,_.limit)});var D=0;return gu(_,function(){return++D,!1},v,C).then(function(){return D})}).then(l)},ut.prototype.sortBy=function(l,c){var v=l.split(".").reverse(),_=v[0],C=v.length-1;function D(K,z){return z?D(K[v[z]],z-1):K[_]}var A=this._ctx.dir==="next"?1:-1;function j(K,z){return K=D(K,C),z=D(z,C),K<z?-A:z<K?A:0}return this.toArray(function(K){return K.sort(j)}).then(c)},ut.prototype.toArray=function(l){var c=this;return this._read(function(v){var _=c._ctx;if(_.dir==="next"&&Bo(_,!0)&&0<_.limit){var C=_.valueMapper,D=yu(_,_.table.core.schema);return _.table.core.query({trans:v,limit:_.limit,values:!0,query:{index:D,range:_.range}}).then(function(j){return j=j.result,C?j.map(C):j})}var A=[];return gu(_,function(j){return A.push(j)},v,_.table.core).then(function(){return A})},l)},ut.prototype.offset=function(l){var c=this._ctx;return l<=0||(c.offset+=l,Bo(c)?Ac(c,function(){var v=l;return function(_,C){return v===0||(v===1?--v:C(function(){_.advance(v),v=0}),!1)}}):Ac(c,function(){var v=l;return function(){return--v<0}})),this},ut.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),Ac(this._ctx,function(){var c=l;return function(v,_,C){return--c<=0&&_(C),0<=c}},!0),this},ut.prototype.until=function(l,c){return Ic(this._ctx,function(v,_,C){return!l(v.value)||(_(C),c)}),this},ut.prototype.first=function(l){return this.limit(1).toArray(function(c){return c[0]}).then(l)},ut.prototype.last=function(l){return this.reverse().first(l)},ut.prototype.filter=function(l){var c;return Ic(this._ctx,function(v){return l(v.value)}),(c=this._ctx).isMatch=Ki(c.isMatch,l),this},ut.prototype.and=function(l){return this.filter(l)},ut.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},ut.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ut.prototype.desc=function(){return this.reverse()},ut.prototype.eachKey=function(l){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(v,_){l(_.key,_)})},ut.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},ut.prototype.eachPrimaryKey=function(l){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(v,_){l(_.primaryKey,_)})},ut.prototype.keys=function(l){var c=this._ctx;c.keysOnly=!c.isMatch;var v=[];return this.each(function(_,C){v.push(C.key)}).then(function(){return v}).then(l)},ut.prototype.primaryKeys=function(l){var c=this._ctx;if(c.dir==="next"&&Bo(c,!0)&&0<c.limit)return this._read(function(_){var C=yu(c,c.table.core.schema);return c.table.core.query({trans:_,values:!1,limit:c.limit,query:{index:C,range:c.range}})}).then(function(_){return _.result}).then(l);c.keysOnly=!c.isMatch;var v=[];return this.each(function(_,C){v.push(C.primaryKey)}).then(function(){return v}).then(l)},ut.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},ut.prototype.firstKey=function(l){return this.limit(1).keys(function(c){return c[0]}).then(l)},ut.prototype.lastKey=function(l){return this.reverse().firstKey(l)},ut.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var c={};return Ic(this._ctx,function(C){var _=C.primaryKey.toString(),C=h(c,_);return c[_]=!0,!C}),this},ut.prototype.modify=function(l){var c=this,v=this._ctx;return this._write(function(_){var C,D,A;A=typeof l=="function"?l:(C=a(l),D=C.length,function(W){for(var ee=!1,ne=0;ne<D;++ne){var oe=C[ne],ae=l[oe],de=k(W,oe);ae instanceof Lc?(P(W,oe,ae.execute(de)),ee=!0):de!==ae&&(P(W,oe,ae),ee=!0)}return ee});function j(W,oe){var ne=oe.failures,oe=oe.numFailures;H+=W-oe;for(var ae=0,de=a(ne);ae<de.length;ae++){var be=de[ae];q.push(ne[be])}}var K=v.table.core,z=K.schema.primaryKey,Q=z.outbound,U=z.extractKey,G=c.db._options.modifyChunkSize||200,q=[],H=0,J=[];return c.clone().primaryKeys().then(function(W){function ee(ne){var oe=Math.min(G,W.length-ne);return K.getMany({trans:_,keys:W.slice(ne,ne+oe),cache:"immutable"}).then(function(ae){for(var de=[],be=[],ve=Q?[]:null,ge=[],Se=0;Se<oe;++Se){var ke=ae[Se],qe={value:ue(ke),primKey:W[ne+Se]};A.call(qe,qe.value,qe)!==!1&&(qe.value==null?ge.push(W[ne+Se]):Q||ct(U(ke),U(qe.value))===0?(be.push(qe.value),Q&&ve.push(W[ne+Se])):(ge.push(W[ne+Se]),de.push(qe.value)))}var Ge=Bo(v)&&v.limit===1/0&&(typeof l!="function"||l===Mc)&&{index:v.index,range:v.range};return Promise.resolve(0<de.length&&K.mutate({trans:_,type:"add",values:de}).then(function(tt){for(var Je in tt.failures)ge.splice(parseInt(Je),1);j(de.length,tt)})).then(function(){return(0<be.length||Ge&&typeof l=="object")&&K.mutate({trans:_,type:"put",keys:ve,values:be,criteria:Ge,changeSpec:typeof l!="function"&&l}).then(function(tt){return j(be.length,tt)})}).then(function(){return(0<ge.length||Ge&&l===Mc)&&K.mutate({trans:_,type:"delete",keys:ge,criteria:Ge}).then(function(tt){return j(ge.length,tt)})}).then(function(){return W.length>ne+oe&&ee(ne+G)})})}return ee(0).then(function(){if(0<q.length)throw new it("Error modifying one or more objects",q,H,J);return W.length})})})},ut.prototype.delete=function(){var l=this._ctx,c=l.range;return Bo(l)&&(l.isPrimKey||c.type===3)?this._write(function(v){var _=l.table.core.schema.primaryKey,C=c;return l.table.core.count({trans:v,query:{index:_,range:C}}).then(function(D){return l.table.core.mutate({trans:v,type:"deleteRange",range:C}).then(function(A){var j=A.failures;if(A.lastResult,A.results,A=A.numFailures,A)throw new it("Could not delete some values",Object.keys(j).map(function(K){return j[K]}),D-A);return D-A})})}):this.modify(Mc)},ut);function ut(){}var Mc=function(l,c){return c.value=null};function kb(l,c){return l<c?-1:l===c?0:1}function Rb(l,c){return c<l?-1:l===c?0:1}function Mn(l,c,v){return l=l instanceof _m?new l.Collection(l):l,l._ctx.error=new(v||TypeError)(c),l}function $o(l){return new l.Collection(l,function(){return wm("")}).limit(0)}function wu(l,c,v,_){var C,D,A,j,K,z,Q,U=v.length;if(!v.every(function(H){return typeof H=="string"}))return Mn(l,Zt);function G(H){C=H==="next"?function(W){return W.toUpperCase()}:function(W){return W.toLowerCase()},D=H==="next"?function(W){return W.toLowerCase()}:function(W){return W.toUpperCase()},A=H==="next"?kb:Rb;var J=v.map(function(W){return{lower:D(W),upper:C(W)}}).sort(function(W,ee){return A(W.lower,ee.lower)});j=J.map(function(W){return W.upper}),K=J.map(function(W){return W.lower}),Q=(z=H)==="next"?"":_}G("next"),l=new l.Collection(l,function(){return ci(j[0],K[U-1]+_)}),l._ondirectionchange=function(H){G(H)};var q=0;return l._addAlgorithm(function(H,J,W){var ee=H.key;if(typeof ee!="string")return!1;var ne=D(ee);if(c(ne,K,q))return!0;for(var oe=null,ae=q;ae<U;++ae){var de=function(be,ve,ge,Se,ke,qe){for(var Ge=Math.min(be.length,Se.length),tt=-1,Je=0;Je<Ge;++Je){var fr=ve[Je];if(fr!==Se[Je])return ke(be[Je],ge[Je])<0?be.substr(0,Je)+ge[Je]+ge.substr(Je+1):ke(be[Je],Se[Je])<0?be.substr(0,Je)+Se[Je]+ge.substr(Je+1):0<=tt?be.substr(0,tt)+ve[tt]+ge.substr(tt+1):null;ke(be[Je],fr)<0&&(tt=Je)}return Ge<Se.length&&qe==="next"?be+ge.substr(be.length):Ge<be.length&&qe==="prev"?be.substr(0,ge.length):tt<0?null:be.substr(0,tt)+Se[tt]+ge.substr(tt+1)}(ee,ne,j[ae],K[ae],A,z);de===null&&oe===null?q=ae+1:(oe===null||0<A(oe,de))&&(oe=de)}return J(oe!==null?function(){H.continue(oe+Q)}:W),!1}),l}function ci(l,c,v,_){return{type:2,lower:l,upper:c,lowerOpen:v,upperOpen:_}}function wm(l){return{type:1,lower:l,upper:l}}var _m=(Object.defineProperty(Qt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Qt.prototype.between=function(l,c,v,_){v=v!==!1,_=_===!0;try{return 0<this._cmp(l,c)||this._cmp(l,c)===0&&(v||_)&&(!v||!_)?$o(this):new this.Collection(this,function(){return ci(l,c,!v,!_)})}catch{return Mn(this,et)}},Qt.prototype.equals=function(l){return l==null?Mn(this,et):new this.Collection(this,function(){return wm(l)})},Qt.prototype.above=function(l){return l==null?Mn(this,et):new this.Collection(this,function(){return ci(l,void 0,!0)})},Qt.prototype.aboveOrEqual=function(l){return l==null?Mn(this,et):new this.Collection(this,function(){return ci(l,void 0,!1)})},Qt.prototype.below=function(l){return l==null?Mn(this,et):new this.Collection(this,function(){return ci(void 0,l,!1,!0)})},Qt.prototype.belowOrEqual=function(l){return l==null?Mn(this,et):new this.Collection(this,function(){return ci(void 0,l)})},Qt.prototype.startsWith=function(l){return typeof l!="string"?Mn(this,Zt):this.between(l,l+Ye,!0,!0)},Qt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):wu(this,function(c,v){return c.indexOf(v[0])===0},[l],Ye)},Qt.prototype.equalsIgnoreCase=function(l){return wu(this,function(c,v){return c===v[0]},[l],"")},Qt.prototype.anyOfIgnoreCase=function(){var l=we.apply(se,arguments);return l.length===0?$o(this):wu(this,function(c,v){return v.indexOf(c)!==-1},l,"")},Qt.prototype.startsWithAnyOfIgnoreCase=function(){var l=we.apply(se,arguments);return l.length===0?$o(this):wu(this,function(c,v){return v.some(function(_){return c.indexOf(_)===0})},l,Ye)},Qt.prototype.anyOf=function(){var l=this,c=we.apply(se,arguments),v=this._cmp;try{c.sort(v)}catch{return Mn(this,et)}if(c.length===0)return $o(this);var _=new this.Collection(this,function(){return ci(c[0],c[c.length-1])});_._ondirectionchange=function(D){v=D==="next"?l._ascending:l._descending,c.sort(v)};var C=0;return _._addAlgorithm(function(D,A,j){for(var K=D.key;0<v(K,c[C]);)if(++C===c.length)return A(j),!1;return v(K,c[C])===0||(A(function(){D.continue(c[C])}),!1)}),_},Qt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Qt.prototype.noneOf=function(){var l=we.apply(se,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Mn(this,et)}var c=l.reduce(function(v,_){return v?v.concat([[v[v.length-1][1],_]]):[[-1/0,_]]},null);return c.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},Qt.prototype.inAnyRange=function(ee,c){var v=this,_=this._cmp,C=this._ascending,D=this._descending,A=this._min,j=this._max;if(ee.length===0)return $o(this);if(!ee.every(function(ne){return ne[0]!==void 0&&ne[1]!==void 0&&C(ne[0],ne[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ae.InvalidArgument);var K=!c||c.includeLowers!==!1,z=c&&c.includeUppers===!0,Q,U=C;function G(ne,oe){return U(ne[0],oe[0])}try{(Q=ee.reduce(function(ne,oe){for(var ae=0,de=ne.length;ae<de;++ae){var be=ne[ae];if(_(oe[0],be[1])<0&&0<_(oe[1],be[0])){be[0]=A(be[0],oe[0]),be[1]=j(be[1],oe[1]);break}}return ae===de&&ne.push(oe),ne},[])).sort(G)}catch{return Mn(this,et)}var q=0,H=z?function(ne){return 0<C(ne,Q[q][1])}:function(ne){return 0<=C(ne,Q[q][1])},J=K?function(ne){return 0<D(ne,Q[q][0])}:function(ne){return 0<=D(ne,Q[q][0])},W=H,ee=new this.Collection(this,function(){return ci(Q[0][0],Q[Q.length-1][1],!K,!z)});return ee._ondirectionchange=function(ne){U=ne==="next"?(W=H,C):(W=J,D),Q.sort(G)},ee._addAlgorithm(function(ne,oe,ae){for(var de,be=ne.key;W(be);)if(++q===Q.length)return oe(ae),!1;return!H(de=be)&&!J(de)||(v._cmp(be,Q[q][1])===0||v._cmp(be,Q[q][0])===0||oe(function(){U===C?ne.continue(Q[q][0]):ne.continue(Q[q][1])}),!1)}),ee},Qt.prototype.startsWithAnyOf=function(){var l=we.apply(se,arguments);return l.every(function(c){return typeof c=="string"})?l.length===0?$o(this):this.inAnyRange(l.map(function(c){return[c,c+Ye]})):Mn(this,"startsWithAnyOf() only works with strings")},Qt);function Qt(){}function Rr(l){return _e(function(c){return za(c),l(c.target.error),!1})}function za(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var qa="storagemutated",Nc="x-storagemutated-1",fi=$a(null,qa),Ob=(Or.prototype._lock=function(){return O(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this},Or.prototype._unlock=function(){if(O(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Ln(l[1],l[0])}catch{}}return this},Or.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},Or.prototype.create=function(l){var c=this;if(!this.mode)return this;var v=this.db.idbdb,_=this.db._state.dbOpenError;if(O(!this.idbtrans),!l&&!v)switch(_&&_.name){case"DatabaseClosedError":throw new Ae.DatabaseClosed(_);case"MissingAPIError":throw new Ae.MissingAPI(_.message,_);default:throw new Ae.OpenFailed(_)}if(!this.active)throw new Ae.TransactionInactive;return O(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||v).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=_e(function(C){za(C),c._reject(l.error)}),l.onabort=_e(function(C){za(C),c.active&&c._reject(new Ae.Abort(l.error)),c.active=!1,c.on("abort").fire(C)}),l.oncomplete=_e(function(){c.active=!1,c._resolve(),"mutatedParts"in l&&fi.storagemutated.fire(l.mutatedParts)}),this},Or.prototype._promise=function(l,c,v){var _=this;if(l==="readwrite"&&this.mode!=="readwrite")return gt(new Ae.ReadOnly("Transaction is readonly"));if(!this.active)return gt(new Ae.TransactionInactive);if(this._locked())return new xe(function(D,A){_._blockedFuncs.push([function(){_._promise(l,c,v).then(D,A)},Oe])});if(v)return yt(function(){var D=new xe(function(A,j){_._lock();var K=c(A,j,_);K&&K.then&&K.then(A,j)});return D.finally(function(){return _._unlock()}),D._lib=!0,D});var C=new xe(function(D,A){var j=c(D,A,_);j&&j.then&&j.then(D,A)});return C._lib=!0,C},Or.prototype._root=function(){return this.parent?this.parent._root():this},Or.prototype.waitFor=function(l){var c,v=this._root(),_=xe.resolve(l);v._waitingFor?v._waitingFor=v._waitingFor.then(function(){return _}):(v._waitingFor=_,v._waitingQueue=[],c=v.idbtrans.objectStore(v.storeNames[0]),function D(){for(++v._spinCount;v._waitingQueue.length;)v._waitingQueue.shift()();v._waitingFor&&(c.get(-1/0).onsuccess=D)}());var C=v._waitingFor;return new xe(function(D,A){_.then(function(j){return v._waitingQueue.push(_e(D.bind(null,j)))},function(j){return v._waitingQueue.push(_e(A.bind(null,j)))}).finally(function(){v._waitingFor===C&&(v._waitingFor=null)})})},Or.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ae.Abort))},Or.prototype.table=function(l){var c=this._memoizedTables||(this._memoizedTables={});if(h(c,l))return c[l];var v=this.schema[l];if(!v)throw new Ae.NotFound("Table "+l+" not part of transaction");return v=new this.db.Table(l,v,this),v.core=this.db.core.table(l),c[l]=v},Or);function Or(){}function jc(l,c,v,_,C,D,A){return{name:l,keyPath:c,unique:v,multi:_,auto:C,compound:D,src:(v&&!A?"&":"")+(_?"*":"")+(C?"++":"")+bm(c)}}function bm(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Fc(l,c,v){return{name:l,primKey:c,indexes:v,mappedClass:null,idxByName:(_=function(C){return[C.name,C]},v.reduce(function(C,D,A){return A=_(D,A),A&&(C[A[0]]=A[1]),C},{}))};var _}var Ka=function(l){try{return l.only([[]]),Ka=function(){return[[]]},[[]]}catch{return Ka=function(){return Ye},Ye}};function Bc(l){return l==null?function(){}:typeof l=="string"?(c=l).split(".").length===1?function(v){return v[c]}:function(v){return k(v,c)}:function(v){return k(v,l)};var c}function Sm(l){return[].slice.call(l)}var Pb=0;function Wa(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function Db(l,c,K){function _(W){if(W.type===3)return null;if(W.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var q=W.lower,H=W.upper,J=W.lowerOpen,W=W.upperOpen;return q===void 0?H===void 0?null:c.upperBound(H,!!W):H===void 0?c.lowerBound(q,!!J):c.bound(q,H,!!J,!!W)}function C(G){var q,H=G.name;return{name:H,schema:G,mutate:function(J){var W=J.trans,ee=J.type,ne=J.keys,oe=J.values,ae=J.range;return new Promise(function(de,be){de=_e(de);var ve=W.objectStore(H),ge=ve.keyPath==null,Se=ee==="put"||ee==="add";if(!Se&&ee!=="delete"&&ee!=="deleteRange")throw new Error("Invalid operation type: "+ee);var ke,qe=(ne||oe||{length:1}).length;if(ne&&oe&&ne.length!==oe.length)throw new Error("Given keys array must have same length as given values array.");if(qe===0)return de({numFailures:0,failures:{},results:[],lastResult:void 0});function Ge(wn){++fr,za(wn)}var tt=[],Je=[],fr=0;if(ee==="deleteRange"){if(ae.type===4)return de({numFailures:fr,failures:Je,results:[],lastResult:void 0});ae.type===3?tt.push(ke=ve.clear()):tt.push(ke=ve.delete(_(ae)))}else{var ge=Se?ge?[oe,ne]:[oe,null]:[ne,null],Xe=ge[0],an=ge[1];if(Se)for(var sn=0;sn<qe;++sn)tt.push(ke=an&&an[sn]!==void 0?ve[ee](Xe[sn],an[sn]):ve[ee](Xe[sn])),ke.onerror=Ge;else for(sn=0;sn<qe;++sn)tt.push(ke=ve[ee](Xe[sn])),ke.onerror=Ge}function Iu(wn){wn=wn.target.result,tt.forEach(function(Vi,of){return Vi.error!=null&&(Je[of]=Vi.error)}),de({numFailures:fr,failures:Je,results:ee==="delete"?ne:tt.map(function(Vi){return Vi.result}),lastResult:wn})}ke.onerror=function(wn){Ge(wn),Iu(wn)},ke.onsuccess=Iu})},getMany:function(J){var W=J.trans,ee=J.keys;return new Promise(function(ne,oe){ne=_e(ne);for(var ae,de=W.objectStore(H),be=ee.length,ve=new Array(be),ge=0,Se=0,ke=function(tt){tt=tt.target,ve[tt._pos]=tt.result,++Se===ge&&ne(ve)},qe=Rr(oe),Ge=0;Ge<be;++Ge)ee[Ge]!=null&&((ae=de.get(ee[Ge]))._pos=Ge,ae.onsuccess=ke,ae.onerror=qe,++ge);ge===0&&ne(ve)})},get:function(J){var W=J.trans,ee=J.key;return new Promise(function(ne,oe){ne=_e(ne);var ae=W.objectStore(H).get(ee);ae.onsuccess=function(de){return ne(de.target.result)},ae.onerror=Rr(oe)})},query:(q=z,function(J){return new Promise(function(W,ee){W=_e(W);var ne,oe,ae,ge=J.trans,de=J.values,be=J.limit,ke=J.query,ve=be===1/0?void 0:be,Se=ke.index,ke=ke.range,ge=ge.objectStore(H),Se=Se.isPrimaryKey?ge:ge.index(Se.name),ke=_(ke);if(be===0)return W({result:[]});q?((ve=de?Se.getAll(ke,ve):Se.getAllKeys(ke,ve)).onsuccess=function(qe){return W({result:qe.target.result})},ve.onerror=Rr(ee)):(ne=0,oe=!de&&"openKeyCursor"in Se?Se.openKeyCursor(ke):Se.openCursor(ke),ae=[],oe.onsuccess=function(qe){var Ge=oe.result;return Ge?(ae.push(de?Ge.value:Ge.primaryKey),++ne===be?W({result:ae}):void Ge.continue()):W({result:ae})},oe.onerror=Rr(ee))})}),openCursor:function(J){var W=J.trans,ee=J.values,ne=J.query,oe=J.reverse,ae=J.unique;return new Promise(function(de,be){de=_e(de);var Se=ne.index,ve=ne.range,ge=W.objectStore(H),ge=Se.isPrimaryKey?ge:ge.index(Se.name),Se=oe?ae?"prevunique":"prev":ae?"nextunique":"next",ke=!ee&&"openKeyCursor"in ge?ge.openKeyCursor(_(ve),Se):ge.openCursor(_(ve),Se);ke.onerror=Rr(be),ke.onsuccess=_e(function(qe){var Ge,tt,Je,fr,Xe=ke.result;Xe?(Xe.___id=++Pb,Xe.done=!1,Ge=Xe.continue.bind(Xe),tt=(tt=Xe.continuePrimaryKey)&&tt.bind(Xe),Je=Xe.advance.bind(Xe),fr=function(){throw new Error("Cursor not stopped")},Xe.trans=W,Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=function(){throw new Error("Cursor not started")},Xe.fail=_e(be),Xe.next=function(){var an=this,sn=1;return this.start(function(){return sn--?an.continue():an.stop()}).then(function(){return an})},Xe.start=function(an){function sn(){if(ke.result)try{an()}catch(wn){Xe.fail(wn)}else Xe.done=!0,Xe.start=function(){throw new Error("Cursor behind last entry")},Xe.stop()}var Iu=new Promise(function(wn,Vi){wn=_e(wn),ke.onerror=Rr(Vi),Xe.fail=Vi,Xe.stop=function(of){Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=fr,wn(of)}});return ke.onsuccess=_e(function(wn){ke.onsuccess=sn,sn()}),Xe.continue=Ge,Xe.continuePrimaryKey=tt,Xe.advance=Je,sn(),Iu},de(Xe)):de(null)},be)})},count:function(J){var W=J.query,ee=J.trans,ne=W.index,oe=W.range;return new Promise(function(ae,de){var be=ee.objectStore(H),ve=ne.isPrimaryKey?be:be.index(ne.name),be=_(oe),ve=be?ve.count(be):ve.count();ve.onsuccess=_e(function(ge){return ae(ge.target.result)}),ve.onerror=Rr(de)})}}}var D,A,j,Q=(A=K,j=Sm((D=l).objectStoreNames),{schema:{name:D.name,tables:j.map(function(G){return A.objectStore(G)}).map(function(G){var q=G.keyPath,W=G.autoIncrement,H=s(q),J={},W={name:G.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:q==null,compound:H,keyPath:q,autoIncrement:W,unique:!0,extractKey:Bc(q)},indexes:Sm(G.indexNames).map(function(ee){return G.index(ee)}).map(function(ae){var ne=ae.name,oe=ae.unique,de=ae.multiEntry,ae=ae.keyPath,de={name:ne,compound:s(ae),keyPath:ae,unique:oe,multiEntry:de,extractKey:Bc(ae)};return J[Wa(ae)]=de}),getIndexByKeyPath:function(ee){return J[Wa(ee)]}};return J[":id"]=W.primaryKey,q!=null&&(J[Wa(q)]=W.primaryKey),W})},hasGetAll:0<j.length&&"getAll"in A.objectStore(j[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),K=Q.schema,z=Q.hasGetAll,Q=K.tables.map(C),U={};return Q.forEach(function(G){return U[G.name]=G}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(G){if(!U[G])throw new Error("Table '".concat(G,"' not found"));return U[G]},MIN_KEY:-1/0,MAX_KEY:Ka(c),schema:K}}function Tb(l,c,v,_){var C=v.IDBKeyRange;return v.indexedDB,{dbcore:(_=Db(c,C,_),l.dbcore.reduce(function(D,A){return A=A.create,r(r({},D),A(D))},_))}}function _u(l,_){var v=_.db,_=Tb(l._middlewares,v,l._deps,_);l.core=_.dbcore,l.tables.forEach(function(C){var D=C.name;l.core.schema.tables.some(function(A){return A.name===D})&&(C.core=l.core.table(D),l[D]instanceof l.Table&&(l[D].core=C.core))})}function bu(l,c,v,_){v.forEach(function(C){var D=_[C];c.forEach(function(A){var j=function K(z,Q){return I(z,Q)||(z=d(z))&&K(z,Q)}(A,C);(!j||"value"in j&&j.value===void 0)&&(A===l.Transaction.prototype||A instanceof l.Transaction?g(A,C,{get:function(){return this.table(C)},set:function(K){b(this,C,{value:K,writable:!0,configurable:!0,enumerable:!0})}}):A[C]=new l.Table(C,D))})})}function $c(l,c){c.forEach(function(v){for(var _ in v)v[_]instanceof l.Table&&delete v[_]})}function Ib(l,c){return l._cfg.version-c._cfg.version}function Ab(l,c,v,_){var C=l._dbSchema;v.objectStoreNames.contains("$meta")&&!C.$meta&&(C.$meta=Fc("$meta",Cm("")[0],[]),l._storeNames.push("$meta"));var D=l._createTransaction("readwrite",l._storeNames,C);D.create(v),D._completion.catch(_);var A=D._reject.bind(D),j=Oe.transless||Oe;yt(function(){return Oe.trans=D,Oe.transless=j,c!==0?(_u(l,v),z=c,((K=D).storeNames.includes("$meta")?K.table("$meta").get("version").then(function(Q){return Q??z}):xe.resolve(z)).then(function(Q){return G=Q,q=D,H=v,J=[],Q=(U=l)._versions,W=U._dbSchema=Eu(0,U.idbdb,H),(Q=Q.filter(function(ee){return ee._cfg.version>=G})).length!==0?(Q.forEach(function(ee){J.push(function(){var ne=W,oe=ee._cfg.dbschema;Cu(U,ne,H),Cu(U,oe,H),W=U._dbSchema=oe;var ae=Uc(ne,oe);ae.add.forEach(function(Se){zc(H,Se[0],Se[1].primKey,Se[1].indexes)}),ae.change.forEach(function(Se){if(Se.recreate)throw new Ae.Upgrade("Not yet support for changing primary key");var ke=H.objectStore(Se.name);Se.add.forEach(function(qe){return Su(ke,qe)}),Se.change.forEach(function(qe){ke.deleteIndex(qe.name),Su(ke,qe)}),Se.del.forEach(function(qe){return ke.deleteIndex(qe)})});var de=ee._cfg.contentUpgrade;if(de&&ee._cfg.version>G){_u(U,H),q._memoizedTables={};var be=L(oe);ae.del.forEach(function(Se){be[Se]=ne[Se]}),$c(U,[U.Transaction.prototype]),bu(U,[U.Transaction.prototype],a(be),be),q.schema=be;var ve,ge=Ne(de);return ge&&An(),ae=xe.follow(function(){var Se;(ve=de(q))&&ge&&(Se=Yn.bind(null,null),ve.then(Se,Se))}),ve&&typeof ve.then=="function"?xe.resolve(ve):ae.then(function(){return ve})}}),J.push(function(ne){var oe,ae,de=ee._cfg.dbschema;oe=de,ae=ne,[].slice.call(ae.db.objectStoreNames).forEach(function(be){return oe[be]==null&&ae.db.deleteObjectStore(be)}),$c(U,[U.Transaction.prototype]),bu(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),q.schema=U._dbSchema}),J.push(function(ne){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===ee._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(oe){return oe!=="$meta"})):ne.objectStore("$meta").put(ee._cfg.version,"version"))})}),function ee(){return J.length?xe.resolve(J.shift()(q.idbtrans)).then(ee):xe.resolve()}().then(function(){Em(W,H)})):xe.resolve();var U,G,q,H,J,W}).catch(A)):(a(C).forEach(function(Q){zc(v,Q,C[Q].primKey,C[Q].indexes)}),_u(l,v),void xe.follow(function(){return l.on.populate.fire(D)}).catch(A));var K,z})}function Lb(l,c){Em(l._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var v=Eu(0,l.idbdb,c);Cu(l,l._dbSchema,c);for(var _=0,C=Uc(v,l._dbSchema).change;_<C.length;_++){var D=function(A){if(A.change.length||A.recreate)return console.warn("Unable to patch indexes of table ".concat(A.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=c.objectStore(A.name);A.add.forEach(function(K){w&&console.debug("Dexie upgrade patch: Creating missing index ".concat(A.name,".").concat(K.src)),Su(j,K)})}(C[_]);if(typeof D=="object")return D.value}}function Uc(l,c){var v,_={del:[],add:[],change:[]};for(v in l)c[v]||_.del.push(v);for(v in c){var C=l[v],D=c[v];if(C){var A={name:v,def:D,recreate:!1,del:[],add:[],change:[]};if(""+(C.primKey.keyPath||"")!=""+(D.primKey.keyPath||"")||C.primKey.auto!==D.primKey.auto)A.recreate=!0,_.change.push(A);else{var j=C.idxByName,K=D.idxByName,z=void 0;for(z in j)K[z]||A.del.push(z);for(z in K){var Q=j[z],U=K[z];Q?Q.src!==U.src&&A.change.push(U):A.add.push(U)}(0<A.del.length||0<A.add.length||0<A.change.length)&&_.change.push(A)}}else _.add.push([v,D])}return _}function zc(l,c,v,_){var C=l.db.createObjectStore(c,v.keyPath?{keyPath:v.keyPath,autoIncrement:v.auto}:{autoIncrement:v.auto});return _.forEach(function(D){return Su(C,D)}),C}function Em(l,c){a(l).forEach(function(v){c.db.objectStoreNames.contains(v)||(w&&console.debug("Dexie: Creating missing table",v),zc(c,v,l[v].primKey,l[v].indexes))})}function Su(l,c){l.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function Eu(l,c,v){var _={};return x(c.objectStoreNames,0).forEach(function(C){for(var D=v.objectStore(C),A=jc(bm(z=D.keyPath),z||"",!0,!1,!!D.autoIncrement,z&&typeof z!="string",!0),j=[],K=0;K<D.indexNames.length;++K){var Q=D.index(D.indexNames[K]),z=Q.keyPath,Q=jc(Q.name,z,!!Q.unique,!!Q.multiEntry,!1,z&&typeof z!="string",!1);j.push(Q)}_[C]=Fc(C,A,j)}),_}function Cu(l,c,v){for(var _=v.db.objectStoreNames,C=0;C<_.length;++C){var D=_[C],A=v.objectStore(D);l._hasGetAll="getAll"in A;for(var j=0;j<A.indexNames.length;++j){var K=A.indexNames[j],z=A.index(K).keyPath,Q=typeof z=="string"?z:"["+x(z).join("+")+"]";!c[D]||(z=c[D].idxByName[Q])&&(z.name=K,delete c[D].idxByName[Q],c[D].idxByName[K]=z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Cm(l){return l.split(",").map(function(c,v){var _=(c=c.trim()).replace(/([&*]|\+\+)/g,""),C=/^\[/.test(_)?_.match(/^\[(.*)\]$/)[1].split("+"):_;return jc(_,C||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),s(C),v===0)})}var Mb=(xu.prototype._parseStoresSpec=function(l,c){a(l).forEach(function(v){if(l[v]!==null){var _=Cm(l[v]),C=_.shift();if(C.unique=!0,C.multi)throw new Ae.Schema("Primary key cannot be multi-valued");_.forEach(function(D){if(D.auto)throw new Ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!D.keyPath)throw new Ae.Schema("Index must have a name and cannot be an empty string")}),c[v]=Fc(v,C,_)}})},xu.prototype.stores=function(v){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,v):v;var v=c._versions,_={},C={};return v.forEach(function(D){u(_,D._cfg.storesSource),C=D._cfg.dbschema={},D._parseStoresSpec(_,C)}),c._dbSchema=C,$c(c,[c._allTables,c,c.Transaction.prototype]),bu(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],a(C),C),c._storeNames=a(C),this},xu.prototype.upgrade=function(l){return this._cfg.contentUpgrade=f(this._cfg.contentUpgrade||Qe,l),this},xu);function xu(){}function qc(l,c){var v=l._dbNamesDB;return v||(v=l._dbNamesDB=new $r(Fo,{addons:[],indexedDB:l,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),v.table("dbnames")}function Kc(l){return l&&typeof l.databases=="function"}function Wc(l){return yt(function(){return Oe.letThrough=!0,l()})}function Hc(l){return!("from"in l)}var on=function(l,c){if(!this){var v=new on;return l&&"d"in l&&u(v,l),v}u(this,arguments.length?{d:1,from:l,to:1<arguments.length?c:l}:{d:0})};function Ha(l,c,v){var _=ct(c,v);if(!isNaN(_)){if(0<_)throw RangeError();if(Hc(l))return u(l,{from:c,to:v,d:1});var C=l.l,_=l.r;if(ct(v,l.from)<0)return C?Ha(C,c,v):l.l={from:c,to:v,d:1,l:null,r:null},xm(l);if(0<ct(c,l.to))return _?Ha(_,c,v):l.r={from:c,to:v,d:1,l:null,r:null},xm(l);ct(c,l.from)<0&&(l.from=c,l.l=null,l.d=_?_.d+1:1),0<ct(v,l.to)&&(l.to=v,l.r=null,l.d=l.l?l.l.d+1:1),v=!l.r,C&&!l.l&&Va(l,C),_&&v&&Va(l,_)}}function Va(l,c){Hc(c)||function v(_,K){var D=K.from,A=K.to,j=K.l,K=K.r;Ha(_,D,A),j&&v(_,j),K&&v(_,K)}(l,c)}function ku(l,c){var v=Vc(c),_=v.next();if(_.done)return!1;for(var C=_.value,D=Vc(l),A=D.next(C.from),j=A.value;!_.done&&!A.done;){if(ct(j.from,C.to)<=0&&0<=ct(j.to,C.from))return!0;ct(C.from,j.from)<0?C=(_=v.next(j.from)).value:j=(A=D.next(C.from)).value}return!1}function Vc(l){var c=Hc(l)?null:{s:0,n:l};return{next:function(v){for(var _=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,_)for(;c.n.l&&ct(v,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!_||ct(v,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function xm(l){var c,v,_=(((c=l.r)===null||c===void 0?void 0:c.d)||0)-(((v=l.l)===null||v===void 0?void 0:v.d)||0),C=1<_?"r":_<-1?"l":"";C&&(c=C=="r"?"l":"r",v=r({},l),_=l[C],l.from=_.from,l.to=_.to,l[C]=_[C],v[C]=_[c],(l[c]=v).d=km(v)),l.d=km(l)}function km(v){var c=v.r,v=v.l;return(c?v?Math.max(c.d,v.d):c.d:v?v.d:0)+1}function Ru(l,c){return a(c).forEach(function(v){l[v]?Va(l[v],c[v]):l[v]=function _(C){var D,A,j={};for(D in C)h(C,D)&&(A=C[D],j[D]=!A||typeof A!="object"||F.has(A.constructor)?A:_(A));return j}(c[v])}),l}function Qc(l,c){return l.all||c.all||Object.keys(l).some(function(v){return c[v]&&ku(c[v],l[v])})}p(on.prototype,((Gn={add:function(l){return Va(this,l),this},addKey:function(l){return Ha(this,l,l),this},addKeys:function(l){var c=this;return l.forEach(function(v){return Ha(c,v,v)}),this}})[Ce]=function(){return Vc(this)},Gn));var Wi={},Yc={},Gc=!1;function Ou(l){Ru(Yc,l),Gc||(Gc=!0,setTimeout(function(){Gc=!1,Jc(Yc,!(Yc={}))},0))}function Jc(l,c){c===void 0&&(c=!1);var v=new Set;if(l.all)for(var _=0,C=Object.values(Wi);_<C.length;_++)Rm(A=C[_],l,v,c);else for(var D in l){var A,j=/^idb\:\/\/(.*)\/(.*)\//.exec(D);j&&(D=j[1],j=j[2],(A=Wi["idb://".concat(D,"/").concat(j)])&&Rm(A,l,v,c))}v.forEach(function(K){return K()})}function Rm(l,c,v,_){for(var C=[],D=0,A=Object.entries(l.queries.query);D<A.length;D++){for(var j=A[D],K=j[0],z=[],Q=0,U=j[1];Q<U.length;Q++){var G=U[Q];Qc(c,G.obsSet)?G.subscribers.forEach(function(W){return v.add(W)}):_&&z.push(G)}_&&C.push([K,z])}if(_)for(var q=0,H=C;q<H.length;q++){var J=H[q],K=J[0],z=J[1];l.queries.query[K]=z}}function Nb(l){var c=l._state,v=l._deps.indexedDB;if(c.isBeingOpened||l.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?gt(c.dbOpenError):l});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var _=c.openCanceller,C=Math.round(10*l.verno),D=!1;function A(){if(c.openCanceller!==_)throw new Ae.DatabaseClosed("db.open() was cancelled")}function j(){return new xe(function(G,q){if(A(),!v)throw new Ae.MissingAPI;var H=l.name,J=c.autoSchema||!C?v.open(H):v.open(H,C);if(!J)throw new Ae.MissingAPI;J.onerror=Rr(q),J.onblocked=_e(l._fireOnBlocked),J.onupgradeneeded=_e(function(W){var ee;Q=J.transaction,c.autoSchema&&!l._options.allowEmptyDB?(J.onerror=za,Q.abort(),J.result.close(),(ee=v.deleteDatabase(H)).onsuccess=ee.onerror=_e(function(){q(new Ae.NoSuchDatabase("Database ".concat(H," doesnt exist")))})):(Q.onerror=Rr(q),W=W.oldVersion>Math.pow(2,62)?0:W.oldVersion,U=W<1,l.idbdb=J.result,D&&Lb(l,Q),Ab(l,W/10,Q,q))},q),J.onsuccess=_e(function(){Q=null;var W,ee,ne,oe,ae,de=l.idbdb=J.result,be=x(de.objectStoreNames);if(0<be.length)try{var ve=de.transaction((oe=be).length===1?oe[0]:oe,"readonly");if(c.autoSchema)ee=de,ne=ve,(W=l).verno=ee.version/10,ne=W._dbSchema=Eu(0,ee,ne),W._storeNames=x(ee.objectStoreNames,0),bu(W,[W._allTables],a(ne),ne);else if(Cu(l,l._dbSchema,ve),((ae=Uc(Eu(0,(ae=l).idbdb,ve),ae._dbSchema)).add.length||ae.change.some(function(ge){return ge.add.length||ge.change.length}))&&!D)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),de.close(),C=de.version+1,D=!0,G(j());_u(l,ve)}catch{}cr.push(l),de.onversionchange=_e(function(ge){c.vcFired=!0,l.on("versionchange").fire(ge)}),de.onclose=_e(function(ge){l.on("close").fire(ge)}),U&&(ae=l._deps,ve=H,de=ae.indexedDB,ae=ae.IDBKeyRange,Kc(de)||ve===Fo||qc(de,ae).put({name:ve}).catch(Qe)),G()},q)}).catch(function(G){switch(G==null?void 0:G.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<C)return C=0,j()}return xe.reject(G)})}var K,z=c.dbReadyResolve,Q=null,U=!1;return xe.race([_,(typeof navigator>"u"?xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(G){function q(){return indexedDB.databases().finally(G)}K=setInterval(q,100),q()}).finally(function(){return clearInterval(K)}):Promise.resolve()).then(j)]).then(function(){return A(),c.onReadyBeingFired=[],xe.resolve(Wc(function(){return l.on.ready.fire(l.vip)})).then(function G(){if(0<c.onReadyBeingFired.length){var q=c.onReadyBeingFired.reduce(f,Qe);return c.onReadyBeingFired=[],xe.resolve(Wc(function(){return q(l.vip)})).then(G)}})}).finally(function(){c.openCanceller===_&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(G){c.dbOpenError=G;try{Q&&Q.abort()}catch{}return _===c.openCanceller&&l._close(),gt(G)}).finally(function(){c.openComplete=!0,z()}).then(function(){var G;return U&&(G={},l.tables.forEach(function(q){q.schema.indexes.forEach(function(H){H.name&&(G["idb://".concat(l.name,"/").concat(q.name,"/").concat(H.name)]=new on(-1/0,[[[]]]))}),G["idb://".concat(l.name,"/").concat(q.name,"/")]=G["idb://".concat(l.name,"/").concat(q.name,"/:dels")]=new on(-1/0,[[[]]])}),fi(qa).fire(G),Jc(G,!0)),l})}function Xc(l){function c(D){return l.next(D)}var v=C(c),_=C(function(D){return l.throw(D)});function C(D){return function(K){var j=D(K),K=j.value;return j.done?K:K&&typeof K.then=="function"?K.then(v,_):s(K)?Promise.all(K).then(v,_):v(K)}}return C(c)()}function Pu(l,c,v){for(var _=s(l)?l.slice():[l],C=0;C<v;++C)_.push(c);return _}var jb={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return r(r({},l),{table:function(c){var v=l.table(c),_=v.schema,C={},D=[];function A(U,G,q){var H=Wa(U),J=C[H]=C[H]||[],W=U==null?0:typeof U=="string"?1:U.length,ee=0<G,ee=r(r({},q),{name:ee?"".concat(H,"(virtual-from:").concat(q.name,")"):q.name,lowLevelIndex:q,isVirtual:ee,keyTail:G,keyLength:W,extractKey:Bc(U),unique:!ee&&q.unique});return J.push(ee),ee.isPrimaryKey||D.push(ee),1<W&&A(W===2?U[0]:U.slice(0,W-1),G+1,q),J.sort(function(ne,oe){return ne.keyTail-oe.keyTail}),ee}c=A(_.primaryKey.keyPath,0,_.primaryKey),C[":id"]=[c];for(var j=0,K=_.indexes;j<K.length;j++){var z=K[j];A(z.keyPath,0,z)}function Q(U){var G,q=U.query.index;return q.isVirtual?r(r({},U),{query:{index:q.lowLevelIndex,range:(G=U.query.range,q=q.keyTail,{type:G.type===1?2:G.type,lower:Pu(G.lower,G.lowerOpen?l.MAX_KEY:l.MIN_KEY,q),lowerOpen:!0,upper:Pu(G.upper,G.upperOpen?l.MIN_KEY:l.MAX_KEY,q),upperOpen:!0})}}):U}return r(r({},v),{schema:r(r({},_),{primaryKey:c,indexes:D,getIndexByKeyPath:function(U){return(U=C[Wa(U)])&&U[0]}}),count:function(U){return v.count(Q(U))},query:function(U){return v.query(Q(U))},openCursor:function(U){var G=U.query.index,q=G.keyTail,H=G.isVirtual,J=G.keyLength;return H?v.openCursor(Q(U)).then(function(ee){return ee&&W(ee)}):v.openCursor(U);function W(ee){return Object.create(ee,{continue:{value:function(ne){ne!=null?ee.continue(Pu(ne,U.reverse?l.MAX_KEY:l.MIN_KEY,q)):U.unique?ee.continue(ee.key.slice(0,J).concat(U.reverse?l.MIN_KEY:l.MAX_KEY,q)):ee.continue()}},continuePrimaryKey:{value:function(ne,oe){ee.continuePrimaryKey(Pu(ne,l.MAX_KEY,q),oe)}},primaryKey:{get:function(){return ee.primaryKey}},key:{get:function(){var ne=ee.key;return J===1?ne[0]:ne.slice(0,J)}},value:{get:function(){return ee.value}}})}}})}})}};function Zc(l,c,v,_){return v=v||{},_=_||"",a(l).forEach(function(C){var D,A,j;h(c,C)?(D=l[C],A=c[C],typeof D=="object"&&typeof A=="object"&&D&&A?(j=Re(D))!==Re(A)?v[_+C]=c[C]:j==="Object"?Zc(D,A,v,_+C+"."):D!==A&&(v[_+C]=c[C]):D!==A&&(v[_+C]=c[C])):v[_+C]=void 0}),a(c).forEach(function(C){h(l,C)||(v[_+C]=c[C])}),v}function ef(l,c){return c.type==="delete"?c.keys:c.keys||c.values.map(l.extractKey)}var Fb={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return r(r({},l),{table:function(c){var v=l.table(c),_=v.schema.primaryKey;return r(r({},v),{mutate:function(C){var D=Oe.trans,A=D.table(c).hook,j=A.deleting,K=A.creating,z=A.updating;switch(C.type){case"add":if(K.fire===Qe)break;return D._promise("readwrite",function(){return Q(C)},!0);case"put":if(K.fire===Qe&&z.fire===Qe)break;return D._promise("readwrite",function(){return Q(C)},!0);case"delete":if(j.fire===Qe)break;return D._promise("readwrite",function(){return Q(C)},!0);case"deleteRange":if(j.fire===Qe)break;return D._promise("readwrite",function(){return function U(G,q,H){return v.query({trans:G,values:!1,query:{index:_,range:q},limit:H}).then(function(J){var W=J.result;return Q({type:"delete",keys:W,trans:G}).then(function(ee){return 0<ee.numFailures?Promise.reject(ee.failures[0]):W.length<H?{failures:[],numFailures:0,lastResult:void 0}:U(G,r(r({},q),{lower:W[W.length-1],lowerOpen:!0}),H)})})}(C.trans,C.range,1e4)},!0)}return v.mutate(C);function Q(U){var G,q,H,J=Oe.trans,W=U.keys||ef(_,U);if(!W)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?r(r({},U),{keys:W}):r({},U)).type!=="delete"&&(U.values=i([],U.values,!0)),U.keys&&(U.keys=i([],U.keys,!0)),G=v,H=W,((q=U).type==="add"?Promise.resolve([]):G.getMany({trans:q.trans,keys:H,cache:"immutable"})).then(function(ee){var ne=W.map(function(oe,ae){var de,be,ve,ge=ee[ae],Se={onerror:null,onsuccess:null};return U.type==="delete"?j.fire.call(Se,oe,ge,J):U.type==="add"||ge===void 0?(de=K.fire.call(Se,oe,U.values[ae],J),oe==null&&de!=null&&(U.keys[ae]=oe=de,_.outbound||P(U.values[ae],_.keyPath,oe))):(de=Zc(ge,U.values[ae]),(be=z.fire.call(Se,de,oe,ge,J))&&(ve=U.values[ae],Object.keys(be).forEach(function(ke){h(ve,ke)?ve[ke]=be[ke]:P(ve,ke,be[ke])}))),Se});return v.mutate(U).then(function(oe){for(var ae=oe.failures,de=oe.results,be=oe.numFailures,oe=oe.lastResult,ve=0;ve<W.length;++ve){var ge=(de||W)[ve],Se=ne[ve];ge==null?Se.onerror&&Se.onerror(ae[ve]):Se.onsuccess&&Se.onsuccess(U.type==="put"&&ee[ve]?U.values[ve]:ge)}return{failures:ae,results:de,numFailures:be,lastResult:oe}}).catch(function(oe){return ne.forEach(function(ae){return ae.onerror&&ae.onerror(oe)}),Promise.reject(oe)})})}}})}})}};function Om(l,c,v){try{if(!c||c.keys.length<l.length)return null;for(var _=[],C=0,D=0;C<c.keys.length&&D<l.length;++C)ct(c.keys[C],l[D])===0&&(_.push(v?ue(c.values[C]):c.values[C]),++D);return _.length===l.length?_:null}catch{return null}}var Bb={stack:"dbcore",level:-1,create:function(l){return{table:function(c){var v=l.table(c);return r(r({},v),{getMany:function(_){if(!_.cache)return v.getMany(_);var C=Om(_.keys,_.trans._cache,_.cache==="clone");return C?xe.resolve(C):v.getMany(_).then(function(D){return _.trans._cache={keys:_.keys,values:_.cache==="clone"?ue(D):D},D})},mutate:function(_){return _.type!=="add"&&(_.trans._cache=null),v.mutate(_)}})}}}};function Pm(l,c){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function Dm(l,c){switch(l){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var $b={stack:"dbcore",level:0,name:"Observability",create:function(l){var c=l.schema.name,v=new on(l.MIN_KEY,l.MAX_KEY);return r(r({},l),{transaction:function(_,C,D){if(Oe.subscr&&C!=="readonly")throw new Ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Oe.querier));return l.transaction(_,C,D)},table:function(_){var C=l.table(_),D=C.schema,A=D.primaryKey,U=D.indexes,j=A.extractKey,K=A.outbound,z=A.autoIncrement&&U.filter(function(q){return q.compound&&q.keyPath.includes(A.keyPath)}),Q=r(r({},C),{mutate:function(q){function H(ke){return ke="idb://".concat(c,"/").concat(_,"/").concat(ke),oe[ke]||(oe[ke]=new on)}var J,W,ee,ne=q.trans,oe=q.mutatedParts||(q.mutatedParts={}),ae=H(""),de=H(":dels"),be=q.type,Se=q.type==="deleteRange"?[q.range]:q.type==="delete"?[q.keys]:q.values.length<50?[ef(A,q).filter(function(ke){return ke}),q.values]:[],ve=Se[0],ge=Se[1],Se=q.trans._cache;return s(ve)?(ae.addKeys(ve),(Se=be==="delete"||ve.length===ge.length?Om(ve,Se):null)||de.addKeys(ve),(Se||ge)&&(J=H,W=Se,ee=ge,D.indexes.forEach(function(ke){var qe=J(ke.name||"");function Ge(Je){return Je!=null?ke.extractKey(Je):null}function tt(Je){return ke.multiEntry&&s(Je)?Je.forEach(function(fr){return qe.addKey(fr)}):qe.addKey(Je)}(W||ee).forEach(function(Je,an){var Xe=W&&Ge(W[an]),an=ee&&Ge(ee[an]);ct(Xe,an)!==0&&(Xe!=null&&tt(Xe),an!=null&&tt(an))})}))):ve?(ge={from:ve.lower,to:ve.upper},de.add(ge),ae.add(ge)):(ae.add(v),de.add(v),D.indexes.forEach(function(ke){return H(ke.name).add(v)})),C.mutate(q).then(function(ke){return!ve||q.type!=="add"&&q.type!=="put"||(ae.addKeys(ke.results),z&&z.forEach(function(qe){var Ge=q.values.map(function(Je){return qe.extractKey(Je)}),tt=qe.keyPath.findIndex(function(Je){return Je===A.keyPath});ke.results.forEach(function(Je){return Ge[tt]=Je}),H(qe.name).addKeys(Ge)})),ne.mutatedParts=Ru(ne.mutatedParts||{},oe),ke})}}),U=function(H){var J=H.query,H=J.index,J=J.range;return[H,new on((H=J.lower)!==null&&H!==void 0?H:l.MIN_KEY,(J=J.upper)!==null&&J!==void 0?J:l.MAX_KEY)]},G={get:function(q){return[A,new on(q.key)]},getMany:function(q){return[A,new on().addKeys(q.keys)]},count:U,query:U,openCursor:U};return a(G).forEach(function(q){Q[q]=function(H){var J=Oe.subscr,W=!!J,ee=Pm(Oe,C)&&Dm(q,H)?H.obsSet={}:J;if(W){var ne=function(ge){return ge="idb://".concat(c,"/").concat(_,"/").concat(ge),ee[ge]||(ee[ge]=new on)},oe=ne(""),ae=ne(":dels"),J=G[q](H),W=J[0],J=J[1];if((q==="query"&&W.isPrimaryKey&&!H.values?ae:ne(W.name||"")).add(J),!W.isPrimaryKey){if(q!=="count"){var de=q==="query"&&K&&H.values&&C.query(r(r({},H),{values:!1}));return C[q].apply(this,arguments).then(function(ge){if(q==="query"){if(K&&H.values)return de.then(function(Ge){return Ge=Ge.result,oe.addKeys(Ge),ge});var Se=H.values?ge.result.map(j):ge.result;(H.values?oe:ae).addKeys(Se)}else if(q==="openCursor"){var ke=ge,qe=H.values;return ke&&Object.create(ke,{key:{get:function(){return ae.addKey(ke.primaryKey),ke.key}},primaryKey:{get:function(){var Ge=ke.primaryKey;return ae.addKey(Ge),Ge}},value:{get:function(){return qe&&oe.addKey(ke.primaryKey),ke.value}}})}return ge})}ae.add(v)}}return C[q].apply(this,arguments)}}),Q}})}};function Tm(l,c,v){if(v.numFailures===0)return c;if(c.type==="deleteRange")return null;var _=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return v.numFailures===_?null:(c=r({},c),s(c.keys)&&(c.keys=c.keys.filter(function(C,D){return!(D in v.failures)})),"values"in c&&s(c.values)&&(c.values=c.values.filter(function(C,D){return!(D in v.failures)})),c)}function tf(l,c){return v=l,((_=c).lower===void 0||(_.lowerOpen?0<ct(v,_.lower):0<=ct(v,_.lower)))&&(l=l,(c=c).upper===void 0||(c.upperOpen?ct(l,c.upper)<0:ct(l,c.upper)<=0));var v,_}function Im(l,c,G,_,C,D){if(!G||G.length===0)return l;var A=c.query.index,j=A.multiEntry,K=c.query.range,z=_.schema.primaryKey.extractKey,Q=A.extractKey,U=(A.lowLevelIndex||A).extractKey,G=G.reduce(function(q,H){var J=q,W=H.type==="add"||H.type==="put"?H.values.filter(function(ae){return ae=Q(ae),j&&s(ae)?ae.some(function(de){return tf(de,K)}):tf(ae,K)}).map(function(ae){return ae=ue(ae),D&&Object.freeze(ae),ae}):[];switch(H.type){case"add":J=q.concat(c.values?W:W.map(function(de){return z(de)}));break;case"put":var ee=new on().addKeys(H.values.map(function(de){return z(de)})),J=q.filter(function(de){return de=c.values?z(de):de,!ku(new on(de),ee)}).concat(c.values?W:W.map(function(de){return z(de)}));break;case"delete":var ne=new on().addKeys(H.keys);J=q.filter(function(de){return de=c.values?z(de):de,!ku(new on(de),ne)});break;case"deleteRange":var oe=H.range;J=q.filter(function(de){return!tf(z(de),oe)})}return J},l);return G===l?l:(G.sort(function(q,H){return ct(U(q),U(H))||ct(z(q),z(H))}),c.limit&&c.limit<1/0&&(G.length>c.limit?G.length=c.limit:l.length===c.limit&&G.length<c.limit&&(C.dirty=!0)),D?Object.freeze(G):G)}function Am(l,c){return ct(l.lower,c.lower)===0&&ct(l.upper,c.upper)===0&&!!l.lowerOpen==!!c.lowerOpen&&!!l.upperOpen==!!c.upperOpen}function Ub(l,c){return function(v,_,C,D){if(v===void 0)return _!==void 0?-1:0;if(_===void 0)return 1;if((_=ct(v,_))===0){if(C&&D)return 0;if(C)return 1;if(D)return-1}return _}(l.lower,c.lower,l.lowerOpen,c.lowerOpen)<=0&&0<=function(v,_,C,D){if(v===void 0)return _!==void 0?1:0;if(_===void 0)return-1;if((_=ct(v,_))===0){if(C&&D)return 0;if(C)return-1;if(D)return 1}return _}(l.upper,c.upper,l.upperOpen,c.upperOpen)}function zb(l,c,v,_){l.subscribers.add(v),_.addEventListener("abort",function(){var C,D;l.subscribers.delete(v),l.subscribers.size===0&&(C=l,D=c,setTimeout(function(){C.subscribers.size===0&&ce(D,C)},3e3))})}var qb={stack:"dbcore",level:0,name:"Cache",create:function(l){var c=l.schema.name;return r(r({},l),{transaction:function(v,_,C){var D,A,j=l.transaction(v,_,C);return _==="readwrite"&&(A=(D=new AbortController).signal,C=function(K){return function(){if(D.abort(),_==="readwrite"){for(var z=new Set,Q=0,U=v;Q<U.length;Q++){var G=U[Q],q=Wi["idb://".concat(c,"/").concat(G)];if(q){var H=l.table(G),J=q.optimisticOps.filter(function(qe){return qe.trans===j});if(j._explicit&&K&&j.mutatedParts)for(var W=0,ee=Object.values(q.queries.query);W<ee.length;W++)for(var ne=0,oe=(be=ee[W]).slice();ne<oe.length;ne++)Qc((ve=oe[ne]).obsSet,j.mutatedParts)&&(ce(be,ve),ve.subscribers.forEach(function(qe){return z.add(qe)}));else if(0<J.length){q.optimisticOps=q.optimisticOps.filter(function(qe){return qe.trans!==j});for(var ae=0,de=Object.values(q.queries.query);ae<de.length;ae++)for(var be,ve,ge,Se=0,ke=(be=de[ae]).slice();Se<ke.length;Se++)(ve=ke[Se]).res!=null&&j.mutatedParts&&(K&&!ve.dirty?(ge=Object.isFrozen(ve.res),ge=Im(ve.res,ve.req,J,H,ve,ge),ve.dirty?(ce(be,ve),ve.subscribers.forEach(function(qe){return z.add(qe)})):ge!==ve.res&&(ve.res=ge,ve.promise=xe.resolve({result:ge}))):(ve.dirty&&ce(be,ve),ve.subscribers.forEach(function(qe){return z.add(qe)})))}}}z.forEach(function(qe){return qe()})}}},j.addEventListener("abort",C(!1),{signal:A}),j.addEventListener("error",C(!1),{signal:A}),j.addEventListener("complete",C(!0),{signal:A})),j},table:function(v){var _=l.table(v),C=_.schema.primaryKey;return r(r({},_),{mutate:function(D){var A=Oe.trans;if(C.outbound||A.db._options.cache==="disabled"||A.explicit)return _.mutate(D);var j=Wi["idb://".concat(c,"/").concat(v)];return j?(A=_.mutate(D),D.type!=="add"&&D.type!=="put"||!(50<=D.values.length||ef(C,D).some(function(K){return K==null}))?(j.optimisticOps.push(D),D.mutatedParts&&Ou(D.mutatedParts),A.then(function(K){0<K.numFailures&&(ce(j.optimisticOps,D),(K=Tm(0,D,K))&&j.optimisticOps.push(K),D.mutatedParts&&Ou(D.mutatedParts))}),A.catch(function(){ce(j.optimisticOps,D),D.mutatedParts&&Ou(D.mutatedParts)})):A.then(function(K){var z=Tm(0,r(r({},D),{values:D.values.map(function(q,U){var G,q=(G=C.keyPath)!==null&&G!==void 0&&G.includes(".")?ue(q):r({},q);return P(q,C.keyPath,K.results[U]),q})}),K);j.optimisticOps.push(z),queueMicrotask(function(){return D.mutatedParts&&Ou(D.mutatedParts)})}),A):_.mutate(D)},query:function(D){if(!Pm(Oe,_)||!Dm("query",D))return _.query(D);var A=((z=Oe.trans)===null||z===void 0?void 0:z.db._options.cache)==="immutable",U=Oe,j=U.requery,K=U.signal,z=function(H,J,W,ee){var ne=Wi["idb://".concat(H,"/").concat(J)];if(!ne)return[];if(!(J=ne.queries[W]))return[null,!1,ne,null];var oe=J[(ee.query?ee.query.index.name:null)||""];if(!oe)return[null,!1,ne,null];switch(W){case"query":var ae=oe.find(function(de){return de.req.limit===ee.limit&&de.req.values===ee.values&&Am(de.req.query.range,ee.query.range)});return ae?[ae,!0,ne,oe]:[oe.find(function(de){return("limit"in de.req?de.req.limit:1/0)>=ee.limit&&(!ee.values||de.req.values)&&Ub(de.req.query.range,ee.query.range)}),!1,ne,oe];case"count":return ae=oe.find(function(de){return Am(de.req.query.range,ee.query.range)}),[ae,!!ae,ne,oe]}}(c,v,"query",D),Q=z[0],U=z[1],G=z[2],q=z[3];return Q&&U?Q.obsSet=D.obsSet:(U=_.query(D).then(function(H){var J=H.result;if(Q&&(Q.res=J),A){for(var W=0,ee=J.length;W<ee;++W)Object.freeze(J[W]);Object.freeze(J)}else H.result=ue(J);return H}).catch(function(H){return q&&Q&&ce(q,Q),Promise.reject(H)}),Q={obsSet:D.obsSet,promise:U,subscribers:new Set,type:"query",req:D,dirty:!1},q?q.push(Q):(q=[Q],(G=G||(Wi["idb://".concat(c,"/").concat(v)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[D.query.index.name||""]=q)),zb(Q,q,j,K),Q.promise.then(function(H){return{result:Im(H.result,D,G==null?void 0:G.optimisticOps,_,Q,A)}})}})}})}};function Du(l,c){return new Proxy(l,{get:function(v,_,C){return _==="db"?c:Reflect.get(v,_,C)}})}var $r=(Nt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new Ae.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new Ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var c=this._versions,v=c.filter(function(_){return _._cfg.version===l})[0];return v||(v=new this.Version(l),c.push(v),c.sort(Ib),v.stores({}),this._state.autoSchema=!1,v)},Nt.prototype._whenReady=function(l){var c=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?l():new xe(function(v,_){if(c._state.openComplete)return _(new Ae.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void _(new Ae.DatabaseClosed);c.open().catch(Qe)}c._state.dbReadyPromise.then(v,_)}).then(l)},Nt.prototype.use=function(l){var c=l.stack,v=l.create,_=l.level,C=l.name;return C&&this.unuse({stack:c,name:C}),l=this._middlewares[c]||(this._middlewares[c]=[]),l.push({stack:c,create:v,level:_??10,name:C}),l.sort(function(D,A){return D.level-A.level}),this},Nt.prototype.unuse=function(l){var c=l.stack,v=l.name,_=l.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(C){return _?C.create!==_:!!v&&C.name!==v})),this},Nt.prototype.open=function(){var l=this;return Ln(Xt,function(){return Nb(l)})},Nt.prototype._close=function(){var l=this._state,c=cr.indexOf(this);if(0<=c&&cr.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new xe(function(v){l.dbReadyResolve=v}),l.openCanceller=new xe(function(v,_){l.cancelOpen=_}))},Nt.prototype.close=function(v){var c=(v===void 0?{disableAutoOpen:!0}:v).disableAutoOpen,v=this._state;c?(v.isBeingOpened&&v.cancelOpen(new Ae.DatabaseClosed),this._close(),v.autoOpen=!1,v.dbOpenError=new Ae.DatabaseClosed):(this._close(),v.autoOpen=this._options.autoOpen||v.isBeingOpened,v.openComplete=!1,v.dbOpenError=null)},Nt.prototype.delete=function(l){var c=this;l===void 0&&(l={disableAutoOpen:!0});var v=0<arguments.length&&typeof arguments[0]!="object",_=this._state;return new xe(function(C,D){function A(){c.close(l);var j=c._deps.indexedDB.deleteDatabase(c.name);j.onsuccess=_e(function(){var K,z,Q;K=c._deps,z=c.name,Q=K.indexedDB,K=K.IDBKeyRange,Kc(Q)||z===Fo||qc(Q,K).delete(z).catch(Qe),C()}),j.onerror=Rr(D),j.onblocked=c._fireOnBlocked}if(v)throw new Ae.InvalidArgument("Invalid closeOptions argument to db.delete()");_.isBeingOpened?_.dbReadyPromise.then(A):A()})},Nt.prototype.backendDB=function(){return this.idbdb},Nt.prototype.isOpen=function(){return this.idbdb!==null},Nt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Nt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Nt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Nt.prototype,"tables",{get:function(){var l=this;return a(this._allTables).map(function(c){return l._allTables[c]})},enumerable:!1,configurable:!0}),Nt.prototype.transaction=function(){var l=(function(c,v,_){var C=arguments.length;if(C<2)throw new Ae.InvalidArgument("Too few arguments");for(var D=new Array(C-1);--C;)D[C-1]=arguments[C];return _=D.pop(),[c,N(D),_]}).apply(this,arguments);return this._transaction.apply(this,l)},Nt.prototype._transaction=function(l,c,v){var _=this,C=Oe.trans;C&&C.db===this&&l.indexOf("!")===-1||(C=null);var D,A,j=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(A=c.map(function(z){if(z=z instanceof _.Table?z.name:z,typeof z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return z}),l=="r"||l===Dc)D=Dc;else{if(l!="rw"&&l!=Tc)throw new Ae.InvalidArgument("Invalid transaction mode: "+l);D=Tc}if(C){if(C.mode===Dc&&D===Tc){if(!j)throw new Ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");C=null}C&&A.forEach(function(z){if(C&&C.storeNames.indexOf(z)===-1){if(!j)throw new Ae.SubTransaction("Table "+z+" not included in parent transaction.");C=null}}),j&&C&&!C.active&&(C=null)}}catch(z){return C?C._promise(null,function(Q,U){U(z)}):gt(z)}var K=(function z(Q,U,G,q,H){return xe.resolve().then(function(){var J=Oe.transless||Oe,W=Q._createTransaction(U,G,Q._dbSchema,q);if(W.explicit=!0,J={trans:W,transless:J},q)W.idbtrans=q.idbtrans;else try{W.create(),W.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(oe){return oe.name===Mt.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,G,null,H)})):gt(oe)}var ee,ne=Ne(H);return ne&&An(),J=xe.follow(function(){var oe;(ee=H.call(W,W))&&(ne?(oe=Yn.bind(null,null),ee.then(oe,oe)):typeof ee.next=="function"&&typeof ee.throw=="function"&&(ee=Xc(ee)))},J),(ee&&typeof ee.then=="function"?xe.resolve(ee).then(function(oe){return W.active?oe:gt(new Ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):J.then(function(){return ee})).then(function(oe){return q&&W._resolve(),W._completion.then(function(){return oe})}).catch(function(oe){return W._reject(oe),gt(oe)})})}).bind(null,this,D,A,C,v);return C?C._promise(D,K,"lock"):Oe.trans?Ln(Oe.transless,function(){return _._whenReady(K)}):this._whenReady(K)},Nt.prototype.table=function(l){if(!h(this._allTables,l))throw new Ae.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},Nt);function Nt(l,c){var v=this;this._middlewares={},this.verno=0;var _=Nt.dependencies;this._options=c=r({addons:Nt.addons,autoOpen:!0,indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},_=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var C,D,A,j,K,z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Qe,dbReadyPromise:null,cancelOpen:Qe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};z.dbReadyPromise=new xe(function(U){z.dbReadyResolve=U}),z.openCanceller=new xe(function(U,G){z.cancelOpen=G}),this._state=z,this.name=l,this.on=$a(this,"populate","blocked","versionchange","close",{ready:[f,Qe]}),this.on.ready.subscribe=y(this.on.ready.subscribe,function(U){return function(G,q){Nt.vip(function(){var H,J=v._state;J.openComplete?(J.dbOpenError||xe.resolve().then(G),q&&U(G)):J.onReadyBeingFired?(J.onReadyBeingFired.push(G),q&&U(G)):(U(G),H=v,q||U(function W(){H.on.ready.unsubscribe(G),H.on.ready.unsubscribe(W)}))})}}),this.Collection=(C=this,Ua(xb.prototype,function(ee,W){this.db=C;var q=fm,H=null;if(W)try{q=W()}catch(ne){H=ne}var J=ee._ctx,W=J.table,ee=W.hook.reading.fire;this._ctx={table:W,index:J.index,isPrimKey:!J.index||W.schema.primKey.keyPath&&J.index===W.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:H,or:J.or,valueMapper:ee!==Bt?ee:null}})),this.Table=(D=this,Ua(mm.prototype,function(U,G,q){this.db=D,this._tx=q,this.name=U,this.schema=G,this.hook=D._allTables[U]?D._allTables[U].hook:$a(null,{creating:[ie,Qe],reading:[mn,Bt],updating:[Me,Qe],deleting:[me,Qe]})})),this.Transaction=(A=this,Ua(Ob.prototype,function(U,G,q,H,J){var W=this;this.db=A,this.mode=U,this.storeNames=G,this.schema=q,this.chromeTransactionDurability=H,this.idbtrans=null,this.on=$a(this,"complete","error","abort"),this.parent=J||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new xe(function(ee,ne){W._resolve=ee,W._reject=ne}),this._completion.then(function(){W.active=!1,W.on.complete.fire()},function(ee){var ne=W.active;return W.active=!1,W.on.error.fire(ee),W.parent?W.parent._reject(ee):ne&&W.idbtrans&&W.idbtrans.abort(),gt(ee)})})),this.Version=(j=this,Ua(Mb.prototype,function(U){this.db=j,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(K=this,Ua(_m.prototype,function(U,G,q){if(this.db=K,this._ctx={table:U,index:G===":id"?null:G,or:q},this._cmp=this._ascending=ct,this._descending=function(H,J){return ct(J,H)},this._max=function(H,J){return 0<ct(H,J)?H:J},this._min=function(H,J){return ct(H,J)<0?H:J},this._IDBKeyRange=K._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ae.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(v.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(v.name,"'. Closing db now to resume the delete request.")),v.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(v.name,"') was blocked")):console.warn("Upgrade '".concat(v.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=Ka(c.IDBKeyRange),this._createTransaction=function(U,G,q,H){return new v.Transaction(U,G,q,v._options.chromeTransactionDurability,H)},this._fireOnBlocked=function(U){v.on("blocked").fire(U),cr.filter(function(G){return G.name===v.name&&G!==v&&!G._state.vcFired}).map(function(G){return G.on("versionchange").fire(U)})},this.use(Bb),this.use(qb),this.use($b),this.use(jb),this.use(Fb);var Q=new Proxy(this,{get:function(U,G,q){if(G==="_vip")return!0;if(G==="table")return function(J){return Du(v.table(J),Q)};var H=Reflect.get(U,G,q);return H instanceof mm?Du(H,Q):G==="tables"?H.map(function(J){return Du(J,Q)}):G==="_createTransaction"?function(){return Du(H.apply(this,arguments),Q)}:H}});this.vip=Q,_.forEach(function(U){return U(v)})}var Tu,Gn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Kb=(nf.prototype.subscribe=function(l,c,v){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:c,complete:v})},nf.prototype[Gn]=function(){return this},nf);function nf(l){this._subscribe=l}try{Tu={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Tu={indexedDB:null,IDBKeyRange:null}}function Lm(l){var c,v=!1,_=new Kb(function(C){var D=Ne(l),A,j=!1,K={},z={},Q={get closed(){return j},unsubscribe:function(){j||(j=!0,A&&A.abort(),U&&fi.storagemutated.unsubscribe(q))}};C.start&&C.start(Q);var U=!1,G=function(){return kr(H)},q=function(J){Ru(K,J),Qc(z,K)&&G()},H=function(){var J,W,ee;!j&&Tu.indexedDB&&(K={},J={},A&&A.abort(),A=new AbortController,ee=function(ne){var oe=Pe();try{D&&An();var ae=yt(l,ne);return ae=D?ae.finally(Yn):ae}finally{oe&&He()}}(W={subscr:J,signal:A.signal,requery:G,querier:l,trans:null}),Promise.resolve(ee).then(function(ne){v=!0,c=ne,j||W.signal.aborted||(K={},function(oe){for(var ae in oe)if(h(oe,ae))return;return 1}(z=J)||U||(fi(qa,q),U=!0),kr(function(){return!j&&C.next&&C.next(ne)}))},function(ne){v=!1,["DatabaseClosedError","AbortError"].includes(ne==null?void 0:ne.name)||j||kr(function(){j||C.error&&C.error(ne)})}))};return setTimeout(G,0),Q});return _.hasValue=function(){return v},_.getValue=function(){return c},_}var Hi=$r;function rf(l){var c=di;try{di=!0,fi.storagemutated.fire(l),Jc(l,!0)}finally{di=c}}p(Hi,r(r({},Ct),{delete:function(l){return new Hi(l,{addons:[]}).delete()},exists:function(l){return new Hi(l,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return c=Hi.dependencies,v=c.indexedDB,c=c.IDBKeyRange,(Kc(v)?Promise.resolve(v.databases()).then(function(_){return _.map(function(C){return C.name}).filter(function(C){return C!==Fo})}):qc(v,c).toCollection().primaryKeys()).then(l)}catch{return gt(new Ae.MissingAPI)}var c,v},defineClass:function(){return function(l){u(this,l)}},ignoreTransaction:function(l){return Oe.trans?Ln(Oe.transless,l):l()},vip:Wc,async:function(l){return function(){try{var c=Xc(l.apply(this,arguments));return c&&typeof c.then=="function"?c:xe.resolve(c)}catch(v){return gt(v)}}},spawn:function(l,c,v){try{var _=Xc(l.apply(v,c||[]));return _&&typeof _.then=="function"?_:xe.resolve(_)}catch(C){return gt(C)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(l,c){return c=xe.resolve(typeof l=="function"?Hi.ignoreTransaction(l):l).timeout(c||6e4),Oe.trans?Oe.trans.waitFor(c):c},Promise:xe,debug:{get:function(){return w},set:function(l){R(l)}},derive:S,extend:u,props:p,override:y,Events:$a,on:fi,liveQuery:Lm,extendObservabilitySet:Ru,getByKeyPath:k,setByKeyPath:P,delByKeyPath:function(l,c){typeof c=="string"?P(l,c,void 0):"length"in c&&[].map.call(c,function(v){P(l,v,void 0)})},shallowClone:L,deepClone:ue,getObjectDiff:Zc,cmp:ct,asap:T,minKey:-1/0,addons:[],connections:cr,errnames:Mt,dependencies:Tu,cache:Wi,semVer:"4.0.4",version:"4.0.4".split(".").map(function(l){return parseInt(l)}).reduce(function(l,c,v){return l+c/Math.pow(10,2*v)})})),Hi.maxKey=Ka(Hi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(fi(qa,function(l){di||(l=new CustomEvent(Nc,{detail:l}),di=!0,dispatchEvent(l),di=!1)}),addEventListener(Nc,function(l){l=l.detail,di||rf(l)}));var Uo,di=!1,Mm=function(){};return typeof BroadcastChannel<"u"&&((Mm=function(){(Uo=new BroadcastChannel(Nc)).onmessage=function(l){return l.data&&rf(l.data)}})(),typeof Uo.unref=="function"&&Uo.unref(),fi(qa,function(l){di||Uo.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!$r.disableBfCache&&l.persisted){w&&console.debug("Dexie: handling persisted pagehide"),Uo!=null&&Uo.close();for(var c=0,v=cr;c<v.length;c++)v[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!$r.disableBfCache&&l.persisted&&(w&&console.debug("Dexie: handling persisted pageshow"),Mm(),rf({all:new on(-1/0,[[]])}))})),xe.rejectionMapper=function(l,c){return!l||l instanceof je||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Vn[l.name]?l:(c=new Vn[l.name](c||l.message,l),"stack"in l&&g(c,"stack",{get:function(){return this.inner.stack}}),c)},R(w),r($r,Object.freeze({__proto__:null,Dexie:$r,liveQuery:Lm,Entity:dm,cmp:ct,PropModSymbol:Br,PropModification:Lc,replacePrefix:function(l,c){return new Lc({replacePrefix:[l,c]})},default:$r,RangeSet:on,mergeRanges:Va,rangesOverlap:ku}),{default:$r}),$r})})(pb);var s2=pb.exports;const Rh=tc(s2),ag=Symbol.for("Dexie"),Oh=globalThis[ag]||(globalThis[ag]=Rh);if(Rh.semVer!==Oh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Rh.semVer} and ${Oh.semVer}`);var Xl="docs",u2="changes",sg="attachments",mb="dexie",ug=new Map,pl=new Map;function l2(e,t,n,r){var i="rxdb-dexie-"+e+"--"+r.version+"--"+t,o=Nr(ug,i,()=>{var a=(async()=>{var s=ft(n);s.autoOpen=!1;var u=new Oh(i,s),d={[Xl]:d2(r),[u2]:"++sequence, id",[sg]:"id"};return u.version(1).stores(d),await u.open(),{dexieDb:u,dexieTable:u[Xl],dexieAttachmentsTable:u[sg],booleanIndexes:h2(r)}})();return ug.set(i,o),pl.set(o,0),a});return o}async function c2(e){var t=await e,n=pl.get(e),r=n-1;r===0?(t.dexieDb.close(),pl.delete(e)):pl.set(e,r)}var Ph="__";function mu(e){var t=e.split(".");if(t.length>1)return t.map(r=>mu(r)).join(".");if(e.startsWith("|")){var n=e.substring(1);return Ph+n}else return e}function vb(e){var t=e.split(".");if(t.length>1)return t.map(r=>vb(r)).join(".");if(e.startsWith(Ph)){var n=e.substring(Ph.length);return"|"+n}else return e}function f2(e,t){return t&&(t=ft(t),t=Dh(t),e.forEach(n=>{var r=Ir(t,n),i=r?"1":"0";e_(t,n,i)}),t)}function yb(e,t){return t&&(t=ft(t),t=Th(t),e.forEach(n=>{var r=Ir(t,n),i=r==="1";e_(t,n,i)}),t)}function Dh(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>Dh(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="object"&&(r=Dh(r)),t[mu(n)]=r}),t}}function Th(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>Th(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="object"||Array.isArray(e))&&(r=Th(r)),t[vb(n)]=r}),t}}function d2(e){var t=[],n=Tn(e.primaryKey);t.push([n]),t.push(["_deleted",n]),e.indexes&&e.indexes.forEach(o=>{var a=Ws(o);t.push(a)}),t.push(["_meta.lwt",n]),t.push(["_meta.lwt"]),t=t.map(o=>o.map(a=>mu(a)));var r=t.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");r=r.filter((o,a,s)=>s.indexOf(o)===a);var i=r.join(", ");return i}async function lg(e,t){var n=await e,r=await n.dexieTable.bulkGet(t);return r.map(i=>yb(n.booleanIndexes,i))}function Ju(e,t){return e+"||"+t}function h2(e){var t=new Set,n=[];return e.indexes?(e.indexes.forEach(r=>{var i=Ws(r);i.forEach(o=>{if(!t.has(o)){t.add(o);var a=jr(e,o);a.type==="boolean"&&n.push(o)}})}),n.push("_deleted"),Xx(n)):n}function cg(e){return e===ha?-1/0:e}function fg(e,t,n){if(e.includes(t)){var r=n===da||n===!0?"1":"0";return r}else return n}function gb(e,t,n){if(!n){if(typeof window>"u")throw new Error("IDBKeyRange missing");n=window.IDBKeyRange}var r=t.startKeys.map((a,s)=>{var u=t.index[s];return fg(e,u,a)}).map(cg),i=t.endKeys.map((a,s)=>{var u=t.index[s];return fg(e,u,a)}).map(cg),o=n.bound(r,i,!t.inclusiveStart,!t.inclusiveEnd);return o}async function dg(e,t){var n=await e.internals,r=t.query,i=r.skip?r.skip:0,o=r.limit?r.limit:1/0,a=i+o,s=t.queryPlan,u=!1;s.selectorSatisfiedByIndex||(u=Yp(e.schema,t.query));var d=gb(n.booleanIndexes,s,n.dexieDb._options.IDBKeyRange),m=s.index,h=[];if(await n.dexieDb.transaction("r",n.dexieTable,async b=>{var g=b.idbtrans,S=g.objectStore(Xl),I,E;E="["+m.map(y=>mu(y)).join("+")+"]",I=S.index(E);var x=I.openCursor(d);await new Promise(y=>{x.onsuccess=function(O){var T=O.target.result;if(T){var k=yb(n.booleanIndexes,T.value);(!u||u(k))&&h.push(k),s.sortSatisfiedByIndex&&h.length===a?y():T.continue()}else y()}})}),!s.sortSatisfiedByIndex){var p=m1(e.schema,t.query);h=h.sort(p)}return h=h.slice(i,a),{documents:h}}async function p2(e,t){var n=await e.internals,r=t.queryPlan,i=r.index,o=gb(n.booleanIndexes,r,n.dexieDb._options.IDBKeyRange),a=-1;return await n.dexieDb.transaction("r",n.dexieTable,async s=>{var u=s.idbtrans,d=u.objectStore(Xl),m,h;h="["+i.map(b=>mu(b)).join("+")+"]",m=d.index(h);var p=m.count(o);a=await new Promise((b,g)=>{p.onsuccess=function(){b(p.result)},p.onerror=S=>g(S)})}),a}var m2=Jt(),v2=function(){function e(n,r,i,o,a,s,u){this.changes$=new Lt,this.instanceId=m2++,this.storage=n,this.databaseName=r,this.collectionName=i,this.schema=o,this.internals=a,this.options=s,this.settings=u,this.primaryPath=Tn(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=async function(r,i){Yi(this),r.forEach(m=>{if(!m.document._rev||m.previous&&!m.previous._rev)throw fe("SNH",{args:{row:m}})});var o=await this.internals,a={success:[],error:[]},s=r.map(m=>m.document[this.primaryPath]),u;if(await o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,async()=>{var m=new Map,h=await lg(this.internals,s);h.forEach(g=>{var S=g;return S&&m.set(S[this.primaryPath],S),S}),u=rD(this,this.primaryPath,m,r,i),a.error=u.errors;var p=[];u.bulkInsertDocs.forEach(g=>{a.success.push(g.document),p.push(g.document)}),u.bulkUpdateDocs.forEach(g=>{a.success.push(g.document),p.push(g.document)}),p=p.map(g=>f2(o.booleanIndexes,g)),p.length>0&&await o.dexieTable.bulkPut(p);var b=[];u.attachmentsAdd.forEach(g=>{b.push({id:Ju(g.documentId,g.attachmentId),data:g.attachmentData.data})}),u.attachmentsUpdate.forEach(g=>{b.push({id:Ju(g.documentId,g.attachmentId),data:g.attachmentData.data})}),await o.dexieAttachmentsTable.bulkPut(b),await o.dexieAttachmentsTable.bulkDelete(u.attachmentsRemove.map(g=>Ju(g.documentId,g.attachmentId)))}),u=ze(u),u.eventBulk.events.length>0){var d=ze(u.newestRow).document;u.eventBulk.checkpoint={id:d[this.primaryPath],lwt:d._meta.lwt},u.eventBulk.endTime=Jt(),this.changes$.next(u.eventBulk)}return a},t.findDocumentsById=async function(r,i){Yi(this);var o=await this.internals,a=[];return await o.dexieDb.transaction("r",o.dexieTable,async()=>{var s=await lg(this.internals,r);s.forEach(u=>{u&&(!u._deleted||i)&&a.push(u)})}),a},t.query=function(r){return Yi(this),dg(this,r)},t.count=async function(r){if(r.queryPlan.selectorSatisfiedByIndex){var i=await p2(this,r);return{count:i,mode:"fast"}}else{var o=await dg(this,r);return{count:o.documents.length,mode:"slow"}}},t.changeStream=function(){return Yi(this),this.changes$.asObservable()},t.cleanup=async function(r){Yi(this);var i=await this.internals;return await i.dexieDb.transaction("rw",i.dexieTable,async()=>{var o=Jt()-r,a=await i.dexieTable.where("_meta.lwt").below(o).toArray(),s=[];a.forEach(u=>{u._deleted==="1"&&s.push(u[this.primaryPath])}),await i.dexieTable.bulkDelete(s)}),!0},t.getAttachmentData=async function(r,i,o){Yi(this);var a=await this.internals,s=Ju(r,i);return await a.dexieDb.transaction("r",a.dexieAttachmentsTable,async()=>{var u=await a.dexieAttachmentsTable.get(s);if(u)return u.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+i)})},t.remove=async function(){Yi(this);var r=await this.internals;return await r.dexieTable.clear(),this.close()},t.close=function(){return this.closed?this.closed:(this.closed=(async()=>{this.changes$.complete(),await c2(this.internals)})(),this.closed)},t.conflictResultionTasks=function(){return new Lt},t.resolveConflictResultionTask=async function(r){},e}();async function y2(e,t,n){var r=l2(t.databaseName,t.collectionName,n,t.schema),i=new v2(e,t.databaseName,t.collectionName,t.schema,r,t.options,n);return await eI(mb,t,i),Promise.resolve(i)}function Yi(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var g2=function(){function e(n){this.name=mb,this.rxdbVersion=n_,this.settings=n}var t=e.prototype;return t.createStorageInstance=function(r){return aD(r),y2(this,r,this.settings)},e}();function Zl(e={}){var t=new g2(e);return t}const w2={version:0,title:"user schema with indexes",primaryKey:"nanoId",type:"object",properties:{nanoId:{type:"string",maxLength:21},name:{type:"string",maxLength:100},createAt:{type:"string",format:"date-time",maxLength:100}},required:["nanoId","name","createAt"],indexes:["name","createAt"]},wb=w2,_2={version:0,title:"post schema with indexes",primaryKey:"nanoId",type:"object",properties:{nanoId:{type:"string",maxLength:21},name:{type:"string",maxLength:100},content:{type:"string"},createAt:{type:"string",format:"date-time",maxLength:100}},required:["nanoId","name","createAt"],indexes:["name","createAt"]},_b=_2;async function b2(e,t,n){return await e([t,n].join("|"))>await e([n,t].join("|"))}function sd(e,t,n){const r=n.id,i=Co(e.response$.pipe(vt(o=>o.peer===t),vt(o=>o.response.id===r),wr(o=>o.response)));return e.send(t,n),i}function Xu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bb={exports:{}};(function(e,t){(function(n){e.exports=n()})(function(){var n=Math.floor,r=Math.abs,i=Math.pow;return function(){function o(a,s,u){function d(p,b){if(!s[p]){if(!a[p]){var g=typeof Xu=="function"&&Xu;if(!b&&g)return g(p,!0);if(m)return m(p,!0);var S=new Error("Cannot find module '"+p+"'");throw S.code="MODULE_NOT_FOUND",S}var I=s[p]={exports:{}};a[p][0].call(I.exports,function(E){var x=a[p][1][E];return d(x||E)},I,I.exports,o,a,s,u)}return s[p].exports}for(var m=typeof Xu=="function"&&Xu,h=0;h<u.length;h++)d(u[h]);return d}return o}()({1:[function(o,a,s){function u(O){var T=O.length;if(0<T%4)throw new Error("Invalid string. Length must be a multiple of 4");var k=O.indexOf("=");k===-1&&(k=T);var P=k===T?0:4-k%4;return[k,P]}function d(O,T,k){return 3*(T+k)/4-k}function m(O){var T,k,P=u(O),L=P[0],B=P[1],N=new I(d(O,L,B)),F=0,Z=0<B?L-4:L;for(k=0;k<Z;k+=4)T=S[O.charCodeAt(k)]<<18|S[O.charCodeAt(k+1)]<<12|S[O.charCodeAt(k+2)]<<6|S[O.charCodeAt(k+3)],N[F++]=255&T>>16,N[F++]=255&T>>8,N[F++]=255&T;return B===2&&(T=S[O.charCodeAt(k)]<<2|S[O.charCodeAt(k+1)]>>4,N[F++]=255&T),B===1&&(T=S[O.charCodeAt(k)]<<10|S[O.charCodeAt(k+1)]<<4|S[O.charCodeAt(k+2)]>>2,N[F++]=255&T>>8,N[F++]=255&T),N}function h(O){return g[63&O>>18]+g[63&O>>12]+g[63&O>>6]+g[63&O]}function p(O,T,k){for(var P,L=[],B=T;B<k;B+=3)P=(16711680&O[B]<<16)+(65280&O[B+1]<<8)+(255&O[B+2]),L.push(h(P));return L.join("")}function b(O){for(var T,k=O.length,P=k%3,L=[],B=16383,N=0,F=k-P;N<F;N+=B)L.push(p(O,N,N+B>F?F:N+B));return P===1?(T=O[k-1],L.push(g[T>>2]+g[63&T<<4]+"==")):P===2&&(T=(O[k-2]<<8)+O[k-1],L.push(g[T>>10]+g[63&T>>4]+g[63&T<<2]+"=")),L.join("")}s.byteLength=function(O){var T=u(O),k=T[0],P=T[1];return 3*(k+P)/4-P},s.toByteArray=m,s.fromByteArray=b;for(var g=[],S=[],I=typeof Uint8Array>"u"?Array:Uint8Array,E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=0,y=E.length;x<y;++x)g[x]=E[x],S[E.charCodeAt(x)]=x;S[45]=62,S[95]=63},{}],2:[function(){},{}],3:[function(o,a,s){(function(){(function(){var u=String.fromCharCode,d=Math.min;function m(f){if(2147483647<f)throw new RangeError('The value "'+f+'" is invalid for option "size"');var w=new Uint8Array(f);return w.__proto__=h.prototype,w}function h(f,w,R){if(typeof f=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(f)}return p(f,w,R)}function p(f,w,R){if(typeof f=="string")return I(f,w);if(ArrayBuffer.isView(f))return E(f);if(f==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(X(f,ArrayBuffer)||f&&X(f.buffer,ArrayBuffer))return x(f,w,R);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var $=f.valueOf&&f.valueOf();if($!=null&&$!==f)return h.from($,w,R);var V=y(f);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return h.from(f[Symbol.toPrimitive]("string"),w,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}function b(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(0>f)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function g(f,w,R){return b(f),0>=f||w===void 0?m(f):typeof R=="string"?m(f).fill(w,R):m(f).fill(w)}function S(f){return b(f),m(0>f?0:0|O(f))}function I(f,w){if((typeof w!="string"||w==="")&&(w="utf8"),!h.isEncoding(w))throw new TypeError("Unknown encoding: "+w);var R=0|T(f,w),$=m(R),V=$.write(f,w);return V!==R&&($=$.slice(0,V)),$}function E(f){for(var w=0>f.length?0:0|O(f.length),R=m(w),$=0;$<w;$+=1)R[$]=255&f[$];return R}function x(f,w,R){if(0>w||f.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<w+(R||0))throw new RangeError('"length" is outside of buffer bounds');var $;return $=w===void 0&&R===void 0?new Uint8Array(f):R===void 0?new Uint8Array(f,w):new Uint8Array(f,w,R),$.__proto__=h.prototype,$}function y(f){if(h.isBuffer(f)){var w=0|O(f.length),R=m(w);return R.length===0||f.copy(R,0,0,w),R}return f.length===void 0?f.type==="Buffer"&&Array.isArray(f.data)?E(f.data):void 0:typeof f.length!="number"||ie(f.length)?m(0):E(f)}function O(f){if(f>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|f}function T(f,w){if(h.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||X(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var R=f.length,$=2<arguments.length&&arguments[2]===!0;if(!$&&R===0)return 0;for(var V=!1;;)switch(w){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return Vn(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*R;case"hex":return R>>>1;case"base64":return Bt(f).length;default:if(V)return $?-1:Vn(f).length;w=(""+w).toLowerCase(),V=!0}}function k(f,w,R){var $=!1;if((w===void 0||0>w)&&(w=0),w>this.length||((R===void 0||R>this.length)&&(R=this.length),0>=R)||(R>>>=0,w>>>=0,R<=w))return"";for(f||(f="utf8");;)switch(f){case"hex":return Ne(this,w,R);case"utf8":case"utf-8":return Ie(this,w,R);case"ascii":return se(this,w,R);case"latin1":case"binary":return we(this,w,R);case"base64":return Ce(this,w,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ze(this,w,R);default:if($)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),$=!0}}function P(f,w,R){var $=f[w];f[w]=f[R],f[R]=$}function L(f,w,R,$,V){if(f.length===0)return-1;if(typeof R=="string"?($=R,R=0):2147483647<R?R=2147483647:-2147483648>R&&(R=-2147483648),R=+R,ie(R)&&(R=V?0:f.length-1),0>R&&(R=f.length+R),R>=f.length){if(V)return-1;R=f.length-1}else if(0>R)if(V)R=0;else return-1;if(typeof w=="string"&&(w=h.from(w,$)),h.isBuffer(w))return w.length===0?-1:B(f,w,R,$,V);if(typeof w=="number")return w&=255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(f,w,R):Uint8Array.prototype.lastIndexOf.call(f,w,R):B(f,[w],R,$,V);throw new TypeError("val must be string, number or Buffer")}function B(f,w,R,$,V){function re(Qn,Xt){return De===1?Qn[Xt]:Qn.readUInt16BE(Xt*De)}var De=1,Ke=f.length,st=w.length;if($!==void 0&&($=($+"").toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(2>f.length||2>w.length)return-1;De=2,Ke/=2,st/=2,R/=2}var Ue;if(V){var We=-1;for(Ue=R;Ue<Ke;Ue++)if(re(f,Ue)!==re(w,We===-1?0:Ue-We))We!==-1&&(Ue-=Ue-We),We=-1;else if(We===-1&&(We=Ue),Ue-We+1===st)return We*De}else for(R+st>Ke&&(R=Ke-st),Ue=R;0<=Ue;Ue--){for(var pt=!0,vn=0;vn<st;vn++)if(re(f,Ue+vn)!==re(w,vn)){pt=!1;break}if(pt)return Ue}return-1}function N(f,w,R,$){R=+R||0;var V=f.length-R;$?($=+$,$>V&&($=V)):$=V;var re=w.length;$>re/2&&($=re/2);for(var De,Ke=0;Ke<$;++Ke){if(De=parseInt(w.substr(2*Ke,2),16),ie(De))return Ke;f[R+Ke]=De}return Ke}function F(f,w,R,$){return mn(Vn(w,f.length-R),f,R,$)}function Z(f,w,R,$){return mn(Ct(w),f,R,$)}function ue(f,w,R,$){return Z(f,w,R,$)}function Ee(f,w,R,$){return mn(Bt(w),f,R,$)}function Re(f,w,R,$){return mn(Qe(w,f.length-R),f,R,$)}function Ce(f,w,R){return w===0&&R===f.length?me.fromByteArray(f):me.fromByteArray(f.slice(w,R))}function Ie(f,w,R){R=d(f.length,R);for(var $=[],V=w;V<R;){var re=f[V],De=null,Ke=239<re?4:223<re?3:191<re?2:1;if(V+Ke<=R){var st,Ue,We,pt;Ke===1?128>re&&(De=re):Ke===2?(st=f[V+1],(192&st)==128&&(pt=(31&re)<<6|63&st,127<pt&&(De=pt))):Ke===3?(st=f[V+1],Ue=f[V+2],(192&st)==128&&(192&Ue)==128&&(pt=(15&re)<<12|(63&st)<<6|63&Ue,2047<pt&&(55296>pt||57343<pt)&&(De=pt))):Ke===4&&(st=f[V+1],Ue=f[V+2],We=f[V+3],(192&st)==128&&(192&Ue)==128&&(192&We)==128&&(pt=(15&re)<<18|(63&st)<<12|(63&Ue)<<6|63&We,65535<pt&&1114112>pt&&(De=pt)))}De===null?(De=65533,Ke=1):65535<De&&(De-=65536,$.push(55296|1023&De>>>10),De=56320|1023&De),$.push(De),V+=Ke}return ce($)}function ce(f){var w=f.length;if(w<=4096)return u.apply(String,f);for(var R="",$=0;$<w;)R+=u.apply(String,f.slice($,$+=4096));return R}function se(f,w,R){var $="";R=d(f.length,R);for(var V=w;V<R;++V)$+=u(127&f[V]);return $}function we(f,w,R){var $="";R=d(f.length,R);for(var V=w;V<R;++V)$+=u(f[V]);return $}function Ne(f,w,R){var $=f.length;(!w||0>w)&&(w=0),(!R||0>R||R>$)&&(R=$);for(var V="",re=w;re<R;++re)V+=Ae(f[re]);return V}function Ze(f,w,R){for(var $=f.slice(w,R),V="",re=0;re<$.length;re+=2)V+=u($[re]+256*$[re+1]);return V}function je(f,w,R){if(f%1!=0||0>f)throw new RangeError("offset is not uint");if(f+w>R)throw new RangeError("Trying to access beyond buffer length")}function Le(f,w,R,$,V,re){if(!h.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>V||w<re)throw new RangeError('"value" argument is out of bounds');if(R+$>f.length)throw new RangeError("Index out of range")}function it(f,w,R,$){if(R+$>f.length)throw new RangeError("Index out of range");if(0>R)throw new RangeError("Index out of range")}function ot(f,w,R,$,V){return w=+w,R>>>=0,V||it(f,w,R,4),Me.write(f,w,R,$,23,4),R+4}function Mt(f,w,R,$,V){return w=+w,R>>>=0,V||it(f,w,R,8),Me.write(f,w,R,$,52,8),R+8}function Fr(f){if(f=f.split("=")[0],f=f.trim().replace(M,""),2>f.length)return"";for(;f.length%4!=0;)f+="=";return f}function Ae(f){return 16>f?"0"+f.toString(16):f.toString(16)}function Vn(f,w){w=w||1/0;for(var R,$=f.length,V=null,re=[],De=0;De<$;++De){if(R=f.charCodeAt(De),55295<R&&57344>R){if(!V){if(56319<R){-1<(w-=3)&&re.push(239,191,189);continue}else if(De+1===$){-1<(w-=3)&&re.push(239,191,189);continue}V=R;continue}if(56320>R){-1<(w-=3)&&re.push(239,191,189),V=R;continue}R=(V-55296<<10|R-56320)+65536}else V&&-1<(w-=3)&&re.push(239,191,189);if(V=null,128>R){if(0>(w-=1))break;re.push(R)}else if(2048>R){if(0>(w-=2))break;re.push(192|R>>6,128|63&R)}else if(65536>R){if(0>(w-=3))break;re.push(224|R>>12,128|63&R>>6,128|63&R)}else if(1114112>R){if(0>(w-=4))break;re.push(240|R>>18,128|63&R>>12,128|63&R>>6,128|63&R)}else throw new Error("Invalid code point")}return re}function Ct(f){for(var w=[],R=0;R<f.length;++R)w.push(255&f.charCodeAt(R));return w}function Qe(f,w){for(var R,$,V,re=[],De=0;De<f.length&&!(0>(w-=2));++De)R=f.charCodeAt(De),$=R>>8,V=R%256,re.push(V),re.push($);return re}function Bt(f){return me.toByteArray(Fr(f))}function mn(f,w,R,$){for(var V=0;V<$&&!(V+R>=w.length||V>=f.length);++V)w[V+R]=f[V];return V}function X(f,w){return f instanceof w||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===w.name}function ie(f){return f!==f}var me=o("base64-js"),Me=o("ieee754");s.Buffer=h,s.SlowBuffer=function(f){return+f!=f&&(f=0),h.alloc(+f)},s.INSPECT_MAX_BYTES=50,s.kMaxLength=2147483647,h.TYPED_ARRAY_SUPPORT=function(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},f.foo()===42}catch{return!1}}(),h.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){return h.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){return h.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(f,w,R){return p(f,w,R)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(f,w,R){return g(f,w,R)},h.allocUnsafe=function(f){return S(f)},h.allocUnsafeSlow=function(f){return S(f)},h.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==h.prototype},h.compare=function(f,w){if(X(f,Uint8Array)&&(f=h.from(f,f.offset,f.byteLength)),X(w,Uint8Array)&&(w=h.from(w,w.offset,w.byteLength)),!h.isBuffer(f)||!h.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===w)return 0;for(var R=f.length,$=w.length,V=0,re=d(R,$);V<re;++V)if(f[V]!==w[V]){R=f[V],$=w[V];break}return R<$?-1:$<R?1:0},h.isEncoding=function(f){switch((f+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(f,w){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return h.alloc(0);var R;if(w===void 0)for(w=0,R=0;R<f.length;++R)w+=f[R].length;var $=h.allocUnsafe(w),V=0;for(R=0;R<f.length;++R){var re=f[R];if(X(re,Uint8Array)&&(re=h.from(re)),!h.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy($,V),V+=re.length}return $},h.byteLength=T,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var w=0;w<f;w+=2)P(this,w,w+1);return this},h.prototype.swap32=function(){var f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<f;w+=4)P(this,w,w+3),P(this,w+1,w+2);return this},h.prototype.swap64=function(){var f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<f;w+=8)P(this,w,w+7),P(this,w+1,w+6),P(this,w+2,w+5),P(this,w+3,w+4);return this},h.prototype.toString=function(){var f=this.length;return f===0?"":arguments.length===0?Ie(this,0,f):k.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(f){if(!h.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f||h.compare(this,f)===0},h.prototype.inspect=function(){var f="",w=s.INSPECT_MAX_BYTES;return f=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(f+=" ... "),"<Buffer "+f+">"},h.prototype.compare=function(f,w,R,$,V){if(X(f,Uint8Array)&&(f=h.from(f,f.offset,f.byteLength)),!h.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(w===void 0&&(w=0),R===void 0&&(R=f?f.length:0),$===void 0&&($=0),V===void 0&&(V=this.length),0>w||R>f.length||0>$||V>this.length)throw new RangeError("out of range index");if($>=V&&w>=R)return 0;if($>=V)return-1;if(w>=R)return 1;if(w>>>=0,R>>>=0,$>>>=0,V>>>=0,this===f)return 0;for(var re=V-$,De=R-w,Ke=d(re,De),st=this.slice($,V),Ue=f.slice(w,R),We=0;We<Ke;++We)if(st[We]!==Ue[We]){re=st[We],De=Ue[We];break}return re<De?-1:De<re?1:0},h.prototype.includes=function(f,w,R){return this.indexOf(f,w,R)!==-1},h.prototype.indexOf=function(f,w,R){return L(this,f,w,R,!0)},h.prototype.lastIndexOf=function(f,w,R){return L(this,f,w,R,!1)},h.prototype.write=function(f,w,R,$){if(w===void 0)$="utf8",R=this.length,w=0;else if(R===void 0&&typeof w=="string")$=w,R=this.length,w=0;else if(isFinite(w))w>>>=0,isFinite(R)?(R>>>=0,$===void 0&&($="utf8")):($=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var V=this.length-w;if((R===void 0||R>V)&&(R=V),0<f.length&&(0>R||0>w)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var re=!1;;)switch($){case"hex":return N(this,f,w,R);case"utf8":case"utf-8":return F(this,f,w,R);case"ascii":return Z(this,f,w,R);case"latin1":case"binary":return ue(this,f,w,R);case"base64":return Ee(this,f,w,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,f,w,R);default:if(re)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),re=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.slice=function(f,w){var R=this.length;f=~~f,w=w===void 0?R:~~w,0>f?(f+=R,0>f&&(f=0)):f>R&&(f=R),0>w?(w+=R,0>w&&(w=0)):w>R&&(w=R),w<f&&(w=f);var $=this.subarray(f,w);return $.__proto__=h.prototype,$},h.prototype.readUIntLE=function(f,w,R){f>>>=0,w>>>=0,R||je(f,w,this.length);for(var $=this[f],V=1,re=0;++re<w&&(V*=256);)$+=this[f+re]*V;return $},h.prototype.readUIntBE=function(f,w,R){f>>>=0,w>>>=0,R||je(f,w,this.length);for(var $=this[f+--w],V=1;0<w&&(V*=256);)$+=this[f+--w]*V;return $},h.prototype.readUInt8=function(f,w){return f>>>=0,w||je(f,1,this.length),this[f]},h.prototype.readUInt16LE=function(f,w){return f>>>=0,w||je(f,2,this.length),this[f]|this[f+1]<<8},h.prototype.readUInt16BE=function(f,w){return f>>>=0,w||je(f,2,this.length),this[f]<<8|this[f+1]},h.prototype.readUInt32LE=function(f,w){return f>>>=0,w||je(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+16777216*this[f+3]},h.prototype.readUInt32BE=function(f,w){return f>>>=0,w||je(f,4,this.length),16777216*this[f]+(this[f+1]<<16|this[f+2]<<8|this[f+3])},h.prototype.readIntLE=function(f,w,R){f>>>=0,w>>>=0,R||je(f,w,this.length);for(var $=this[f],V=1,re=0;++re<w&&(V*=256);)$+=this[f+re]*V;return V*=128,$>=V&&($-=i(2,8*w)),$},h.prototype.readIntBE=function(f,w,R){f>>>=0,w>>>=0,R||je(f,w,this.length);for(var $=w,V=1,re=this[f+--$];0<$&&(V*=256);)re+=this[f+--$]*V;return V*=128,re>=V&&(re-=i(2,8*w)),re},h.prototype.readInt8=function(f,w){return f>>>=0,w||je(f,1,this.length),128&this[f]?-1*(255-this[f]+1):this[f]},h.prototype.readInt16LE=function(f,w){f>>>=0,w||je(f,2,this.length);var R=this[f]|this[f+1]<<8;return 32768&R?4294901760|R:R},h.prototype.readInt16BE=function(f,w){f>>>=0,w||je(f,2,this.length);var R=this[f+1]|this[f]<<8;return 32768&R?4294901760|R:R},h.prototype.readInt32LE=function(f,w){return f>>>=0,w||je(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},h.prototype.readInt32BE=function(f,w){return f>>>=0,w||je(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},h.prototype.readFloatLE=function(f,w){return f>>>=0,w||je(f,4,this.length),Me.read(this,f,!0,23,4)},h.prototype.readFloatBE=function(f,w){return f>>>=0,w||je(f,4,this.length),Me.read(this,f,!1,23,4)},h.prototype.readDoubleLE=function(f,w){return f>>>=0,w||je(f,8,this.length),Me.read(this,f,!0,52,8)},h.prototype.readDoubleBE=function(f,w){return f>>>=0,w||je(f,8,this.length),Me.read(this,f,!1,52,8)},h.prototype.writeUIntLE=function(f,w,R,$){if(f=+f,w>>>=0,R>>>=0,!$){var V=i(2,8*R)-1;Le(this,f,w,R,V,0)}var re=1,De=0;for(this[w]=255&f;++De<R&&(re*=256);)this[w+De]=255&f/re;return w+R},h.prototype.writeUIntBE=function(f,w,R,$){if(f=+f,w>>>=0,R>>>=0,!$){var V=i(2,8*R)-1;Le(this,f,w,R,V,0)}var re=R-1,De=1;for(this[w+re]=255&f;0<=--re&&(De*=256);)this[w+re]=255&f/De;return w+R},h.prototype.writeUInt8=function(f,w,R){return f=+f,w>>>=0,R||Le(this,f,w,1,255,0),this[w]=255&f,w+1},h.prototype.writeUInt16LE=function(f,w,R){return f=+f,w>>>=0,R||Le(this,f,w,2,65535,0),this[w]=255&f,this[w+1]=f>>>8,w+2},h.prototype.writeUInt16BE=function(f,w,R){return f=+f,w>>>=0,R||Le(this,f,w,2,65535,0),this[w]=f>>>8,this[w+1]=255&f,w+2},h.prototype.writeUInt32LE=function(f,w,R){return f=+f,w>>>=0,R||Le(this,f,w,4,4294967295,0),this[w+3]=f>>>24,this[w+2]=f>>>16,this[w+1]=f>>>8,this[w]=255&f,w+4},h.prototype.writeUInt32BE=function(f,w,R){return f=+f,w>>>=0,R||Le(this,f,w,4,4294967295,0),this[w]=f>>>24,this[w+1]=f>>>16,this[w+2]=f>>>8,this[w+3]=255&f,w+4},h.prototype.writeIntLE=function(f,w,R,$){if(f=+f,w>>>=0,!$){var V=i(2,8*R-1);Le(this,f,w,R,V-1,-V)}var re=0,De=1,Ke=0;for(this[w]=255&f;++re<R&&(De*=256);)0>f&&Ke===0&&this[w+re-1]!==0&&(Ke=1),this[w+re]=255&(f/De>>0)-Ke;return w+R},h.prototype.writeIntBE=function(f,w,R,$){if(f=+f,w>>>=0,!$){var V=i(2,8*R-1);Le(this,f,w,R,V-1,-V)}var re=R-1,De=1,Ke=0;for(this[w+re]=255&f;0<=--re&&(De*=256);)0>f&&Ke===0&&this[w+re+1]!==0&&(Ke=1),this[w+re]=255&(f/De>>0)-Ke;return w+R},h.prototype.writeInt8=function(f,w,R){return f=+f,w>>>=0,R||Le(this,f,w,1,127,-128),0>f&&(f=255+f+1),this[w]=255&f,w+1},h.prototype.writeInt16LE=function(f,w,R){return f=+f,w>>>=0,R||Le(this,f,w,2,32767,-32768),this[w]=255&f,this[w+1]=f>>>8,w+2},h.prototype.writeInt16BE=function(f,w,R){return f=+f,w>>>=0,R||Le(this,f,w,2,32767,-32768),this[w]=f>>>8,this[w+1]=255&f,w+2},h.prototype.writeInt32LE=function(f,w,R){return f=+f,w>>>=0,R||Le(this,f,w,4,2147483647,-2147483648),this[w]=255&f,this[w+1]=f>>>8,this[w+2]=f>>>16,this[w+3]=f>>>24,w+4},h.prototype.writeInt32BE=function(f,w,R){return f=+f,w>>>=0,R||Le(this,f,w,4,2147483647,-2147483648),0>f&&(f=4294967295+f+1),this[w]=f>>>24,this[w+1]=f>>>16,this[w+2]=f>>>8,this[w+3]=255&f,w+4},h.prototype.writeFloatLE=function(f,w,R){return ot(this,f,w,!0,R)},h.prototype.writeFloatBE=function(f,w,R){return ot(this,f,w,!1,R)},h.prototype.writeDoubleLE=function(f,w,R){return Mt(this,f,w,!0,R)},h.prototype.writeDoubleBE=function(f,w,R){return Mt(this,f,w,!1,R)},h.prototype.copy=function(f,w,R,$){if(!h.isBuffer(f))throw new TypeError("argument should be a Buffer");if(R||(R=0),$||$===0||($=this.length),w>=f.length&&(w=f.length),w||(w=0),0<$&&$<R&&($=R),$===R||f.length===0||this.length===0)return 0;if(0>w)throw new RangeError("targetStart out of bounds");if(0>R||R>=this.length)throw new RangeError("Index out of range");if(0>$)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),f.length-w<$-R&&($=f.length-w+R);var V=$-R;if(this===f&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(w,R,$);else if(this===f&&R<w&&w<$)for(var re=V-1;0<=re;--re)f[re+w]=this[re+R];else Uint8Array.prototype.set.call(f,this.subarray(R,$),w);return V},h.prototype.fill=function(f,w,R,$){if(typeof f=="string"){if(typeof w=="string"?($=w,w=0,R=this.length):typeof R=="string"&&($=R,R=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!h.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(f.length===1){var V=f.charCodeAt(0);($==="utf8"&&128>V||$==="latin1")&&(f=V)}}else typeof f=="number"&&(f&=255);if(0>w||this.length<w||this.length<R)throw new RangeError("Out of range index");if(R<=w)return this;w>>>=0,R=R===void 0?this.length:R>>>0,f||(f=0);var re;if(typeof f=="number")for(re=w;re<R;++re)this[re]=f;else{var De=h.isBuffer(f)?f:h.from(f,$),Ke=De.length;if(Ke===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(re=0;re<R-w;++re)this[re+w]=De[re%Ke]}return this};var M=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(o,a,s){(function(u){(function(){function d(){let h;try{h=s.storage.getItem("debug")}catch{}return!h&&typeof u<"u"&&"env"in u&&(h=u.env.DEBUG),h}s.formatArgs=function(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;h.splice(1,0,p,"color: inherit");let b=0,g=0;h[0].replace(/%[a-zA-Z%]/g,S=>{S==="%%"||(b++,S==="%c"&&(g=b))}),h.splice(g,0,p)},s.save=function(h){try{h?s.storage.setItem("debug",h):s.storage.removeItem("debug")}catch{}},s.load=d,s.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},s.storage=function(){try{return localStorage}catch{}}(),s.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],s.log=console.debug||console.log||(()=>{}),a.exports=o("./common")(s);const{formatters:m}=a.exports;m.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}}).call(this)}).call(this,o("_process"))},{"./common":5,_process:12}],5:[function(o,a){a.exports=function(s){function u(h){function p(...S){if(!p.enabled)return;const I=p,E=+new Date,x=E-(b||E);I.diff=x,I.prev=b,I.curr=E,b=E,S[0]=u.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let y=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(T,k)=>{if(T==="%%")return"%";y++;const P=u.formatters[k];if(typeof P=="function"){const L=S[y];T=P.call(I,L),S.splice(y,1),y--}return T}),u.formatArgs.call(I,S),(I.log||u.log).apply(I,S)}let b,g=null;return p.namespace=h,p.useColors=u.useColors(),p.color=u.selectColor(h),p.extend=d,p.destroy=u.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>g===null?u.enabled(h):g,set:S=>{g=S}}),typeof u.init=="function"&&u.init(p),p}function d(h,p){const b=u(this.namespace+(typeof p>"u"?":":p)+h);return b.log=this.log,b}function m(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}return u.debug=u,u.default=u,u.coerce=function(h){return h instanceof Error?h.stack||h.message:h},u.disable=function(){const h=[...u.names.map(m),...u.skips.map(m).map(p=>"-"+p)].join(",");return u.enable(""),h},u.enable=function(h){u.save(h),u.names=[],u.skips=[];let p;const b=(typeof h=="string"?h:"").split(/[\s,]+/),g=b.length;for(p=0;p<g;p++)b[p]&&(h=b[p].replace(/\*/g,".*?"),h[0]==="-"?u.skips.push(new RegExp("^"+h.substr(1)+"$")):u.names.push(new RegExp("^"+h+"$")))},u.enabled=function(h){if(h[h.length-1]==="*")return!0;let p,b;for(p=0,b=u.skips.length;p<b;p++)if(u.skips[p].test(h))return!1;for(p=0,b=u.names.length;p<b;p++)if(u.names[p].test(h))return!0;return!1},u.humanize=o("ms"),u.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(s).forEach(h=>{u[h]=s[h]}),u.names=[],u.skips=[],u.formatters={},u.selectColor=function(h){let p=0;for(let b=0;b<h.length;b++)p=(p<<5)-p+h.charCodeAt(b),p|=0;return u.colors[r(p)%u.colors.length]},u.enable(u.load()),u}},{ms:11}],6:[function(o,a){function s(u,d){for(const m in d)Object.defineProperty(u,m,{value:d[m],enumerable:!0,configurable:!0});return u}a.exports=function(u,d,m){if(!u||typeof u=="string")throw new TypeError("Please pass an Error to err-code");m||(m={}),typeof d=="object"&&(m=d,d=""),d&&(m.code=d);try{return s(u,m)}catch{m.message=u.message,m.stack=u.stack;const p=function(){};return p.prototype=Object.create(Object.getPrototypeOf(u)),s(new p,m)}}},{}],7:[function(o,a){function s(N){console&&console.warn&&console.warn(N)}function u(){u.init.call(this)}function d(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function m(N){return N._maxListeners===void 0?u.defaultMaxListeners:N._maxListeners}function h(N,F,Z,ue){var Ee,Re,Ce;if(d(Z),Re=N._events,Re===void 0?(Re=N._events=Object.create(null),N._eventsCount=0):(Re.newListener!==void 0&&(N.emit("newListener",F,Z.listener?Z.listener:Z),Re=N._events),Ce=Re[F]),Ce===void 0)Ce=Re[F]=Z,++N._eventsCount;else if(typeof Ce=="function"?Ce=Re[F]=ue?[Z,Ce]:[Ce,Z]:ue?Ce.unshift(Z):Ce.push(Z),Ee=m(N),0<Ee&&Ce.length>Ee&&!Ce.warned){Ce.warned=!0;var Ie=new Error("Possible EventEmitter memory leak detected. "+Ce.length+" "+(F+" listeners added. Use emitter.setMaxListeners() to increase limit"));Ie.name="MaxListenersExceededWarning",Ie.emitter=N,Ie.type=F,Ie.count=Ce.length,s(Ie)}return N}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(N,F,Z){var ue={fired:!1,wrapFn:void 0,target:N,type:F,listener:Z},Ee=p.bind(ue);return Ee.listener=Z,ue.wrapFn=Ee,Ee}function g(N,F,Z){var ue=N._events;if(ue===void 0)return[];var Ee=ue[F];return Ee===void 0?[]:typeof Ee=="function"?Z?[Ee.listener||Ee]:[Ee]:Z?x(Ee):I(Ee,Ee.length)}function S(N){var F=this._events;if(F!==void 0){var Z=F[N];if(typeof Z=="function")return 1;if(Z!==void 0)return Z.length}return 0}function I(N,F){for(var Z=Array(F),ue=0;ue<F;++ue)Z[ue]=N[ue];return Z}function E(N,F){for(;F+1<N.length;F++)N[F]=N[F+1];N.pop()}function x(N){for(var F=Array(N.length),Z=0;Z<F.length;++Z)F[Z]=N[Z].listener||N[Z];return F}function y(N,F,Z){typeof N.on=="function"&&O(N,"error",F,Z)}function O(N,F,Z,ue){if(typeof N.on=="function")ue.once?N.once(F,Z):N.on(F,Z);else if(typeof N.addEventListener=="function")N.addEventListener(F,function Ee(Re){ue.once&&N.removeEventListener(F,Ee),Z(Re)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}var T,k=typeof Reflect=="object"?Reflect:null,P=k&&typeof k.apply=="function"?k.apply:function(N,F,Z){return Function.prototype.apply.call(N,F,Z)};T=k&&typeof k.ownKeys=="function"?k.ownKeys:Object.getOwnPropertySymbols?function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:function(N){return Object.getOwnPropertyNames(N)};var L=Number.isNaN||function(N){return N!==N};a.exports=u,a.exports.once=function(N,F){return new Promise(function(Z,ue){function Ee(Ce){N.removeListener(F,Re),ue(Ce)}function Re(){typeof N.removeListener=="function"&&N.removeListener("error",Ee),Z([].slice.call(arguments))}O(N,F,Re,{once:!0}),F!=="error"&&y(N,Ee,{once:!0})})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var B=10;Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return B},set:function(N){if(typeof N!="number"||0>N||L(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");B=N}}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(N){if(typeof N!="number"||0>N||L(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this},u.prototype.getMaxListeners=function(){return m(this)},u.prototype.emit=function(N){for(var F=[],Z=1;Z<arguments.length;Z++)F.push(arguments[Z]);var ue=N==="error",Ee=this._events;if(Ee!==void 0)ue=ue&&Ee.error===void 0;else if(!ue)return!1;if(ue){var Re;if(0<F.length&&(Re=F[0]),Re instanceof Error)throw Re;var Ce=new Error("Unhandled error."+(Re?" ("+Re.message+")":""));throw Ce.context=Re,Ce}var Ie=Ee[N];if(Ie===void 0)return!1;if(typeof Ie=="function")P(Ie,this,F);else for(var ce=Ie.length,se=I(Ie,ce),Z=0;Z<ce;++Z)P(se[Z],this,F);return!0},u.prototype.addListener=function(N,F){return h(this,N,F,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(N,F){return h(this,N,F,!0)},u.prototype.once=function(N,F){return d(F),this.on(N,b(this,N,F)),this},u.prototype.prependOnceListener=function(N,F){return d(F),this.prependListener(N,b(this,N,F)),this},u.prototype.removeListener=function(N,F){var Z,ue,Ee,Re,Ce;if(d(F),ue=this._events,ue===void 0)return this;if(Z=ue[N],Z===void 0)return this;if(Z===F||Z.listener===F)--this._eventsCount==0?this._events=Object.create(null):(delete ue[N],ue.removeListener&&this.emit("removeListener",N,Z.listener||F));else if(typeof Z!="function"){for(Ee=-1,Re=Z.length-1;0<=Re;Re--)if(Z[Re]===F||Z[Re].listener===F){Ce=Z[Re].listener,Ee=Re;break}if(0>Ee)return this;Ee===0?Z.shift():E(Z,Ee),Z.length===1&&(ue[N]=Z[0]),ue.removeListener!==void 0&&this.emit("removeListener",N,Ce||F)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(N){var F,Z,ue;if(Z=this._events,Z===void 0)return this;if(Z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Z[N]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Z[N]),this;if(arguments.length===0){var Ee,Re=Object.keys(Z);for(ue=0;ue<Re.length;++ue)Ee=Re[ue],Ee!=="removeListener"&&this.removeAllListeners(Ee);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=Z[N],typeof F=="function")this.removeListener(N,F);else if(F!==void 0)for(ue=F.length-1;0<=ue;ue--)this.removeListener(N,F[ue]);return this},u.prototype.listeners=function(N){return g(this,N,!0)},u.prototype.rawListeners=function(N){return g(this,N,!1)},u.listenerCount=function(N,F){return typeof N.listenerCount=="function"?N.listenerCount(F):S.call(N,F)},u.prototype.listenerCount=S,u.prototype.eventNames=function(){return 0<this._eventsCount?T(this._events):[]}},{}],8:[function(o,a){a.exports=function(){if(typeof globalThis>"u")return null;var s={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return s.RTCPeerConnection?s:null}},{}],9:[function(o,a,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(u,d,m,h,p){var b,g,S=8*p-h-1,I=(1<<S)-1,E=I>>1,x=-7,y=m?p-1:0,O=m?-1:1,T=u[d+y];for(y+=O,b=T&(1<<-x)-1,T>>=-x,x+=S;0<x;b=256*b+u[d+y],y+=O,x-=8);for(g=b&(1<<-x)-1,b>>=-x,x+=h;0<x;g=256*g+u[d+y],y+=O,x-=8);if(b===0)b=1-E;else{if(b===I)return g?NaN:(T?-1:1)*(1/0);g+=i(2,h),b-=E}return(T?-1:1)*g*i(2,b-h)},s.write=function(u,d,m,h,p,b){var g,S,I,E=Math.LN2,x=Math.log,y=8*b-p-1,O=(1<<y)-1,T=O>>1,k=p===23?i(2,-24)-i(2,-77):0,P=h?0:b-1,L=h?1:-1,B=0>d||d===0&&0>1/d?1:0;for(d=r(d),isNaN(d)||d===1/0?(S=isNaN(d)?1:0,g=O):(g=n(x(d)/E),1>d*(I=i(2,-g))&&(g--,I*=2),d+=1<=g+T?k/I:k*i(2,1-T),2<=d*I&&(g++,I/=2),g+T>=O?(S=0,g=O):1<=g+T?(S=(d*I-1)*i(2,p),g+=T):(S=d*i(2,T-1)*i(2,p),g=0));8<=p;u[m+P]=255&S,P+=L,S/=256,p-=8);for(g=g<<p|S,y+=p;0<y;u[m+P]=255&g,P+=L,g/=256,y-=8);u[m+P-L]|=128*B}},{}],10:[function(o,a){a.exports=typeof Object.create=="function"?function(s,u){u&&(s.super_=u,s.prototype=Object.create(u.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:function(s,u){if(u){s.super_=u;var d=function(){};d.prototype=u.prototype,s.prototype=new d,s.prototype.constructor=s}}},{}],11:[function(o,a){var s=Math.round;function u(p){if(p+="",!(100<p.length)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(b){var g=parseFloat(b[1]),S=(b[2]||"ms").toLowerCase();return S==="years"||S==="year"||S==="yrs"||S==="yr"||S==="y"?315576e5*g:S==="weeks"||S==="week"||S==="w"?6048e5*g:S==="days"||S==="day"||S==="d"?864e5*g:S==="hours"||S==="hour"||S==="hrs"||S==="hr"||S==="h"?36e5*g:S==="minutes"||S==="minute"||S==="mins"||S==="min"||S==="m"?6e4*g:S==="seconds"||S==="second"||S==="secs"||S==="sec"||S==="s"?1e3*g:S==="milliseconds"||S==="millisecond"||S==="msecs"||S==="msec"||S==="ms"?g:void 0}}}function d(p){var b=r(p);return 864e5<=b?s(p/864e5)+"d":36e5<=b?s(p/36e5)+"h":6e4<=b?s(p/6e4)+"m":1e3<=b?s(p/1e3)+"s":p+"ms"}function m(p){var b=r(p);return 864e5<=b?h(p,b,864e5,"day"):36e5<=b?h(p,b,36e5,"hour"):6e4<=b?h(p,b,6e4,"minute"):1e3<=b?h(p,b,1e3,"second"):p+" ms"}function h(p,b,g,S){return s(p/g)+" "+S+(b>=1.5*g?"s":"")}a.exports=function(p,b){b=b||{};var g=typeof p;if(g=="string"&&0<p.length)return u(p);if(g==="number"&&isFinite(p))return b.long?m(p):d(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))}},{}],12:[function(o,a){function s(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function d(k){if(S===setTimeout)return setTimeout(k,0);if((S===s||!S)&&setTimeout)return S=setTimeout,setTimeout(k,0);try{return S(k,0)}catch{try{return S.call(null,k,0)}catch{return S.call(this,k,0)}}}function m(k){if(I===clearTimeout)return clearTimeout(k);if((I===u||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(k);try{return I(k)}catch{try{return I.call(null,k)}catch{return I.call(this,k)}}}function h(){O&&x&&(O=!1,x.length?y=x.concat(y):T=-1,y.length&&p())}function p(){if(!O){var k=d(h);O=!0;for(var P=y.length;P;){for(x=y,y=[];++T<P;)x&&x[T].run();T=-1,P=y.length}x=null,O=!1,m(k)}}function b(k,P){this.fun=k,this.array=P}function g(){}var S,I,E=a.exports={};(function(){try{S=typeof setTimeout=="function"?setTimeout:s}catch{S=s}try{I=typeof clearTimeout=="function"?clearTimeout:u}catch{I=u}})();var x,y=[],O=!1,T=-1;E.nextTick=function(k){var P=Array(arguments.length-1);if(1<arguments.length)for(var L=1;L<arguments.length;L++)P[L-1]=arguments[L];y.push(new b(k,P)),y.length!==1||O||d(p)},b.prototype.run=function(){this.fun.apply(null,this.array)},E.title="browser",E.browser=!0,E.env={},E.argv=[],E.version="",E.versions={},E.on=g,E.addListener=g,E.once=g,E.off=g,E.removeListener=g,E.removeAllListeners=g,E.emit=g,E.prependListener=g,E.prependOnceListener=g,E.listeners=function(){return[]},E.binding=function(){throw new Error("process.binding is not supported")},E.cwd=function(){return"/"},E.chdir=function(){throw new Error("process.chdir is not supported")},E.umask=function(){return 0}},{}],13:[function(o,a){(function(s){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let u;a.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?s:window):d=>(u||(u=Promise.resolve())).then(d).catch(m=>setTimeout(()=>{throw m},0))}).call(this)}).call(this,typeof Jn>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Jn)},{}],14:[function(o,a){(function(s,u){(function(){var d=o("safe-buffer").Buffer,m=u.crypto||u.msCrypto;a.exports=m&&m.getRandomValues?function(h,p){if(h>4294967295)throw new RangeError("requested too many random bytes");var b=d.allocUnsafe(h);if(0<h)if(65536<h)for(var g=0;g<h;g+=65536)m.getRandomValues(b.slice(g,g+65536));else m.getRandomValues(b);return typeof p=="function"?s.nextTick(function(){p(null,b)}):b}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,o("_process"),typeof Jn>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Jn)},{_process:12,"safe-buffer":30}],15:[function(o,a){function s(g,S){g.prototype=Object.create(S.prototype),g.prototype.constructor=g,g.__proto__=S}function u(g,S,I){function E(y,O,T){return typeof S=="string"?S:S(y,O,T)}I||(I=Error);var x=function(y){function O(T,k,P){return y.call(this,E(T,k,P))||this}return s(O,y),O}(I);x.prototype.name=I.name,x.prototype.code=g,b[g]=x}function d(g,S){if(Array.isArray(g)){var I=g.length;return g=g.map(function(E){return E+""}),2<I?"one of ".concat(S," ").concat(g.slice(0,I-1).join(", "),", or ")+g[I-1]:I===2?"one of ".concat(S," ").concat(g[0]," or ").concat(g[1]):"of ".concat(S," ").concat(g[0])}return"of ".concat(S," ").concat(g+"")}function m(g,S,I){return g.substr(!I||0>I?0:+I,S.length)===S}function h(g,S,I){return(I===void 0||I>g.length)&&(I=g.length),g.substring(I-S.length,I)===S}function p(g,S,I){return typeof I!="number"&&(I=0),!(I+S.length>g.length)&&g.indexOf(S,I)!==-1}var b={};u("ERR_INVALID_OPT_VALUE",function(g,S){return'The value "'+S+'" is invalid for option "'+g+'"'},TypeError),u("ERR_INVALID_ARG_TYPE",function(g,S,I){var E;typeof S=="string"&&m(S,"not ")?(E="must not be",S=S.replace(/^not /,"")):E="must be";var x;if(h(g," argument"))x="The ".concat(g," ").concat(E," ").concat(d(S,"type"));else{var y=p(g,".")?"property":"argument";x='The "'.concat(g,'" ').concat(y," ").concat(E," ").concat(d(S,"type"))}return x+=". Received type ".concat(typeof I),x},TypeError),u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),u("ERR_METHOD_NOT_IMPLEMENTED",function(g){return"The "+g+" method is not implemented"}),u("ERR_STREAM_PREMATURE_CLOSE","Premature close"),u("ERR_STREAM_DESTROYED",function(g){return"Cannot call "+g+" after a stream was destroyed"}),u("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),u("ERR_STREAM_WRITE_AFTER_END","write after end"),u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),u("ERR_UNKNOWN_ENCODING",function(g){return"Unknown encoding: "+g},TypeError),u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.codes=b},{}],16:[function(o,a){(function(s){(function(){function u(E){return this instanceof u?(p.call(this,E),b.call(this,E),this.allowHalfOpen=!0,void(E&&(E.readable===!1&&(this.readable=!1),E.writable===!1&&(this.writable=!1),E.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d))))):new u(E)}function d(){this._writableState.ended||s.nextTick(m,this)}function m(E){E.end()}var h=Object.keys||function(E){var x=[];for(var y in E)x.push(y);return x};a.exports=u;var p=o("./_stream_readable"),b=o("./_stream_writable");o("inherits")(u,p);for(var g,S=h(b.prototype),I=0;I<S.length;I++)g=S[I],u.prototype[g]||(u.prototype[g]=b.prototype[g]);Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})}).call(this)}).call(this,o("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(o,a){function s(d){return this instanceof s?void u.call(this,d):new s(d)}a.exports=s;var u=o("./_stream_transform");o("inherits")(s,u),s.prototype._transform=function(d,m,h){h(null,d)}},{"./_stream_transform":19,inherits:10}],18:[function(o,a){(function(s,u){(function(){function d(M){return Ze.from(M)}function m(M){return Ze.isBuffer(M)||M instanceof je}function h(M,f,w){return typeof M.prependListener=="function"?M.prependListener(f,w):void(M._events&&M._events[f]?Array.isArray(M._events[f])?M._events[f].unshift(w):M._events[f]=[w,M._events[f]]:M.on(f,w))}function p(M,f,w){ce=ce||o("./_stream_duplex"),M=M||{},typeof w!="boolean"&&(w=f instanceof ce),this.objectMode=!!M.objectMode,w&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=Ct(this,M,"readableHighWaterMark",w),this.buffer=new Fr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(!it&&(it=o("string_decoder/").StringDecoder),this.decoder=new it(M.encoding),this.encoding=M.encoding)}function b(M){if(ce=ce||o("./_stream_duplex"),!(this instanceof b))return new b(M);var f=this instanceof ce;this._readableState=new p(M,this,f),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),Ne.call(this)}function g(M,f,w,R,$){se("readableAddChunk",f);var V=M._readableState;if(f===null)V.reading=!1,y(M,V);else{var re;if($||(re=I(V,f)),re)me(M,re);else if(!(V.objectMode||f&&0<f.length))R||(V.reading=!1,k(M,V));else if(typeof f=="string"||V.objectMode||Object.getPrototypeOf(f)===Ze.prototype||(f=d(f)),R)V.endEmitted?me(M,new ie):S(M,V,f,!0);else if(V.ended)me(M,new mn);else{if(V.destroyed)return!1;V.reading=!1,V.decoder&&!w?(f=V.decoder.write(f),V.objectMode||f.length!==0?S(M,V,f,!1):k(M,V)):S(M,V,f,!1)}}return!V.ended&&(V.length<V.highWaterMark||V.length===0)}function S(M,f,w,R){f.flowing&&f.length===0&&!f.sync?(f.awaitDrain=0,M.emit("data",w)):(f.length+=f.objectMode?1:w.length,R?f.buffer.unshift(w):f.buffer.push(w),f.needReadable&&O(M)),k(M,f)}function I(M,f){var w;return m(f)||typeof f=="string"||f===void 0||M.objectMode||(w=new Bt("chunk",["string","Buffer","Uint8Array"],f)),w}function E(M){return 1073741824<=M?M=1073741824:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function x(M,f){return 0>=M||f.length===0&&f.ended?0:f.objectMode?1:M===M?(M>f.highWaterMark&&(f.highWaterMark=E(M)),M<=f.length?M:f.ended?f.length:(f.needReadable=!0,0)):f.flowing&&f.length?f.buffer.head.data.length:f.length}function y(M,f){if(se("onEofChunk"),!f.ended){if(f.decoder){var w=f.decoder.end();w&&w.length&&(f.buffer.push(w),f.length+=f.objectMode?1:w.length)}f.ended=!0,f.sync?O(M):(f.needReadable=!1,!f.emittedReadable&&(f.emittedReadable=!0,T(M)))}}function O(M){var f=M._readableState;se("emitReadable",f.needReadable,f.emittedReadable),f.needReadable=!1,f.emittedReadable||(se("emitReadable",f.flowing),f.emittedReadable=!0,s.nextTick(T,M))}function T(M){var f=M._readableState;se("emitReadable_",f.destroyed,f.length,f.ended),!f.destroyed&&(f.length||f.ended)&&(M.emit("readable"),f.emittedReadable=!1),f.needReadable=!f.flowing&&!f.ended&&f.length<=f.highWaterMark,ue(M)}function k(M,f){f.readingMore||(f.readingMore=!0,s.nextTick(P,M,f))}function P(M,f){for(;!f.reading&&!f.ended&&(f.length<f.highWaterMark||f.flowing&&f.length===0);){var w=f.length;if(se("maybeReadMore read 0"),M.read(0),w===f.length)break}f.readingMore=!1}function L(M){return function(){var f=M._readableState;se("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&we(M,"data")&&(f.flowing=!0,ue(M))}}function B(M){var f=M._readableState;f.readableListening=0<M.listenerCount("readable"),f.resumeScheduled&&!f.paused?f.flowing=!0:0<M.listenerCount("data")&&M.resume()}function N(M){se("readable nexttick read 0"),M.read(0)}function F(M,f){f.resumeScheduled||(f.resumeScheduled=!0,s.nextTick(Z,M,f))}function Z(M,f){se("resume",f.reading),f.reading||M.read(0),f.resumeScheduled=!1,M.emit("resume"),ue(M),f.flowing&&!f.reading&&M.read(0)}function ue(M){var f=M._readableState;for(se("flow",f.flowing);f.flowing&&M.read()!==null;);}function Ee(M,f){if(f.length===0)return null;var w;return f.objectMode?w=f.buffer.shift():!M||M>=f.length?(w=f.decoder?f.buffer.join(""):f.buffer.length===1?f.buffer.first():f.buffer.concat(f.length),f.buffer.clear()):w=f.buffer.consume(M,f.decoder),w}function Re(M){var f=M._readableState;se("endReadable",f.endEmitted),f.endEmitted||(f.ended=!0,s.nextTick(Ce,f,M))}function Ce(M,f){if(se("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,f.readable=!1,f.emit("end"),M.autoDestroy)){var w=f._writableState;(!w||w.autoDestroy&&w.finished)&&f.destroy()}}function Ie(M,f){for(var w=0,R=M.length;w<R;w++)if(M[w]===f)return w;return-1}a.exports=b;var ce;b.ReadableState=p;var se;o("events").EventEmitter;var we=function(M,f){return M.listeners(f).length},Ne=o("./internal/streams/stream"),Ze=o("buffer").Buffer,je=u.Uint8Array||function(){},Le=o("util");se=Le&&Le.debuglog?Le.debuglog("stream"):function(){};var it,ot,Mt,Fr=o("./internal/streams/buffer_list"),Ae=o("./internal/streams/destroy"),Vn=o("./internal/streams/state"),Ct=Vn.getHighWaterMark,Qe=o("../errors").codes,Bt=Qe.ERR_INVALID_ARG_TYPE,mn=Qe.ERR_STREAM_PUSH_AFTER_EOF,X=Qe.ERR_METHOD_NOT_IMPLEMENTED,ie=Qe.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o("inherits")(b,Ne);var me=Ae.errorOrDestroy,Me=["error","close","destroy","pause","resume"];Object.defineProperty(b.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),b.prototype.destroy=Ae.destroy,b.prototype._undestroy=Ae.undestroy,b.prototype._destroy=function(M,f){f(M)},b.prototype.push=function(M,f){var w,R=this._readableState;return R.objectMode?w=!0:typeof M=="string"&&(f=f||R.defaultEncoding,f!==R.encoding&&(M=Ze.from(M,f),f=""),w=!0),g(this,M,f,!1,w)},b.prototype.unshift=function(M){return g(this,M,null,!0,!1)},b.prototype.isPaused=function(){return this._readableState.flowing===!1},b.prototype.setEncoding=function(M){it||(it=o("string_decoder/").StringDecoder);var f=new it(M);this._readableState.decoder=f,this._readableState.encoding=this._readableState.decoder.encoding;for(var w=this._readableState.buffer.head,R="";w!==null;)R+=f.write(w.data),w=w.next;return this._readableState.buffer.clear(),R!==""&&this._readableState.buffer.push(R),this._readableState.length=R.length,this},b.prototype.read=function(M){se("read",M),M=parseInt(M,10);var f=this._readableState,w=M;if(M!==0&&(f.emittedReadable=!1),M===0&&f.needReadable&&((f.highWaterMark===0?0<f.length:f.length>=f.highWaterMark)||f.ended))return se("read: emitReadable",f.length,f.ended),f.length===0&&f.ended?Re(this):O(this),null;if(M=x(M,f),M===0&&f.ended)return f.length===0&&Re(this),null;var R=f.needReadable;se("need readable",R),(f.length===0||f.length-M<f.highWaterMark)&&(R=!0,se("length less than watermark",R)),f.ended||f.reading?(R=!1,se("reading or ended",R)):R&&(se("do read"),f.reading=!0,f.sync=!0,f.length===0&&(f.needReadable=!0),this._read(f.highWaterMark),f.sync=!1,!f.reading&&(M=x(w,f)));var $;return $=0<M?Ee(M,f):null,$===null?(f.needReadable=f.length<=f.highWaterMark,M=0):(f.length-=M,f.awaitDrain=0),f.length===0&&(!f.ended&&(f.needReadable=!0),w!==M&&f.ended&&Re(this)),$!==null&&this.emit("data",$),$},b.prototype._read=function(){me(this,new X("_read()"))},b.prototype.pipe=function(M,f){function w(Oe,yn){se("onunpipe"),Oe===Ue&&yn&&yn.hasUnpiped===!1&&(yn.hasUnpiped=!0,$())}function R(){se("onend"),M.end()}function $(){se("cleanup"),M.removeListener("close",De),M.removeListener("finish",Ke),M.removeListener("drain",Qn),M.removeListener("error",re),M.removeListener("unpipe",w),Ue.removeListener("end",R),Ue.removeListener("end",st),Ue.removeListener("data",V),Xt=!0,We.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&Qn()}function V(Oe){se("ondata");var yn=M.write(Oe);se("dest.write",yn),yn===!1&&((We.pipesCount===1&&We.pipes===M||1<We.pipesCount&&Ie(We.pipes,M)!==-1)&&!Xt&&(se("false write response, pause",We.awaitDrain),We.awaitDrain++),Ue.pause())}function re(Oe){se("onerror",Oe),st(),M.removeListener("error",re),we(M,"error")===0&&me(M,Oe)}function De(){M.removeListener("finish",Ke),st()}function Ke(){se("onfinish"),M.removeListener("close",De),st()}function st(){se("unpipe"),Ue.unpipe(M)}var Ue=this,We=this._readableState;switch(We.pipesCount){case 0:We.pipes=M;break;case 1:We.pipes=[We.pipes,M];break;default:We.pipes.push(M)}We.pipesCount+=1,se("pipe count=%d opts=%j",We.pipesCount,f);var pt=(!f||f.end!==!1)&&M!==s.stdout&&M!==s.stderr,vn=pt?R:st;We.endEmitted?s.nextTick(vn):Ue.once("end",vn),M.on("unpipe",w);var Qn=L(Ue);M.on("drain",Qn);var Xt=!1;return Ue.on("data",V),h(M,"error",re),M.once("close",De),M.once("finish",Ke),M.emit("pipe",Ue),We.flowing||(se("pipe resume"),Ue.resume()),M},b.prototype.unpipe=function(M){var f=this._readableState,w={hasUnpiped:!1};if(f.pipesCount===0)return this;if(f.pipesCount===1)return M&&M!==f.pipes?this:(M||(M=f.pipes),f.pipes=null,f.pipesCount=0,f.flowing=!1,M&&M.emit("unpipe",this,w),this);if(!M){var R=f.pipes,$=f.pipesCount;f.pipes=null,f.pipesCount=0,f.flowing=!1;for(var V=0;V<$;V++)R[V].emit("unpipe",this,{hasUnpiped:!1});return this}var re=Ie(f.pipes,M);return re===-1?this:(f.pipes.splice(re,1),f.pipesCount-=1,f.pipesCount===1&&(f.pipes=f.pipes[0]),M.emit("unpipe",this,w),this)},b.prototype.on=function(M,f){var w=Ne.prototype.on.call(this,M,f),R=this._readableState;return M==="data"?(R.readableListening=0<this.listenerCount("readable"),R.flowing!==!1&&this.resume()):M=="readable"&&!R.endEmitted&&!R.readableListening&&(R.readableListening=R.needReadable=!0,R.flowing=!1,R.emittedReadable=!1,se("on readable",R.length,R.reading),R.length?O(this):!R.reading&&s.nextTick(N,this)),w},b.prototype.addListener=b.prototype.on,b.prototype.removeListener=function(M,f){var w=Ne.prototype.removeListener.call(this,M,f);return M==="readable"&&s.nextTick(B,this),w},b.prototype.removeAllListeners=function(M){var f=Ne.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&s.nextTick(B,this),f},b.prototype.resume=function(){var M=this._readableState;return M.flowing||(se("resume"),M.flowing=!M.readableListening,F(this,M)),M.paused=!1,this},b.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},b.prototype.wrap=function(M){var f=this,w=this._readableState,R=!1;for(var $ in M.on("end",function(){if(se("wrapped end"),w.decoder&&!w.ended){var re=w.decoder.end();re&&re.length&&f.push(re)}f.push(null)}),M.on("data",function(re){if(se("wrapped data"),w.decoder&&(re=w.decoder.write(re)),!(w.objectMode&&re==null)&&(w.objectMode||re&&re.length)){var De=f.push(re);De||(R=!0,M.pause())}}),M)this[$]===void 0&&typeof M[$]=="function"&&(this[$]=function(re){return function(){return M[re].apply(M,arguments)}}($));for(var V=0;V<Me.length;V++)M.on(Me[V],this.emit.bind(this,Me[V]));return this._read=function(re){se("wrapped _read",re),R&&(R=!1,M.resume())},this},typeof Symbol=="function"&&(b.prototype[Symbol.asyncIterator]=function(){return ot===void 0&&(ot=o("./internal/streams/async_iterator")),ot(this)}),Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(b.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(b.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}}),b._fromList=Ee,Object.defineProperty(b.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(b.from=function(M,f){return Mt===void 0&&(Mt=o("./internal/streams/from")),Mt(b,M,f)})}).call(this)}).call(this,o("_process"),typeof Jn>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Jn)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(o,a){function s(E,x){var y=this._transformState;y.transforming=!1;var O=y.writecb;if(O===null)return this.emit("error",new b);y.writechunk=null,y.writecb=null,x!=null&&this.push(x),O(E);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function u(E){return this instanceof u?(I.call(this,E),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,E&&(typeof E.transform=="function"&&(this._transform=E.transform),typeof E.flush=="function"&&(this._flush=E.flush)),void this.on("prefinish",d)):new u(E)}function d(){var E=this;typeof this._flush!="function"||this._readableState.destroyed?m(this,null,null):this._flush(function(x,y){m(E,x,y)})}function m(E,x,y){if(x)return E.emit("error",x);if(y!=null&&E.push(y),E._writableState.length)throw new S;if(E._transformState.transforming)throw new g;return E.push(null)}a.exports=u;var h=o("../errors").codes,p=h.ERR_METHOD_NOT_IMPLEMENTED,b=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_TRANSFORM_ALREADY_TRANSFORMING,S=h.ERR_TRANSFORM_WITH_LENGTH_0,I=o("./_stream_duplex");o("inherits")(u,I),u.prototype.push=function(E,x){return this._transformState.needTransform=!1,I.prototype.push.call(this,E,x)},u.prototype._transform=function(E,x,y){y(new p("_transform()"))},u.prototype._write=function(E,x,y){var O=this._transformState;if(O.writecb=y,O.writechunk=E,O.writeencoding=x,!O.transforming){var T=this._readableState;(O.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},u.prototype._read=function(){var E=this._transformState;E.writechunk===null||E.transforming?E.needTransform=!0:(E.transforming=!0,this._transform(E.writechunk,E.writeencoding,E.afterTransform))},u.prototype._destroy=function(E,x){I.prototype._destroy.call(this,E,function(y){x(y)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(o,a){(function(s,u){(function(){function d(X){var ie=this;this.next=null,this.entry=null,this.finish=function(){Re(ie,X)}}function m(X){return se.from(X)}function h(X){return se.isBuffer(X)||X instanceof we}function p(){}function b(X,ie,me){Ce=Ce||o("./_stream_duplex"),X=X||{},typeof me!="boolean"&&(me=ie instanceof Ce),this.objectMode=!!X.objectMode,me&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=je(this,X,"writableHighWaterMark",me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Me=X.decodeStrings===!1;this.decodeStrings=!Me,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(M){k(ie,M)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function g(X){Ce=Ce||o("./_stream_duplex");var ie=this instanceof Ce;return ie||mn.call(g,this)?(this._writableState=new b(X,this,ie),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),void ce.call(this)):new g(X)}function S(X,ie){var me=new Ct;Bt(X,me),s.nextTick(ie,me)}function I(X,ie,me,Me){var M;return me===null?M=new Vn:typeof me!="string"&&!ie.objectMode&&(M=new it("chunk",["string","Buffer"],me)),!M||(Bt(X,M),s.nextTick(Me,M),!1)}function E(X,ie,me){return X.objectMode||X.decodeStrings===!1||typeof ie!="string"||(ie=se.from(ie,me)),ie}function x(X,ie,me,Me,M,f){if(!me){var w=E(ie,Me,M);Me!==w&&(me=!0,M="buffer",Me=w)}var R=ie.objectMode?1:Me.length;ie.length+=R;var $=ie.length<ie.highWaterMark;if($||(ie.needDrain=!0),ie.writing||ie.corked){var V=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:Me,encoding:M,isBuf:me,callback:f,next:null},V?V.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else y(X,ie,!1,R,Me,M,f);return $}function y(X,ie,me,Me,M,f,w){ie.writelen=Me,ie.writecb=w,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new Ae("write")):me?X._writev(M,ie.onwrite):X._write(M,f,ie.onwrite),ie.sync=!1}function O(X,ie,me,Me,M){--ie.pendingcb,me?(s.nextTick(M,Me),s.nextTick(ue,X,ie),X._writableState.errorEmitted=!0,Bt(X,Me)):(M(Me),X._writableState.errorEmitted=!0,Bt(X,Me),ue(X,ie))}function T(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function k(X,ie){var me=X._writableState,Me=me.sync,M=me.writecb;if(typeof M!="function")throw new Mt;if(T(me),ie)O(X,me,Me,ie,M);else{var f=N(me)||X.destroyed;f||me.corked||me.bufferProcessing||!me.bufferedRequest||B(X,me),Me?s.nextTick(P,X,me,f,M):P(X,me,f,M)}}function P(X,ie,me,Me){me||L(X,ie),ie.pendingcb--,Me(),ue(X,ie)}function L(X,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,X.emit("drain"))}function B(X,ie){ie.bufferProcessing=!0;var me=ie.bufferedRequest;if(X._writev&&me&&me.next){var Me=ie.bufferedRequestCount,M=Array(Me),f=ie.corkedRequestsFree;f.entry=me;for(var w=0,R=!0;me;)M[w]=me,me.isBuf||(R=!1),me=me.next,w+=1;M.allBuffers=R,y(X,ie,!0,ie.length,M,"",f.finish),ie.pendingcb++,ie.lastBufferedRequest=null,f.next?(ie.corkedRequestsFree=f.next,f.next=null):ie.corkedRequestsFree=new d(ie),ie.bufferedRequestCount=0}else{for(;me;){var $=me.chunk,V=me.encoding,re=me.callback,De=ie.objectMode?1:$.length;if(y(X,ie,!1,De,$,V,re),me=me.next,ie.bufferedRequestCount--,ie.writing)break}me===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=me,ie.bufferProcessing=!1}function N(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function F(X,ie){X._final(function(me){ie.pendingcb--,me&&Bt(X,me),ie.prefinished=!0,X.emit("prefinish"),ue(X,ie)})}function Z(X,ie){ie.prefinished||ie.finalCalled||(typeof X._final!="function"||ie.destroyed?(ie.prefinished=!0,X.emit("prefinish")):(ie.pendingcb++,ie.finalCalled=!0,s.nextTick(F,X,ie)))}function ue(X,ie){var me=N(ie);if(me&&(Z(X,ie),ie.pendingcb===0&&(ie.finished=!0,X.emit("finish"),ie.autoDestroy))){var Me=X._readableState;(!Me||Me.autoDestroy&&Me.endEmitted)&&X.destroy()}return me}function Ee(X,ie,me){ie.ending=!0,ue(X,ie),me&&(ie.finished?s.nextTick(me):X.once("finish",me)),ie.ended=!0,X.writable=!1}function Re(X,ie,me){var Me=X.entry;for(X.entry=null;Me;){var M=Me.callback;ie.pendingcb--,M(me),Me=Me.next}ie.corkedRequestsFree.next=X}a.exports=g;var Ce;g.WritableState=b;var Ie={deprecate:o("util-deprecate")},ce=o("./internal/streams/stream"),se=o("buffer").Buffer,we=u.Uint8Array||function(){},Ne=o("./internal/streams/destroy"),Ze=o("./internal/streams/state"),je=Ze.getHighWaterMark,Le=o("../errors").codes,it=Le.ERR_INVALID_ARG_TYPE,ot=Le.ERR_METHOD_NOT_IMPLEMENTED,Mt=Le.ERR_MULTIPLE_CALLBACK,Fr=Le.ERR_STREAM_CANNOT_PIPE,Ae=Le.ERR_STREAM_DESTROYED,Vn=Le.ERR_STREAM_NULL_VALUES,Ct=Le.ERR_STREAM_WRITE_AFTER_END,Qe=Le.ERR_UNKNOWN_ENCODING,Bt=Ne.errorOrDestroy;o("inherits")(g,ce),b.prototype.getBuffer=function(){for(var X=this.bufferedRequest,ie=[];X;)ie.push(X),X=X.next;return ie},function(){try{Object.defineProperty(b.prototype,"buffer",{get:Ie.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var mn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(mn=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(X){return!!mn.call(this,X)||this===g&&X&&X._writableState instanceof b}})):mn=function(X){return X instanceof this},g.prototype.pipe=function(){Bt(this,new Fr)},g.prototype.write=function(X,ie,me){var Me=this._writableState,M=!1,f=!Me.objectMode&&h(X);return f&&!se.isBuffer(X)&&(X=m(X)),typeof ie=="function"&&(me=ie,ie=null),f?ie="buffer":!ie&&(ie=Me.defaultEncoding),typeof me!="function"&&(me=p),Me.ending?S(this,me):(f||I(this,Me,X,me))&&(Me.pendingcb++,M=x(this,Me,f,X,ie,me)),M},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&B(this,X))},g.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())))throw new Qe(X);return this._writableState.defaultEncoding=X,this},Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(X,ie,me){me(new ot("_write()"))},g.prototype._writev=null,g.prototype.end=function(X,ie,me){var Me=this._writableState;return typeof X=="function"?(me=X,X=null,ie=null):typeof ie=="function"&&(me=ie,ie=null),X!=null&&this.write(X,ie),Me.corked&&(Me.corked=1,this.uncork()),Me.ending||Ee(this,Me,me),this},Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(X){this._writableState&&(this._writableState.destroyed=X)}}),g.prototype.destroy=Ne.destroy,g.prototype._undestroy=Ne.undestroy,g.prototype._destroy=function(X,ie){ie(X)}}).call(this)}).call(this,o("_process"),typeof Jn>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Jn)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(o,a){(function(s){(function(){function u(L,B,N){return B in L?Object.defineProperty(L,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):L[B]=N,L}function d(L,B){return{value:L,done:B}}function m(L){var B=L[S];if(B!==null){var N=L[T].read();N!==null&&(L[y]=null,L[S]=null,L[I]=null,B(d(N,!1)))}}function h(L){s.nextTick(m,L)}function p(L,B){return function(N,F){L.then(function(){return B[x]?void N(d(void 0,!0)):void B[O](N,F)},F)}}var b,g=o("./end-of-stream"),S=Symbol("lastResolve"),I=Symbol("lastReject"),E=Symbol("error"),x=Symbol("ended"),y=Symbol("lastPromise"),O=Symbol("handlePromise"),T=Symbol("stream"),k=Object.getPrototypeOf(function(){}),P=Object.setPrototypeOf((b={get stream(){return this[T]},next:function(){var L=this,B=this[E];if(B!==null)return Promise.reject(B);if(this[x])return Promise.resolve(d(void 0,!0));if(this[T].destroyed)return new Promise(function(ue,Ee){s.nextTick(function(){L[E]?Ee(L[E]):ue(d(void 0,!0))})});var N,F=this[y];if(F)N=new Promise(p(F,this));else{var Z=this[T].read();if(Z!==null)return Promise.resolve(d(Z,!1));N=new Promise(this[O])}return this[y]=N,N}},u(b,Symbol.asyncIterator,function(){return this}),u(b,"return",function(){var L=this;return new Promise(function(B,N){L[T].destroy(null,function(F){return F?void N(F):void B(d(void 0,!0))})})}),b),k);a.exports=function(L){var B,N=Object.create(P,(B={},u(B,T,{value:L,writable:!0}),u(B,S,{value:null,writable:!0}),u(B,I,{value:null,writable:!0}),u(B,E,{value:null,writable:!0}),u(B,x,{value:L._readableState.endEmitted,writable:!0}),u(B,O,{value:function(F,Z){var ue=N[T].read();ue?(N[y]=null,N[S]=null,N[I]=null,F(d(ue,!1))):(N[S]=F,N[I]=Z)},writable:!0}),B));return N[y]=null,g(L,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Z=N[I];return Z!==null&&(N[y]=null,N[S]=null,N[I]=null,Z(F)),void(N[E]=F)}var ue=N[S];ue!==null&&(N[y]=null,N[S]=null,N[I]=null,ue(d(void 0,!0))),N[x]=!0}),L.on("readable",h.bind(null,N)),N}}).call(this)}).call(this,o("_process"))},{"./end-of-stream":24,_process:12}],22:[function(o,a){function s(y,O){var T=Object.keys(y);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(y);O&&(k=k.filter(function(P){return Object.getOwnPropertyDescriptor(y,P).enumerable})),T.push.apply(T,k)}return T}function u(y){for(var O,T=1;T<arguments.length;T++)O=arguments[T]==null?{}:arguments[T],T%2?s(Object(O),!0).forEach(function(k){d(y,k,O[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(O)):s(Object(O)).forEach(function(k){Object.defineProperty(y,k,Object.getOwnPropertyDescriptor(O,k))});return y}function d(y,O,T){return O in y?Object.defineProperty(y,O,{value:T,enumerable:!0,configurable:!0,writable:!0}):y[O]=T,y}function m(y,O){if(!(y instanceof O))throw new TypeError("Cannot call a class as a function")}function h(y,O){for(var T,k=0;k<O.length;k++)T=O[k],T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(y,T.key,T)}function p(y,O,T){return O&&h(y.prototype,O),T&&h(y,T),y}function b(y,O,T){S.prototype.copy.call(y,O,T)}var g=o("buffer"),S=g.Buffer,I=o("util"),E=I.inspect,x=E&&E.custom||"inspect";a.exports=function(){function y(){m(this,y),this.head=null,this.tail=null,this.length=0}return p(y,[{key:"push",value:function(O){var T={data:O,next:null};0<this.length?this.tail.next=T:this.head=T,this.tail=T,++this.length}},{key:"unshift",value:function(O){var T={data:O,next:this.head};this.length===0&&(this.tail=T),this.head=T,++this.length}},{key:"shift",value:function(){if(this.length!==0){var O=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,O}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(O){if(this.length===0)return"";for(var T=this.head,k=""+T.data;T=T.next;)k+=O+T.data;return k}},{key:"concat",value:function(O){if(this.length===0)return S.alloc(0);for(var T=S.allocUnsafe(O>>>0),k=this.head,P=0;k;)b(k.data,T,P),P+=k.data.length,k=k.next;return T}},{key:"consume",value:function(O,T){var k;return O<this.head.data.length?(k=this.head.data.slice(0,O),this.head.data=this.head.data.slice(O)):O===this.head.data.length?k=this.shift():k=T?this._getString(O):this._getBuffer(O),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(O){var T=this.head,k=1,P=T.data;for(O-=P.length;T=T.next;){var L=T.data,B=O>L.length?L.length:O;if(P+=B===L.length?L:L.slice(0,O),O-=B,O===0){B===L.length?(++k,this.head=T.next?T.next:this.tail=null):(this.head=T,T.data=L.slice(B));break}++k}return this.length-=k,P}},{key:"_getBuffer",value:function(O){var T=S.allocUnsafe(O),k=this.head,P=1;for(k.data.copy(T),O-=k.data.length;k=k.next;){var L=k.data,B=O>L.length?L.length:O;if(L.copy(T,T.length-O,0,B),O-=B,O===0){B===L.length?(++P,this.head=k.next?k.next:this.tail=null):(this.head=k,k.data=L.slice(B));break}++P}return this.length-=P,T}},{key:x,value:function(O,T){return E(this,u({},T,{depth:0,customInspect:!1}))}}]),y}()},{buffer:3,util:2}],23:[function(o,a){(function(s){(function(){function u(h,p){m(h,p),d(h)}function d(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function m(h,p){h.emit("error",p)}a.exports={destroy:function(h,p){var b=this,g=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return g||S?(p?p(h):h&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,s.nextTick(m,this,h)):s.nextTick(m,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(I){!p&&I?b._writableState?b._writableState.errorEmitted?s.nextTick(d,b):(b._writableState.errorEmitted=!0,s.nextTick(u,b,I)):s.nextTick(u,b,I):p?(s.nextTick(d,b),p(I)):s.nextTick(d,b)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(h,p){var b=h._readableState,g=h._writableState;b&&b.autoDestroy||g&&g.autoDestroy?h.destroy(p):h.emit("error",p)}}}).call(this)}).call(this,o("_process"))},{_process:12}],24:[function(o,a){function s(p){var b=!1;return function(){if(!b){b=!0;for(var g=arguments.length,S=Array(g),I=0;I<g;I++)S[I]=arguments[I];p.apply(this,S)}}}function u(){}function d(p){return p.setHeader&&typeof p.abort=="function"}function m(p,b,g){if(typeof b=="function")return m(p,null,b);b||(b={}),g=s(g||u);var S=b.readable||b.readable!==!1&&p.readable,I=b.writable||b.writable!==!1&&p.writable,E=function(){p.writable||y()},x=p._writableState&&p._writableState.finished,y=function(){I=!1,x=!0,S||g.call(p)},O=p._readableState&&p._readableState.endEmitted,T=function(){S=!1,O=!0,I||g.call(p)},k=function(B){g.call(p,B)},P=function(){var B;return S&&!O?(p._readableState&&p._readableState.ended||(B=new h),g.call(p,B)):I&&!x?(p._writableState&&p._writableState.ended||(B=new h),g.call(p,B)):void 0},L=function(){p.req.on("finish",y)};return d(p)?(p.on("complete",y),p.on("abort",P),p.req?L():p.on("request",L)):I&&!p._writableState&&(p.on("end",E),p.on("close",E)),p.on("end",T),p.on("finish",y),b.error!==!1&&p.on("error",k),p.on("close",P),function(){p.removeListener("complete",y),p.removeListener("abort",P),p.removeListener("request",L),p.req&&p.req.removeListener("finish",y),p.removeListener("end",E),p.removeListener("close",E),p.removeListener("finish",y),p.removeListener("end",T),p.removeListener("error",k),p.removeListener("close",P)}}var h=o("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;a.exports=m},{"../../../errors":15}],25:[function(o,a){a.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(o,a){function s(x){var y=!1;return function(){y||(y=!0,x.apply(void 0,arguments))}}function u(x){if(x)throw x}function d(x){return x.setHeader&&typeof x.abort=="function"}function m(x,y,O,T){T=s(T);var k=!1;x.on("close",function(){k=!0}),g===void 0&&(g=o("./end-of-stream")),g(x,{readable:y,writable:O},function(L){return L?T(L):(k=!0,void T())});var P=!1;return function(L){if(!k)return P?void 0:(P=!0,d(x)?x.abort():typeof x.destroy=="function"?x.destroy():void T(L||new E("pipe")))}}function h(x){x()}function p(x,y){return x.pipe(y)}function b(x){return x.length&&typeof x[x.length-1]=="function"?x.pop():u}var g,S=o("../../../errors").codes,I=S.ERR_MISSING_ARGS,E=S.ERR_STREAM_DESTROYED;a.exports=function(){for(var x=arguments.length,y=Array(x),O=0;O<x;O++)y[O]=arguments[O];var T=b(y);if(Array.isArray(y[0])&&(y=y[0]),2>y.length)throw new I("streams");var k,P=y.map(function(L,B){var N=B<y.length-1;return m(L,N,0<B,function(F){k||(k=F),F&&P.forEach(h),N||(P.forEach(h),T(k))})});return y.reduce(p)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(o,a){function s(d,m,h){return d.highWaterMark==null?m?d[h]:null:d.highWaterMark}var u=o("../../../errors").codes.ERR_INVALID_OPT_VALUE;a.exports={getHighWaterMark:function(d,m,h,p){var b=s(m,p,h);if(b!=null){if(!(isFinite(b)&&n(b)===b)||0>b){var g=p?h:"highWaterMark";throw new u(g,b)}return n(b)}return d.objectMode?16:16384}}},{"../../../errors":15}],28:[function(o,a){a.exports=o("events").EventEmitter},{events:7}],29:[function(o,a,s){s=a.exports=o("./lib/_stream_readable.js"),s.Stream=s,s.Readable=s,s.Writable=o("./lib/_stream_writable.js"),s.Duplex=o("./lib/_stream_duplex.js"),s.Transform=o("./lib/_stream_transform.js"),s.PassThrough=o("./lib/_stream_passthrough.js"),s.finished=o("./lib/internal/streams/end-of-stream.js"),s.pipeline=o("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(o,a,s){function u(p,b){for(var g in p)b[g]=p[g]}function d(p,b,g){return h(p,b,g)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m=o("buffer"),h=m.Buffer;h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?a.exports=m:(u(m,s),s.Buffer=d),d.prototype=Object.create(h.prototype),u(h,d),d.from=function(p,b,g){if(typeof p=="number")throw new TypeError("Argument must not be a number");return h(p,b,g)},d.alloc=function(p,b,g){if(typeof p!="number")throw new TypeError("Argument must be a number");var S=h(p);return b===void 0?S.fill(0):typeof g=="string"?S.fill(b,g):S.fill(b),S},d.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return h(p)},d.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(p)}},{buffer:3}],31:[function(o,a,s){function u(P){if(!P)return"utf8";for(var L;;)switch(P){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return P;default:if(L)return;P=(""+P).toLowerCase(),L=!0}}function d(P){var L=u(P);if(typeof L!="string"&&(T.isEncoding===k||!k(P)))throw new Error("Unknown encoding: "+P);return L||P}function m(P){this.encoding=d(P);var L;switch(this.encoding){case"utf16le":this.text=S,this.end=I,L=4;break;case"utf8":this.fillLast=g,L=4;break;case"base64":this.text=E,this.end=x,L=3;break;default:return this.write=y,void(this.end=O)}this.lastNeed=0,this.lastTotal=0,this.lastChar=T.allocUnsafe(L)}function h(P){return 127>=P?0:P>>5==6?2:P>>4==14?3:P>>3==30?4:P>>6==2?-1:-2}function p(P,L,B){var N=L.length-1;if(N<B)return 0;var F=h(L[N]);return 0<=F?(0<F&&(P.lastNeed=F-1),F):--N<B||F===-2?0:(F=h(L[N]),0<=F?(0<F&&(P.lastNeed=F-2),F):--N<B||F===-2?0:(F=h(L[N]),0<=F?(0<F&&(F===2?F=0:P.lastNeed=F-3),F):0))}function b(P,L){if((192&L[0])!=128)return P.lastNeed=0,"�";if(1<P.lastNeed&&1<L.length){if((192&L[1])!=128)return P.lastNeed=1,"�";if(2<P.lastNeed&&2<L.length&&(192&L[2])!=128)return P.lastNeed=2,"�"}}function g(P){var L=this.lastTotal-this.lastNeed,B=b(this,P);return B===void 0?this.lastNeed<=P.length?(P.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(P.copy(this.lastChar,L,0,P.length),void(this.lastNeed-=P.length)):B}function S(P,L){if((P.length-L)%2==0){var B=P.toString("utf16le",L);if(B){var N=B.charCodeAt(B.length-1);if(55296<=N&&56319>=N)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=P[P.length-2],this.lastChar[1]=P[P.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=P[P.length-1],P.toString("utf16le",L,P.length-1)}function I(P){var L=P&&P.length?this.write(P):"";if(this.lastNeed){var B=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,B)}return L}function E(P,L){var B=(P.length-L)%3;return B==0?P.toString("base64",L):(this.lastNeed=3-B,this.lastTotal=3,B==1?this.lastChar[0]=P[P.length-1]:(this.lastChar[0]=P[P.length-2],this.lastChar[1]=P[P.length-1]),P.toString("base64",L,P.length-B))}function x(P){var L=P&&P.length?this.write(P):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function y(P){return P.toString(this.encoding)}function O(P){return P&&P.length?this.write(P):""}var T=o("safe-buffer").Buffer,k=T.isEncoding||function(P){switch(P=""+P,P&&P.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};s.StringDecoder=m,m.prototype.write=function(P){if(P.length===0)return"";var L,B;if(this.lastNeed){if(L=this.fillLast(P),L===void 0)return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<P.length?L?L+this.text(P,B):this.text(P,B):L||""},m.prototype.end=function(P){var L=P&&P.length?this.write(P):"";return this.lastNeed?L+"�":L},m.prototype.text=function(P,L){var B=p(this,P,L);if(!this.lastNeed)return P.toString("utf8",L);this.lastTotal=B;var N=P.length-(B-this.lastNeed);return P.copy(this.lastChar,0,N),P.toString("utf8",L,N)},m.prototype.fillLast=function(P){return this.lastNeed<=P.length?(P.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(P.copy(this.lastChar,this.lastTotal-this.lastNeed,0,P.length),void(this.lastNeed-=P.length))}},{"safe-buffer":30}],32:[function(o,a){(function(s){(function(){function u(d){try{if(!s.localStorage)return!1}catch{return!1}var m=s.localStorage[d];return m!=null&&(m+"").toLowerCase()==="true"}a.exports=function(d,m){function h(){if(!p){if(u("throwDeprecation"))throw new Error(m);u("traceDeprecation")?console.trace(m):console.warn(m),p=!0}return d.apply(this,arguments)}if(u("noDeprecation"))return d;var p=!1;return h}}).call(this)}).call(this,typeof Jn>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Jn)},{}],"/":[function(o,a){function s(x){return x.replace(/a=ice-options:trickle\s\n/g,"")}function u(x){console.warn(x)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const d=o("debug")("simple-peer"),m=o("get-browser-rtc"),h=o("randombytes"),p=o("readable-stream"),b=o("queue-microtask"),g=o("err-code"),{Buffer:S}=o("buffer"),I=65536;class E extends p.Duplex{constructor(y){if(y=Object.assign({allowHalfOpen:!1},y),super(y),this._id=h(4).toString("hex").slice(0,7),this._debug("new peer %o",y),this.channelName=y.initiator?y.channelName||h(20).toString("hex"):null,this.initiator=y.initiator||!1,this.channelConfig=y.channelConfig||E.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},E.config,y.config),this.offerOptions=y.offerOptions||{},this.answerOptions=y.answerOptions||{},this.sdpTransform=y.sdpTransform||(O=>O),this.streams=y.streams||(y.stream?[y.stream]:[]),this.trickle=y.trickle===void 0||y.trickle,this.allowHalfTrickle=y.allowHalfTrickle!==void 0&&y.allowHalfTrickle,this.iceCompleteTimeout=y.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=y.wrtc&&typeof y.wrtc=="object"?y.wrtc:m(),!this._wrtc)throw g(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(O){return void this.destroy(g(O,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=O=>{this._onIceCandidate(O)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(O=>{this.destroy(g(O,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=O=>{this._setupData(O)},this.streams&&this.streams.forEach(O=>{this.addStream(O)}),this._pc.ontrack=O=>{this._onTrack(O)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(y){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof y=="string")try{y=JSON.parse(y)}catch{y={}}this._debug("signal()"),y.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),y.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(y.transceiverRequest.kind,y.transceiverRequest.init)),y.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(y.candidate):this._pendingCandidates.push(y.candidate)),y.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(y)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(O=>{this._addIceCandidate(O)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(O=>{this.destroy(g(O,"ERR_SET_REMOTE_DESCRIPTION"))}),y.sdp||y.candidate||y.renegotiate||y.transceiverRequest||this.destroy(g(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(y){const O=new this._wrtc.RTCIceCandidate(y);this._pc.addIceCandidate(O).catch(T=>{!O.address||O.address.endsWith(".local")?u("Ignoring unsupported ICE candidate."):this.destroy(g(T,"ERR_ADD_ICE_CANDIDATE"))})}send(y){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(y)}}addTransceiver(y,O){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(y,O),this._needsNegotiation()}catch(T){this.destroy(g(T,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:y,init:O}})}}addStream(y){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),y.getTracks().forEach(O=>{this.addTrack(O,y)})}}addTrack(y,O){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const T=this._senderMap.get(y)||new Map;let k=T.get(O);if(!k)k=this._pc.addTrack(y,O),T.set(O,k),this._senderMap.set(y,T),this._needsNegotiation();else throw k.removed?g(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):g(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(y,O,T){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const k=this._senderMap.get(y),P=k?k.get(T):null;if(!P)throw g(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");O&&this._senderMap.set(O,k),P.replaceTrack==null?this.destroy(g(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):P.replaceTrack(O)}removeTrack(y,O){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const T=this._senderMap.get(y),k=T?T.get(O):null;if(!k)throw g(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{k.removed=!0,this._pc.removeTrack(k)}catch(P){P.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(k):this.destroy(g(P,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(y){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),y.getTracks().forEach(O=>{this.removeTrack(O,y)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,b(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(y){this._destroy(y,()=>{})}_destroy(y,O){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",y&&(y.message||y)),b(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",y&&(y.message||y)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,y&&this.emit("error",y),this.emit("close"),O()}))}_setupData(y){if(!y.channel)return this.destroy(g(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=y.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=I),this.channelName=this._channel.label,this._channel.onmessage=T=>{this._onChannelMessage(T)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=T=>{const k=T.error instanceof Error?T.error:new Error(`Datachannel error: ${T.message} ${T.filename}:${T.lineno}:${T.colno}`);this.destroy(g(k,"ERR_DATA_CHANNEL"))};let O=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(O&&this._onChannelClose(),O=!0):O=!1},5e3)}_read(){}_write(y,O,T){if(this.destroyed)return T(g(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(y)}catch(k){return this.destroy(g(k,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>I?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=T):T(null)}else this._debug("write before connect"),this._chunk=y,this._cb=T}_onFinish(){if(!this.destroyed){const y=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?y():this.once("connect",y)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(y=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(y.sdp=s(y.sdp)),y.sdp=this.sdpTransform(y.sdp);const O=()=>{if(!this.destroyed){const T=this._pc.localDescription||y;this._debug("signal"),this.emit("signal",{type:T.type,sdp:T.sdp})}};this._pc.setLocalDescription(y).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?O():this.once("_iceComplete",O))}).catch(T=>{this.destroy(g(T,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(y=>{this.destroy(g(y,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(y=>{y.mid||!y.sender.track||y.requested||(y.requested=!0,this.addTransceiver(y.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(y=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(y.sdp=s(y.sdp)),y.sdp=this.sdpTransform(y.sdp);const O=()=>{if(!this.destroyed){const T=this._pc.localDescription||y;this._debug("signal"),this.emit("signal",{type:T.type,sdp:T.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(y).then(()=>{this.destroyed||(this.trickle||this._iceComplete?O():this.once("_iceComplete",O))}).catch(T=>{this.destroy(g(T,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(y=>{this.destroy(g(y,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(g(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const y=this._pc.iceConnectionState,O=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",y,O),this.emit("iceStateChange",y,O),(y==="connected"||y==="completed")&&(this._pcReady=!0,this._maybeReady()),y==="failed"&&this.destroy(g(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),y==="closed"&&this.destroy(g(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(y){const O=T=>(Object.prototype.toString.call(T.values)==="[object Array]"&&T.values.forEach(k=>{Object.assign(T,k)}),T);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(T=>{const k=[];T.forEach(P=>{k.push(O(P))}),y(null,k)},T=>y(T)):0<this._pc.getStats.length?this._pc.getStats(T=>{if(this.destroyed)return;const k=[];T.result().forEach(P=>{const L={};P.names().forEach(B=>{L[B]=P.stat(B)}),L.id=P.id,L.type=P.type,L.timestamp=P.timestamp,k.push(O(L))}),y(null,k)},T=>y(T)):y(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const y=()=>{this.destroyed||this.getStats((O,T)=>{if(this.destroyed)return;O&&(T=[]);const k={},P={},L={};let B=!1;T.forEach(F=>{(F.type==="remotecandidate"||F.type==="remote-candidate")&&(k[F.id]=F),(F.type==="localcandidate"||F.type==="local-candidate")&&(P[F.id]=F),(F.type==="candidatepair"||F.type==="candidate-pair")&&(L[F.id]=F)});const N=F=>{B=!0;let Z=P[F.localCandidateId];Z&&(Z.ip||Z.address)?(this.localAddress=Z.ip||Z.address,this.localPort=+Z.port):Z&&Z.ipAddress?(this.localAddress=Z.ipAddress,this.localPort=+Z.portNumber):typeof F.googLocalAddress=="string"&&(Z=F.googLocalAddress.split(":"),this.localAddress=Z[0],this.localPort=+Z[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let ue=k[F.remoteCandidateId];ue&&(ue.ip||ue.address)?(this.remoteAddress=ue.ip||ue.address,this.remotePort=+ue.port):ue&&ue.ipAddress?(this.remoteAddress=ue.ipAddress,this.remotePort=+ue.portNumber):typeof F.googRemoteAddress=="string"&&(ue=F.googRemoteAddress.split(":"),this.remoteAddress=ue[0],this.remotePort=+ue[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(T.forEach(F=>{F.type==="transport"&&F.selectedCandidatePairId&&N(L[F.selectedCandidatePairId]),(F.type==="googCandidatePair"&&F.googActiveConnection==="true"||(F.type==="candidatepair"||F.type==="candidate-pair")&&F.selected)&&N(F)}),!B&&(!Object.keys(L).length||Object.keys(P).length))return void setTimeout(y,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(Z){return this.destroy(g(Z,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const F=this._cb;this._cb=null,F(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};y()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>I)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(y=>{this._pc.removeTrack(y),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(y){this.destroyed||(y.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:y.candidate.candidate,sdpMLineIndex:y.candidate.sdpMLineIndex,sdpMid:y.candidate.sdpMid}}):!y.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),y.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(y){if(this.destroyed)return;let O=y.data;O instanceof ArrayBuffer&&(O=S.from(O)),this.push(O)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const y=this._cb;this._cb=null,y(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(y){this.destroyed||y.streams.forEach(O=>{this._debug("on track"),this.emit("track",y.track,O),this._remoteTracks.push({track:y.track,stream:O}),this._remoteStreams.some(T=>T.id===O.id)||(this._remoteStreams.push(O),b(()=>{this._debug("on stream"),this.emit("stream",O)}))})}_debug(){const y=[].slice.call(arguments);y[0]="["+this._id+"] "+y[0],d.apply(null,y)}}E.WEBRTC_SUPPORT=!!m(),E.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},E.channelConfig={},a.exports=E},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(bb);var S2=bb.exports;const E2=tc(S2),C2=E2;function ud(e,t){e.send(JSON.stringify(t))}const Sb="signaling.rxdb.info",hg=`wss://${Sb}/`,pg=new Map;let mg=!1;const x2=1e3*60*2;function Eb({signalingServerUrl:e,wrtc:t,config:n,webSocketConstructor:r}){k2();const i=e||hg,o=r||WebSocket;i.includes(Sb)&&!mg&&(mg=!0,console.warn(["RxDB Warning: You are using the RxDB WebRTC replication plugin","but you did not specify your own signaling server url.",`By default it will use a signaling server provided by RxDB at ${hg}`,"This server is made for demonstration purposes and tryouts. It is not reliable and might be offline at any time.","In production you must always use your own signaling server instead.","Learn how to run your own server at https://rxdb.info/replication-webrtc.html","Also leave a ⭐ at the RxDB github repo 🙏 https://github.com/pubkey/rxdb 🙏"].join(" ")));const a=new Lt,s=new Lt,u=new Lt,d=new Lt,m=new Lt,h=new Map;let p=!1,b;function g(I){if(p)return;const E=pg.get(i);if(E)return E;const x=new o(i);pg.set(i,x),x.onclose=()=>g(I),x.onopen=()=>{ze(x).onmessage=y=>{const O=JSON.parse(y.data);switch(O.type){case"init":b=O.yourPeerId,ud(ze(x),{type:"join",room:I});break;case"joined":let T=function(P){let L=!1;const B=new C2({initiator:P>b,wrtc:t,config:n,trickle:!0});B.id=Ia(10),h.set(P,B),B.on("signal",N=>{ud(ze(x),{type:"signal",senderPeerId:b,receiverPeerId:P,room:I,data:N})}),B.on("data",N=>{N=JSON.parse(N.toString()),N.result?d.next({peer:B,response:N}):u.next({peer:B,message:N})}),B.on("error",N=>{m.next(fe("RC_WEBRTC_PEER",{error:N})),B.destroy(),L||(L=!0,s.next(B))}),B.on("connect",()=>{a.next(B)}),B.on("close",()=>{L||(L=!0,s.next(B)),T(P)})};O.otherPeerIds.forEach(P=>{P===b||h.has(P)||T(P)});break;case"signal":wo(h,O.senderPeerId).signal(O.data);break}}}}return async I=>{const E=g(I.topic);return(async()=>{for(;await Qw(x2/2),!p;)E&&ud(E,{type:"ping"})})(),{error$:m,connect$:a,disconnect$:s,message$:u,response$:d,async send(y,O){await y.send(JSON.stringify(O))},destroy(){return p=!0,ze(E).close(),m.complete(),a.complete(),s.complete(),u.complete(),d.complete(),xn}}}}function k2(){if(typeof process>"u"||typeof process.nextTick!="function")throw fe("RC7")}async function Cb(e){const t=e.collection;sr(Pc),e.pull&&(e.pull.batchSize||(e.pull.batchSize=20)),e.push&&(e.push.batchSize||(e.push.batchSize=20)),t.database.multiInstance&&await t.database.waitForLeadership();let n=0;const r=Ia(10);function i(){const u=n++;return`${t.database.token}|${r}|${u}`}const o=await t.database.storageToken,a=new R2(t,e,await e.connectionHandlerCreator(e));a.subs.push(a.connectionHandler.error$.subscribe(u=>a.error$.next(u)),a.connectionHandler.disconnect$.subscribe(u=>a.removePeer(u))),a.subs.push(a.connectionHandler.message$.pipe(vt(u=>u.message.method==="token")).subscribe(u=>{a.connectionHandler.send(u.peer,{id:u.message.id,result:o,collectionName:t.name})}));const s=a.connectionHandler.connect$.pipe(vt(()=>!a.canceled)).subscribe(async u=>{if(e.isPeerValid&&!await e.isPeerValid(u))return;let d;try{d=(await sd(a.connectionHandler,u,{id:i(),method:"token",params:[],collectionName:t.name})).result}catch(p){a.error$.next(fe("RC_WEBRTC_PEER",{error:p}));return}const m=await b2(t.database.hashFunction,o,d);let h;if(m){const p=a.masterReplicationHandler,b=p.masterChangeStream$.subscribe(S=>{const I={id:"masterChangeStream$",result:S,collectionName:t.name};a.connectionHandler.send(u,I)});a.subs.push(b,a.connectionHandler.disconnect$.pipe(vt(S=>S===u)).subscribe(()=>b.unsubscribe()));const g=a.connectionHandler.message$.pipe(vt(S=>S.peer===u),vt(S=>S.message.method!=="token"),vt(S=>S.message.collectionName===t.name)).subscribe(async S=>{const{peer:I,message:E}=S,x=E.method,O=await p[x].bind(p)(...E.params),T={id:E.id,result:O,collectionName:t.name};a.connectionHandler.send(I,T)});a.subs.push(g)}else h=t2({replicationIdentifier:[t.name,e.topic,d].join("||"),collection:t,autoStart:!0,deletedField:"_deleted",live:!0,retryTime:e.retryTime,waitForLeadership:!1,pull:e.pull?Object.assign({},e.pull,{stream$:a.connectionHandler.response$.pipe(vt(p=>p.response.id==="masterChangeStream$"),vt(p=>p.response.collectionName===t.name),wr(p=>p.response.result)),async handler(p){return(await sd(a.connectionHandler,u,{method:"masterChangesSince",params:[p,ze(e.pull).batchSize],id:i(),collectionName:t.name})).result}}):void 0,push:e.push?Object.assign({},e.push,{async handler(p){return(await sd(a.connectionHandler,u,{method:"masterWrite",params:[p],id:i(),collectionName:t.name})).result}}):void 0});a.addPeer(u,h)});return a.subs.push(s),a}class R2{constructor(t,n,r){Ur(this,"peerStates$",new Kr(new Map));Ur(this,"canceled",!1);Ur(this,"masterReplicationHandler");Ur(this,"subs",[]);Ur(this,"error$",new Lt);this.collection=t,this.options=n,this.connectionHandler=r,this.collection.onDestroy.push(()=>this.cancel()),this.masterReplicationHandler=AD(t.storageInstance,t.conflictHandler,t.database.token)}addPeer(t,n){const r={peer:t,replicationState:n,subs:[]};this.peerStates$.next(this.peerStates$.getValue().set(t,r)),n&&r.subs.push(n.error$.subscribe(i=>this.error$.next(i)))}removePeer(t){const n=wo(this.peerStates$.getValue(),t);this.peerStates$.getValue().delete(t),this.peerStates$.next(this.peerStates$.getValue()),n.subs.forEach(r=>r.unsubscribe()),n.replicationState&&n.replicationState.cancel()}awaitFirstPeer(){return Co(this.peerStates$.pipe(vt(t=>t.size>0)))}async cancel(){this.canceled||(this.canceled=!0,this.subs.forEach(t=>t.unsubscribe()),Array.from(this.peerStates$.getValue().keys()).forEach(t=>{this.removePeer(t)}),await this.connectionHandler.destroy())}}sr(Pc);sr(tb);sr(sb);sr(ub);sr(hb);async function O2(){const e="example_rxdb";await rm(e,Zl());const t=await j1({name:e,storage:Zl(),multiInstance:!0,ignoreDuplicate:!0});return t.waitForLeadership().then(()=>{document.title=`♛ ${document.title}`}),await t.addCollections({user:{schema:wb},post:{schema:_b}}),Object.keys(t.collections).forEach(n=>{Cb({collection:t.collections[n],connectionHandlerCreator:Eb({}),topic:`${e}__${n}`,pull:{},push:{}})}),t}let P2=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function ec({title:e,collection:t}){const[n,r]=pe.useState(""),[i,o]=pe.useState([]),a=async()=>{r(""),t.insert({name:n,nanoId:P2(21),createAt:new Date().toISOString()})},s=async u=>{t.bulkRemove([u])};return pe.useEffect(()=>{const u=t.find({sort:[{createAt:"asc"}]}).$.subscribe(d=>{o(d.map(m=>m.toJSON()))});return()=>{u.unsubscribe()}},[t]),mt.jsxs("div",{style:{border:"1px solid black",padding:4},children:[mt.jsx("div",{children:e}),mt.jsxs("div",{children:["Collection Name:",t.name]}),mt.jsxs("div",{children:[mt.jsx("input",{placeholder:"please enter",value:n,onChange:u=>r(u.target.value)}),mt.jsx("button",{onClick:()=>a(),children:"Add"})]}),mt.jsx("ul",{children:i.map(u=>mt.jsxs("li",{children:[mt.jsx("span",{children:u.name}),mt.jsx("button",{onClick:()=>s(u.nanoId),children:"Delete"})]},u.nanoId))})]})}function D2(){const[e,t]=pe.useState();return pe.useEffect(()=>{O2().then(n=>{t(n)})},[]),e?mt.jsxs("div",{style:{display:"flex",gap:"4px"},children:[mt.jsx(ec,{title:"User List",collection:e.user}),mt.jsx(ec,{title:"Post List",collection:e.post})]}):mt.jsx("div",{children:"Loading...."})}sr(Pc);sr(tb);sr(sb);sr(ub);sr(hb);async function T2(){const e="example_rxdb";await rm(e,Zl());const t=await j1({name:e,storage:Zl(),multiInstance:!0,ignoreDuplicate:!0});t.waitForLeadership().then(()=>{document.title=`♛ ${document.title}`}),await t.addCollections({user:{schema:wb},post:{schema:_b}});const n=Eb({});return Object.keys(t.collections).map(async r=>Cb({collection:t.collections[r],connectionHandlerCreator:n,topic:e,pull:{},push:{}})),t}function I2(){const[e,t]=pe.useState();return pe.useEffect(()=>{T2().then(n=>{t(n)})},[]),e?mt.jsxs("div",{style:{display:"flex",gap:"4px"},children:[mt.jsx(ec,{title:"User List",collection:e.user}),mt.jsx(ec,{title:"Post List",collection:e.post})]}):mt.jsx("div",{children:"Loading...."})}const A2=Ax([{path:"/",element:mt.jsx(Vx,{})},{path:"/normal",element:mt.jsx(D2,{})},{path:"/shared",element:mt.jsx(I2,{})}],{basename:"/rxdb-replication-webrtc"});ld.createRoot(document.getElementById("root")).render(mt.jsx(zx,{router:A2}));
