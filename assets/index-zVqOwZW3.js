var J1=Object.defineProperty;var X1=(e,t,n)=>t in e?J1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var zr=(e,t,n)=>(X1(e,typeof t!="symbol"?t+"":t,n),n);function bg(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sg={exports:{}},rc={},Eg={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zs=Symbol.for("react.element"),Z1=Symbol.for("react.portal"),eS=Symbol.for("react.fragment"),tS=Symbol.for("react.strict_mode"),nS=Symbol.for("react.profiler"),rS=Symbol.for("react.provider"),iS=Symbol.for("react.context"),oS=Symbol.for("react.forward_ref"),aS=Symbol.for("react.suspense"),sS=Symbol.for("react.memo"),uS=Symbol.for("react.lazy"),$m=Symbol.iterator;function lS(e){return e===null||typeof e!="object"?null:(e=$m&&e[$m]||e["@@iterator"],typeof e=="function"?e:null)}var Cg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xg=Object.assign,kg={};function Pa(e,t,n){this.props=e,this.context=t,this.refs=kg,this.updater=n||Cg}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rg(){}Rg.prototype=Pa.prototype;function Mh(e,t,n){this.props=e,this.context=t,this.refs=kg,this.updater=n||Cg}var Nh=Mh.prototype=new Rg;Nh.constructor=Mh;xg(Nh,Pa.prototype);Nh.isPureReactComponent=!0;var Um=Array.isArray,Og=Object.prototype.hasOwnProperty,jh={current:null},Pg={key:!0,ref:!0,__self:!0,__source:!0};function Dg(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Og.call(t,r)&&!Pg.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var u=Array(s),d=0;d<s;d++)u[d]=arguments[d+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Zs,type:e,key:o,ref:a,props:i,_owner:jh.current}}function cS(e,t){return{$$typeof:Zs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zs}function fS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zm=/\/+/g;function af(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fS(""+e.key):t.toString(36)}function el(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Zs:case Z1:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+af(a,0):r,Um(i)?(n="",e!=null&&(n=e.replace(zm,"$&/")+"/"),el(i,t,n,"",function(d){return d})):i!=null&&(Fh(i)&&(i=cS(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(zm,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Um(e))for(var s=0;s<e.length;s++){o=e[s];var u=r+af(o,s);a+=el(o,t,n,u,i)}else if(u=lS(e),typeof u=="function")for(e=u.call(e),s=0;!(o=e.next()).done;)o=o.value,u=r+af(o,s++),a+=el(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Lu(e,t,n){if(e==null)return e;var r=[],i=0;return el(e,r,"","",function(o){return t.call(n,o,i++)}),r}function dS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var En={current:null},tl={transition:null},hS={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:tl,ReactCurrentOwner:jh};it.Children={map:Lu,forEach:function(e,t,n){Lu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Lu(e,function(){t++}),t},toArray:function(e){return Lu(e,function(t){return t})||[]},only:function(e){if(!Fh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};it.Component=Pa;it.Fragment=eS;it.Profiler=nS;it.PureComponent=Mh;it.StrictMode=tS;it.Suspense=aS;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hS;it.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xg({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=jh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)Og.call(t,u)&&!Pg.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&s!==void 0?s[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){s=Array(u);for(var d=0;d<u;d++)s[d]=arguments[d+2];r.children=s}return{$$typeof:Zs,type:e.type,key:i,ref:o,props:r,_owner:a}};it.createContext=function(e){return e={$$typeof:iS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rS,_context:e},e.Consumer=e};it.createElement=Dg;it.createFactory=function(e){var t=Dg.bind(null,e);return t.type=e,t};it.createRef=function(){return{current:null}};it.forwardRef=function(e){return{$$typeof:oS,render:e}};it.isValidElement=Fh;it.lazy=function(e){return{$$typeof:uS,_payload:{_status:-1,_result:e},_init:dS}};it.memo=function(e,t){return{$$typeof:sS,type:e,compare:t===void 0?null:t}};it.startTransition=function(e){var t=tl.transition;tl.transition={};try{e()}finally{tl.transition=t}};it.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};it.useCallback=function(e,t){return En.current.useCallback(e,t)};it.useContext=function(e){return En.current.useContext(e)};it.useDebugValue=function(){};it.useDeferredValue=function(e){return En.current.useDeferredValue(e)};it.useEffect=function(e,t){return En.current.useEffect(e,t)};it.useId=function(){return En.current.useId()};it.useImperativeHandle=function(e,t,n){return En.current.useImperativeHandle(e,t,n)};it.useInsertionEffect=function(e,t){return En.current.useInsertionEffect(e,t)};it.useLayoutEffect=function(e,t){return En.current.useLayoutEffect(e,t)};it.useMemo=function(e,t){return En.current.useMemo(e,t)};it.useReducer=function(e,t,n){return En.current.useReducer(e,t,n)};it.useRef=function(e){return En.current.useRef(e)};it.useState=function(e){return En.current.useState(e)};it.useSyncExternalStore=function(e,t,n){return En.current.useSyncExternalStore(e,t,n)};it.useTransition=function(){return En.current.useTransition()};it.version="18.2.0";Eg.exports=it;var pe=Eg.exports;const pS=nc(pe),mS=bg({__proto__:null,default:pS},[pe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vS=pe,yS=Symbol.for("react.element"),gS=Symbol.for("react.fragment"),wS=Object.prototype.hasOwnProperty,_S=vS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bS={key:!0,ref:!0,__self:!0,__source:!0};function Tg(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)wS.call(t,r)&&!bS.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:yS,type:e,key:o,ref:a,props:i,_owner:_S.current}}rc.Fragment=gS;rc.jsx=Tg;rc.jsxs=Tg;Sg.exports=rc;var vt=Sg.exports,dd={},Ig={exports:{}},Kn={},Ag={exports:{}},Lg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(fe,se){var we=fe.length;fe.push(se);e:for(;0<we;){var Ne=we-1>>>1,Ze=fe[Ne];if(0<i(Ze,se))fe[Ne]=se,fe[we]=Ze,we=Ne;else break e}}function n(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var se=fe[0],we=fe.pop();if(we!==se){fe[0]=we;e:for(var Ne=0,Ze=fe.length,je=Ze>>>1;Ne<je;){var Le=2*(Ne+1)-1,ot=fe[Le],at=Le+1,Mt=fe[at];if(0>i(ot,we))at<Ze&&0>i(Mt,ot)?(fe[Ne]=Mt,fe[at]=we,Ne=at):(fe[Ne]=ot,fe[Le]=we,Ne=Le);else if(at<Ze&&0>i(Mt,we))fe[Ne]=Mt,fe[at]=we,Ne=at;else break e}}return se}function i(fe,se){var we=fe.sortIndex-se.sortIndex;return we!==0?we:fe.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var u=[],d=[],m=1,h=null,p=3,w=!1,g=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(fe){for(var se=n(d);se!==null;){if(se.callback===null)r(d);else if(se.startTime<=fe)r(d),se.sortIndex=se.expirationTime,t(u,se);else break;se=n(d)}}function R(fe){if(E=!1,y(fe),!g)if(n(u)!==null)g=!0,Ce(D);else{var se=n(d);se!==null&&Ie(R,se.startTime-fe)}}function D(fe,se){g=!1,E&&(E=!1,S(L),L=-1),w=!0;var we=p;try{for(y(se),h=n(u);h!==null&&(!(h.expirationTime>se)||fe&&!F());){var Ne=h.callback;if(typeof Ne=="function"){h.callback=null,p=h.priorityLevel;var Ze=Ne(h.expirationTime<=se);se=e.unstable_now(),typeof Ze=="function"?h.callback=Ze:h===n(u)&&r(u),y(se)}else r(u);h=n(u)}if(h!==null)var je=!0;else{var Le=n(d);Le!==null&&Ie(R,Le.startTime-se),je=!1}return je}finally{h=null,p=we,w=!1}}var k=!1,P=null,L=-1,B=5,N=-1;function F(){return!(e.unstable_now()-N<B)}function Z(){if(P!==null){var fe=e.unstable_now();N=fe;var se=!0;try{se=P(!0,fe)}finally{se?ue():(k=!1,P=null)}}else k=!1}var ue;if(typeof C=="function")ue=function(){C(Z)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Re=Ee.port2;Ee.port1.onmessage=Z,ue=function(){Re.postMessage(null)}}else ue=function(){I(Z,0)};function Ce(fe){P=fe,k||(k=!0,ue())}function Ie(fe,se){L=I(function(){fe(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fe){fe.callback=null},e.unstable_continueExecution=function(){g||w||(g=!0,Ce(D))},e.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<fe?Math.floor(1e3/fe):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(fe){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var we=p;p=se;try{return fe()}finally{p=we}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fe,se){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var we=p;p=fe;try{return se()}finally{p=we}},e.unstable_scheduleCallback=function(fe,se,we){var Ne=e.unstable_now();switch(typeof we=="object"&&we!==null?(we=we.delay,we=typeof we=="number"&&0<we?Ne+we:Ne):we=Ne,fe){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=we+Ze,fe={id:m++,callback:se,priorityLevel:fe,startTime:we,expirationTime:Ze,sortIndex:-1},we>Ne?(fe.sortIndex=we,t(d,fe),n(u)===null&&fe===n(d)&&(E?(S(L),L=-1):E=!0,Ie(R,we-Ne))):(fe.sortIndex=Ze,t(u,fe),g||w||(g=!0,Ce(D))),fe},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(fe){var se=p;return function(){var we=p;p=se;try{return fe.apply(this,arguments)}finally{p=we}}}})(Lg);Ag.exports=Lg;var SS=Ag.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=pe,zn=SS;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ng=new Set,Cs={};function Po(e,t){ma(e,t),ma(e+"Capture",t)}function ma(e,t){for(Cs[e]=t,e=0;e<t.length;e++)Ng.add(t[e])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=Object.prototype.hasOwnProperty,ES=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qm={},Km={};function CS(e){return hd.call(Km,e)?!0:hd.call(qm,e)?!1:ES.test(e)?Km[e]=!0:(qm[e]=!0,!1)}function xS(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kS(e,t,n,r){if(t===null||typeof t>"u"||xS(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cn(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){nn[e]=new Cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];nn[t]=new Cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){nn[e]=new Cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){nn[e]=new Cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){nn[e]=new Cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){nn[e]=new Cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){nn[e]=new Cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){nn[e]=new Cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){nn[e]=new Cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Bh=/[\-:]([a-z])/g;function $h(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Bh,$h);nn[t]=new Cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Bh,$h);nn[t]=new Cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Bh,$h);nn[t]=new Cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){nn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){nn[e]=new Cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Uh(e,t,n,r){var i=nn.hasOwnProperty(t)?nn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kS(t,n,i,r)&&(n=null),r||i===null?CS(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var li=Mg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mu=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),pd=Symbol.for("react.profiler"),jg=Symbol.for("react.provider"),Fg=Symbol.for("react.context"),qh=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),vd=Symbol.for("react.suspense_list"),Kh=Symbol.for("react.memo"),yi=Symbol.for("react.lazy"),Bg=Symbol.for("react.offscreen"),Wm=Symbol.iterator;function Qa(e){return e===null||typeof e!="object"?null:(e=Wm&&e[Wm]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,sf;function us(e){if(sf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sf=t&&t[1]||""}return`
`+sf+e}var uf=!1;function lf(e,t){if(!e||uf)return"";uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=s);break}}}finally{uf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?us(e):""}function RS(e){switch(e.tag){case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 2:case 15:return e=lf(e.type,!1),e;case 11:return e=lf(e.type.render,!1),e;case 1:return e=lf(e.type,!0),e;default:return""}}function yd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ho:return"Fragment";case Wo:return"Portal";case pd:return"Profiler";case zh:return"StrictMode";case md:return"Suspense";case vd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Fg:return(e.displayName||"Context")+".Consumer";case jg:return(e._context.displayName||"Context")+".Provider";case qh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Kh:return t=e.displayName||null,t!==null?t:yd(e.type)||"Memo";case yi:t=e._payload,e=e._init;try{return yd(e(t))}catch{}}return null}function OS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yd(t);case 8:return t===zh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ji(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $g(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function PS(e){var t=$g(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nu(e){e._valueTracker||(e._valueTracker=PS(e))}function Ug(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$g(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gd(e,t){var n=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ji(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zg(e,t){t=t.checked,t!=null&&Uh(e,"checked",t,!1)}function wd(e,t){zg(e,t);var n=ji(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_d(e,t.type,n):t.hasOwnProperty("defaultValue")&&_d(e,t.type,ji(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function _d(e,t,n){(t!=="number"||vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ls=Array.isArray;function oa(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ji(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(ls(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ji(n)}}function qg(e,t){var n=ji(t.value),r=ji(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ym(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ju,Wg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ju.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DS=["Webkit","ms","Moz","O"];Object.keys(ds).forEach(function(e){DS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ds[t]=ds[e]})});function Hg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ds.hasOwnProperty(e)&&ds[e]?(""+t).trim():t+"px"}function Vg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Hg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var TS=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ed(e,t){if(t){if(TS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function Cd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xd=null;function Wh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kd=null,aa=null,sa=null;function Gm(e){if(e=nu(e)){if(typeof kd!="function")throw Error(he(280));var t=e.stateNode;t&&(t=uc(t),kd(e.stateNode,e.type,t))}}function Qg(e){aa?sa?sa.push(e):sa=[e]:aa=e}function Yg(){if(aa){var e=aa,t=sa;if(sa=aa=null,Gm(e),t)for(e=0;e<t.length;e++)Gm(t[e])}}function Gg(e,t){return e(t)}function Jg(){}var cf=!1;function Xg(e,t,n){if(cf)return e(t,n);cf=!0;try{return Gg(e,t,n)}finally{cf=!1,(aa!==null||sa!==null)&&(Jg(),Yg())}}function ks(e,t){var n=e.stateNode;if(n===null)return null;var r=uc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var Rd=!1;if(Jr)try{var Ya={};Object.defineProperty(Ya,"passive",{get:function(){Rd=!0}}),window.addEventListener("test",Ya,Ya),window.removeEventListener("test",Ya,Ya)}catch{Rd=!1}function IS(e,t,n,r,i,o,a,s,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(m){this.onError(m)}}var hs=!1,yl=null,gl=!1,Od=null,AS={onError:function(e){hs=!0,yl=e}};function LS(e,t,n,r,i,o,a,s,u){hs=!1,yl=null,IS.apply(AS,arguments)}function MS(e,t,n,r,i,o,a,s,u){if(LS.apply(this,arguments),hs){if(hs){var d=yl;hs=!1,yl=null}else throw Error(he(198));gl||(gl=!0,Od=d)}}function Do(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jm(e){if(Do(e)!==e)throw Error(he(188))}function NS(e){var t=e.alternate;if(!t){if(t=Do(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Jm(i),e;if(o===r)return Jm(i),t;o=o.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function e0(e){return e=NS(e),e!==null?t0(e):null}function t0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=t0(e);if(t!==null)return t;e=e.sibling}return null}var n0=zn.unstable_scheduleCallback,Xm=zn.unstable_cancelCallback,jS=zn.unstable_shouldYield,FS=zn.unstable_requestPaint,Ft=zn.unstable_now,BS=zn.unstable_getCurrentPriorityLevel,Hh=zn.unstable_ImmediatePriority,r0=zn.unstable_UserBlockingPriority,wl=zn.unstable_NormalPriority,$S=zn.unstable_LowPriority,i0=zn.unstable_IdlePriority,ic=null,Mr=null;function US(e){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(ic,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:KS,zS=Math.log,qS=Math.LN2;function KS(e){return e>>>=0,e===0?32:31-(zS(e)/qS|0)|0}var Fu=64,Bu=4194304;function cs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _l(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=cs(s):(o&=a,o!==0&&(r=cs(o)))}else a=n&~i,a!==0?r=cs(a):o!==0&&(r=cs(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_r(t),i=1<<n,r|=e[n],t&=~i;return r}function WS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-_r(o),s=1<<a,u=i[a];u===-1?(!(s&n)||s&r)&&(i[a]=WS(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}function Pd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function o0(){var e=Fu;return Fu<<=1,!(Fu&4194240)&&(Fu=64),e}function ff(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function eu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=n}function VS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-_r(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Vh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_r(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pt=0;function a0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var s0,Qh,u0,l0,c0,Dd=!1,$u=[],Ri=null,Oi=null,Pi=null,Rs=new Map,Os=new Map,_i=[],QS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zm(e,t){switch(e){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(t.pointerId)}}function Ga(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=nu(t),t!==null&&Qh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function YS(e,t,n,r,i){switch(t){case"focusin":return Ri=Ga(Ri,e,t,n,r,i),!0;case"dragenter":return Oi=Ga(Oi,e,t,n,r,i),!0;case"mouseover":return Pi=Ga(Pi,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rs.set(o,Ga(Rs.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Os.set(o,Ga(Os.get(o)||null,e,t,n,r,i)),!0}return!1}function f0(e){var t=no(e.target);if(t!==null){var n=Do(t);if(n!==null){if(t=n.tag,t===13){if(t=Zg(n),t!==null){e.blockedOn=t,c0(e.priority,function(){u0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Td(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);xd=r,n.target.dispatchEvent(r),xd=null}else return t=nu(n),t!==null&&Qh(t),e.blockedOn=n,!1;t.shift()}return!0}function ev(e,t,n){nl(e)&&n.delete(t)}function GS(){Dd=!1,Ri!==null&&nl(Ri)&&(Ri=null),Oi!==null&&nl(Oi)&&(Oi=null),Pi!==null&&nl(Pi)&&(Pi=null),Rs.forEach(ev),Os.forEach(ev)}function Ja(e,t){e.blockedOn===t&&(e.blockedOn=null,Dd||(Dd=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,GS)))}function Ps(e){function t(i){return Ja(i,e)}if(0<$u.length){Ja($u[0],e);for(var n=1;n<$u.length;n++){var r=$u[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ri!==null&&Ja(Ri,e),Oi!==null&&Ja(Oi,e),Pi!==null&&Ja(Pi,e),Rs.forEach(t),Os.forEach(t),n=0;n<_i.length;n++)r=_i[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<_i.length&&(n=_i[0],n.blockedOn===null);)f0(n),n.blockedOn===null&&_i.shift()}var ua=li.ReactCurrentBatchConfig,bl=!0;function JS(e,t,n,r){var i=pt,o=ua.transition;ua.transition=null;try{pt=1,Yh(e,t,n,r)}finally{pt=i,ua.transition=o}}function XS(e,t,n,r){var i=pt,o=ua.transition;ua.transition=null;try{pt=4,Yh(e,t,n,r)}finally{pt=i,ua.transition=o}}function Yh(e,t,n,r){if(bl){var i=Td(e,t,n,r);if(i===null)bf(e,t,r,Sl,n),Zm(e,r);else if(YS(i,e,t,n,r))r.stopPropagation();else if(Zm(e,r),t&4&&-1<QS.indexOf(e)){for(;i!==null;){var o=nu(i);if(o!==null&&s0(o),o=Td(e,t,n,r),o===null&&bf(e,t,r,Sl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else bf(e,t,r,null,n)}}var Sl=null;function Td(e,t,n,r){if(Sl=null,e=Wh(r),e=no(e),e!==null)if(t=Do(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Zg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sl=e,null}function d0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BS()){case Hh:return 1;case r0:return 4;case wl:case $S:return 16;case i0:return 536870912;default:return 16}default:return 16}}var Si=null,Gh=null,rl=null;function h0(){if(rl)return rl;var e,t=Gh,n=t.length,r,i="value"in Si?Si.value:Si.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return rl=i.slice(e,1<r?1-r:void 0)}function il(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uu(){return!0}function tv(){return!1}function Wn(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Uu:tv,this.isPropagationStopped=tv,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),t}var Da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jh=Wn(Da),tu=Dt({},Da,{view:0,detail:0}),ZS=Wn(tu),df,hf,Xa,oc=Dt({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xa&&(Xa&&e.type==="mousemove"?(df=e.screenX-Xa.screenX,hf=e.screenY-Xa.screenY):hf=df=0,Xa=e),df)},movementY:function(e){return"movementY"in e?e.movementY:hf}}),nv=Wn(oc),eE=Dt({},oc,{dataTransfer:0}),tE=Wn(eE),nE=Dt({},tu,{relatedTarget:0}),pf=Wn(nE),rE=Dt({},Da,{animationName:0,elapsedTime:0,pseudoElement:0}),iE=Wn(rE),oE=Dt({},Da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aE=Wn(oE),sE=Dt({},Da,{data:0}),rv=Wn(sE),uE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cE[e])?!!t[e]:!1}function Xh(){return fE}var dE=Dt({},tu,{key:function(e){if(e.key){var t=uE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=il(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xh,charCode:function(e){return e.type==="keypress"?il(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?il(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hE=Wn(dE),pE=Dt({},oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iv=Wn(pE),mE=Dt({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xh}),vE=Wn(mE),yE=Dt({},Da,{propertyName:0,elapsedTime:0,pseudoElement:0}),gE=Wn(yE),wE=Dt({},oc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_E=Wn(wE),bE=[9,13,27,32],Zh=Jr&&"CompositionEvent"in window,ps=null;Jr&&"documentMode"in document&&(ps=document.documentMode);var SE=Jr&&"TextEvent"in window&&!ps,p0=Jr&&(!Zh||ps&&8<ps&&11>=ps),ov=" ",av=!1;function m0(e,t){switch(e){case"keyup":return bE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vo=!1;function EE(e,t){switch(e){case"compositionend":return v0(t);case"keypress":return t.which!==32?null:(av=!0,ov);case"textInput":return e=t.data,e===ov&&av?null:e;default:return null}}function CE(e,t){if(Vo)return e==="compositionend"||!Zh&&m0(e,t)?(e=h0(),rl=Gh=Si=null,Vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p0&&t.locale!=="ko"?null:t.data;default:return null}}var xE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xE[e.type]:t==="textarea"}function y0(e,t,n,r){Qg(r),t=El(t,"onChange"),0<t.length&&(n=new Jh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ms=null,Ds=null;function kE(e){O0(e,0)}function ac(e){var t=Go(e);if(Ug(t))return e}function RE(e,t){if(e==="change")return t}var g0=!1;if(Jr){var mf;if(Jr){var vf="oninput"in document;if(!vf){var uv=document.createElement("div");uv.setAttribute("oninput","return;"),vf=typeof uv.oninput=="function"}mf=vf}else mf=!1;g0=mf&&(!document.documentMode||9<document.documentMode)}function lv(){ms&&(ms.detachEvent("onpropertychange",w0),Ds=ms=null)}function w0(e){if(e.propertyName==="value"&&ac(Ds)){var t=[];y0(t,Ds,e,Wh(e)),Xg(kE,t)}}function OE(e,t,n){e==="focusin"?(lv(),ms=t,Ds=n,ms.attachEvent("onpropertychange",w0)):e==="focusout"&&lv()}function PE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ac(Ds)}function DE(e,t){if(e==="click")return ac(t)}function TE(e,t){if(e==="input"||e==="change")return ac(t)}function IE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sr=typeof Object.is=="function"?Object.is:IE;function Ts(e,t){if(Sr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hd.call(t,i)||!Sr(e[i],t[i]))return!1}return!0}function cv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fv(e,t){var n=cv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cv(n)}}function _0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function b0(){for(var e=window,t=vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vl(e.document)}return t}function ep(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AE(e){var t=b0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_0(n.ownerDocument.documentElement,n)){if(r!==null&&ep(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=fv(n,o);var a=fv(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LE=Jr&&"documentMode"in document&&11>=document.documentMode,Qo=null,Id=null,vs=null,Ad=!1;function dv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ad||Qo==null||Qo!==vl(r)||(r=Qo,"selectionStart"in r&&ep(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vs&&Ts(vs,r)||(vs=r,r=El(Id,"onSelect"),0<r.length&&(t=new Jh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qo)))}function zu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Yo={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},yf={},S0={};Jr&&(S0=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function sc(e){if(yf[e])return yf[e];if(!Yo[e])return e;var t=Yo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in S0)return yf[e]=t[n];return e}var E0=sc("animationend"),C0=sc("animationiteration"),x0=sc("animationstart"),k0=sc("transitionend"),R0=new Map,hv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(e,t){R0.set(e,t),Po(t,[e])}for(var gf=0;gf<hv.length;gf++){var wf=hv[gf],ME=wf.toLowerCase(),NE=wf[0].toUpperCase()+wf.slice(1);Bi(ME,"on"+NE)}Bi(E0,"onAnimationEnd");Bi(C0,"onAnimationIteration");Bi(x0,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(k0,"onTransitionEnd");ma("onMouseEnter",["mouseout","mouseover"]);ma("onMouseLeave",["mouseout","mouseover"]);ma("onPointerEnter",["pointerout","pointerover"]);ma("onPointerLeave",["pointerout","pointerover"]);Po("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Po("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Po("onBeforeInput",["compositionend","keypress","textInput","paste"]);Po("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Po("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jE=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function pv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,MS(r,t,void 0,e),e.currentTarget=null}function O0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,d=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;pv(i,s,d),o=u}else for(a=0;a<r.length;a++){if(s=r[a],u=s.instance,d=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;pv(i,s,d),o=u}}}if(gl)throw e=Od,gl=!1,Od=null,e}function Et(e,t){var n=t[Fd];n===void 0&&(n=t[Fd]=new Set);var r=e+"__bubble";n.has(r)||(P0(t,e,2,!1),n.add(r))}function _f(e,t,n){var r=0;t&&(r|=4),P0(n,e,r,t)}var qu="_reactListening"+Math.random().toString(36).slice(2);function Is(e){if(!e[qu]){e[qu]=!0,Ng.forEach(function(n){n!=="selectionchange"&&(jE.has(n)||_f(n,!1,e),_f(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qu]||(t[qu]=!0,_f("selectionchange",!1,t))}}function P0(e,t,n,r){switch(d0(t)){case 1:var i=JS;break;case 4:i=XS;break;default:i=Yh}n=i.bind(null,t,n,e),i=void 0,!Rd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function bf(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;s!==null;){if(a=no(s),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}s=s.parentNode}}r=r.return}Xg(function(){var d=o,m=Wh(n),h=[];e:{var p=R0.get(e);if(p!==void 0){var w=Jh,g=e;switch(e){case"keypress":if(il(n)===0)break e;case"keydown":case"keyup":w=hE;break;case"focusin":g="focus",w=pf;break;case"focusout":g="blur",w=pf;break;case"beforeblur":case"afterblur":w=pf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=tE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=vE;break;case E0:case C0:case x0:w=iE;break;case k0:w=gE;break;case"scroll":w=ZS;break;case"wheel":w=_E;break;case"copy":case"cut":case"paste":w=aE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=iv}var E=(t&4)!==0,I=!E&&e==="scroll",S=E?p!==null?p+"Capture":null:p;E=[];for(var C=d,y;C!==null;){y=C;var R=y.stateNode;if(y.tag===5&&R!==null&&(y=R,S!==null&&(R=ks(C,S),R!=null&&E.push(As(C,R,y)))),I)break;C=C.return}0<E.length&&(p=new w(p,g,null,n,m),h.push({event:p,listeners:E}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",p&&n!==xd&&(g=n.relatedTarget||n.fromElement)&&(no(g)||g[Xr]))break e;if((w||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,w?(g=n.relatedTarget||n.toElement,w=d,g=g?no(g):null,g!==null&&(I=Do(g),g!==I||g.tag!==5&&g.tag!==6)&&(g=null)):(w=null,g=d),w!==g)){if(E=nv,R="onMouseLeave",S="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(E=iv,R="onPointerLeave",S="onPointerEnter",C="pointer"),I=w==null?p:Go(w),y=g==null?p:Go(g),p=new E(R,C+"leave",w,n,m),p.target=I,p.relatedTarget=y,R=null,no(m)===d&&(E=new E(S,C+"enter",g,n,m),E.target=y,E.relatedTarget=I,R=E),I=R,w&&g)t:{for(E=w,S=g,C=0,y=E;y;y=qo(y))C++;for(y=0,R=S;R;R=qo(R))y++;for(;0<C-y;)E=qo(E),C--;for(;0<y-C;)S=qo(S),y--;for(;C--;){if(E===S||S!==null&&E===S.alternate)break t;E=qo(E),S=qo(S)}E=null}else E=null;w!==null&&mv(h,p,w,E,!1),g!==null&&I!==null&&mv(h,I,g,E,!0)}}e:{if(p=d?Go(d):window,w=p.nodeName&&p.nodeName.toLowerCase(),w==="select"||w==="input"&&p.type==="file")var D=RE;else if(sv(p))if(g0)D=TE;else{D=PE;var k=OE}else(w=p.nodeName)&&w.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=DE);if(D&&(D=D(e,d))){y0(h,D,n,m);break e}k&&k(e,p,d),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&_d(p,"number",p.value)}switch(k=d?Go(d):window,e){case"focusin":(sv(k)||k.contentEditable==="true")&&(Qo=k,Id=d,vs=null);break;case"focusout":vs=Id=Qo=null;break;case"mousedown":Ad=!0;break;case"contextmenu":case"mouseup":case"dragend":Ad=!1,dv(h,n,m);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":dv(h,n,m)}var P;if(Zh)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Vo?m0(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(p0&&n.locale!=="ko"&&(Vo||L!=="onCompositionStart"?L==="onCompositionEnd"&&Vo&&(P=h0()):(Si=m,Gh="value"in Si?Si.value:Si.textContent,Vo=!0)),k=El(d,L),0<k.length&&(L=new rv(L,e,null,n,m),h.push({event:L,listeners:k}),P?L.data=P:(P=v0(n),P!==null&&(L.data=P)))),(P=SE?EE(e,n):CE(e,n))&&(d=El(d,"onBeforeInput"),0<d.length&&(m=new rv("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:d}),m.data=P))}O0(h,t)})}function As(e,t,n){return{instance:e,listener:t,currentTarget:n}}function El(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ks(e,n),o!=null&&r.unshift(As(e,o,i)),o=ks(e,t),o!=null&&r.push(As(e,o,i))),e=e.return}return r}function qo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mv(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,u=s.alternate,d=s.stateNode;if(u!==null&&u===r)break;s.tag===5&&d!==null&&(s=d,i?(u=ks(n,o),u!=null&&a.unshift(As(n,u,s))):i||(u=ks(n,o),u!=null&&a.push(As(n,u,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var FE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function vv(e){return(typeof e=="string"?e:""+e).replace(FE,`
`).replace(BE,"")}function Ku(e,t,n){if(t=vv(t),vv(e)!==t&&n)throw Error(he(425))}function Cl(){}var Ld=null,Md=null;function Nd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,$E=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(e){return yv.resolve(null).then(e).catch(zE)}:jd;function zE(e){setTimeout(function(){throw e})}function Sf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ps(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ps(t)}function Di(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ta=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Ta,Ls="__reactProps$"+Ta,Xr="__reactContainer$"+Ta,Fd="__reactEvents$"+Ta,qE="__reactListeners$"+Ta,KE="__reactHandles$"+Ta;function no(e){var t=e[Tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xr]||n[Tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gv(e);e!==null;){if(n=e[Tr])return n;e=gv(e)}return t}e=n,n=e.parentNode}return null}function nu(e){return e=e[Tr]||e[Xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Go(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function uc(e){return e[Ls]||null}var Bd=[],Jo=-1;function $i(e){return{current:e}}function Ct(e){0>Jo||(e.current=Bd[Jo],Bd[Jo]=null,Jo--)}function bt(e,t){Jo++,Bd[Jo]=e.current,e.current=t}var Fi={},dn=$i(Fi),Rn=$i(!1),mo=Fi;function va(e,t){var n=e.type.contextTypes;if(!n)return Fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function On(e){return e=e.childContextTypes,e!=null}function xl(){Ct(Rn),Ct(dn)}function wv(e,t,n){if(dn.current!==Fi)throw Error(he(168));bt(dn,t),bt(Rn,n)}function D0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(he(108,OS(e)||"Unknown",i));return Dt({},n,r)}function kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fi,mo=dn.current,bt(dn,e),bt(Rn,Rn.current),!0}function _v(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=D0(e,t,mo),r.__reactInternalMemoizedMergedChildContext=e,Ct(Rn),Ct(dn),bt(dn,e)):Ct(Rn),bt(Rn,n)}var Kr=null,lc=!1,Ef=!1;function T0(e){Kr===null?Kr=[e]:Kr.push(e)}function WE(e){lc=!0,T0(e)}function Ui(){if(!Ef&&Kr!==null){Ef=!0;var e=0,t=pt;try{var n=Kr;for(pt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kr=null,lc=!1}catch(i){throw Kr!==null&&(Kr=Kr.slice(e+1)),n0(Hh,Ui),i}finally{pt=t,Ef=!1}}return null}var Xo=[],Zo=0,Rl=null,Ol=0,tr=[],nr=0,vo=null,Wr=1,Hr="";function Zi(e,t){Xo[Zo++]=Ol,Xo[Zo++]=Rl,Rl=e,Ol=t}function I0(e,t,n){tr[nr++]=Wr,tr[nr++]=Hr,tr[nr++]=vo,vo=e;var r=Wr;e=Hr;var i=32-_r(r)-1;r&=~(1<<i),n+=1;var o=32-_r(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wr=1<<32-_r(t)+i|n<<i|r,Hr=o+e}else Wr=1<<o|n<<i|r,Hr=e}function tp(e){e.return!==null&&(Zi(e,1),I0(e,1,0))}function np(e){for(;e===Rl;)Rl=Xo[--Zo],Xo[Zo]=null,Ol=Xo[--Zo],Xo[Zo]=null;for(;e===vo;)vo=tr[--nr],tr[nr]=null,Hr=tr[--nr],tr[nr]=null,Wr=tr[--nr],tr[nr]=null}var $n=null,Fn=null,kt=!1,gr=null;function A0(e,t){var n=rr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function bv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$n=e,Fn=Di(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$n=e,Fn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vo!==null?{id:Wr,overflow:Hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,$n=e,Fn=null,!0):!1;default:return!1}}function $d(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ud(e){if(kt){var t=Fn;if(t){var n=t;if(!bv(e,t)){if($d(e))throw Error(he(418));t=Di(n.nextSibling);var r=$n;t&&bv(e,t)?A0(r,n):(e.flags=e.flags&-4097|2,kt=!1,$n=e)}}else{if($d(e))throw Error(he(418));e.flags=e.flags&-4097|2,kt=!1,$n=e}}}function Sv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$n=e}function Wu(e){if(e!==$n)return!1;if(!kt)return Sv(e),kt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nd(e.type,e.memoizedProps)),t&&(t=Fn)){if($d(e))throw L0(),Error(he(418));for(;t;)A0(e,t),t=Di(t.nextSibling)}if(Sv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Fn=Di(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Fn=null}}else Fn=$n?Di(e.stateNode.nextSibling):null;return!0}function L0(){for(var e=Fn;e;)e=Di(e.nextSibling)}function ya(){Fn=$n=null,kt=!1}function rp(e){gr===null?gr=[e]:gr.push(e)}var HE=li.ReactCurrentBatchConfig;function mr(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Pl=$i(null),Dl=null,ea=null,ip=null;function op(){ip=ea=Dl=null}function ap(e){var t=Pl.current;Ct(Pl),e._currentValue=t}function zd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function la(e,t){Dl=e,ip=ea=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(kn=!0),e.firstContext=null)}function ar(e){var t=e._currentValue;if(ip!==e)if(e={context:e,memoizedValue:t,next:null},ea===null){if(Dl===null)throw Error(he(308));ea=e,Dl.dependencies={lanes:0,firstContext:e}}else ea=ea.next=e;return t}var ro=null;function sp(e){ro===null?ro=[e]:ro.push(e)}function M0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,sp(t)):(n.next=i.next,i.next=n),t.interleaved=n,Zr(e,r)}function Zr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var gi=!1;function up(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,st&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Zr(e,n)}return i=r.interleaved,i===null?(t.next=t,sp(r)):(t.next=i.next,i.next=t),r.interleaved=t,Zr(e,n)}function ol(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vh(e,n)}}function Ev(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Tl(e,t,n,r){var i=e.updateQueue;gi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var u=s,d=u.next;u.next=null,a===null?o=d:a.next=d,a=u;var m=e.alternate;m!==null&&(m=m.updateQueue,s=m.lastBaseUpdate,s!==a&&(s===null?m.firstBaseUpdate=d:s.next=d,m.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;a=0,m=d=u=null,s=o;do{var p=s.lane,w=s.eventTime;if((r&p)===p){m!==null&&(m=m.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,E=s;switch(p=t,w=n,E.tag){case 1:if(g=E.payload,typeof g=="function"){h=g.call(w,h,p);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=E.payload,p=typeof g=="function"?g.call(w,h,p):g,p==null)break e;h=Dt({},h,p);break e;case 2:gi=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[s]:p.push(s))}else w={eventTime:w,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},m===null?(d=m=w,u=h):m=m.next=w,a|=p;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(m===null&&(u=h),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);go|=a,e.lanes=a,e.memoizedState=h}}function Cv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var j0=new Mg.Component().refs;function qd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Dt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var cc={isMounted:function(e){return(e=e._reactInternals)?Do(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Sn(),i=Ai(e),o=Vr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ti(e,o,i),t!==null&&(br(t,e,i,r),ol(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Sn(),i=Ai(e),o=Vr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ti(e,o,i),t!==null&&(br(t,e,i,r),ol(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Sn(),r=Ai(e),i=Vr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ti(e,i,r),t!==null&&(br(t,e,r,n),ol(t,e,r))}};function xv(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ts(n,r)||!Ts(i,o):!0}function F0(e,t,n){var r=!1,i=Fi,o=t.contextType;return typeof o=="object"&&o!==null?o=ar(o):(i=On(t)?mo:dn.current,r=t.contextTypes,o=(r=r!=null)?va(e,i):Fi),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function kv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&cc.enqueueReplaceState(t,t.state,null)}function Kd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=j0,up(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ar(o):(o=On(t)?mo:dn.current,i.context=va(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(qd(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cc.enqueueReplaceState(i,i.state,null),Tl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Za(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===j0&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function Hu(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rv(e){var t=e._init;return t(e._payload)}function B0(e){function t(S,C){if(e){var y=S.deletions;y===null?(S.deletions=[C],S.flags|=16):y.push(C)}}function n(S,C){if(!e)return null;for(;C!==null;)t(S,C),C=C.sibling;return null}function r(S,C){for(S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function i(S,C){return S=Li(S,C),S.index=0,S.sibling=null,S}function o(S,C,y){return S.index=y,e?(y=S.alternate,y!==null?(y=y.index,y<C?(S.flags|=2,C):y):(S.flags|=2,C)):(S.flags|=1048576,C)}function a(S){return e&&S.alternate===null&&(S.flags|=2),S}function s(S,C,y,R){return C===null||C.tag!==6?(C=Df(y,S.mode,R),C.return=S,C):(C=i(C,y),C.return=S,C)}function u(S,C,y,R){var D=y.type;return D===Ho?m(S,C,y.props.children,R,y.key):C!==null&&(C.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===yi&&Rv(D)===C.type)?(R=i(C,y.props),R.ref=Za(S,C,y),R.return=S,R):(R=fl(y.type,y.key,y.props,null,S.mode,R),R.ref=Za(S,C,y),R.return=S,R)}function d(S,C,y,R){return C===null||C.tag!==4||C.stateNode.containerInfo!==y.containerInfo||C.stateNode.implementation!==y.implementation?(C=Tf(y,S.mode,R),C.return=S,C):(C=i(C,y.children||[]),C.return=S,C)}function m(S,C,y,R,D){return C===null||C.tag!==7?(C=lo(y,S.mode,R,D),C.return=S,C):(C=i(C,y),C.return=S,C)}function h(S,C,y){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Df(""+C,S.mode,y),C.return=S,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Mu:return y=fl(C.type,C.key,C.props,null,S.mode,y),y.ref=Za(S,null,C),y.return=S,y;case Wo:return C=Tf(C,S.mode,y),C.return=S,C;case yi:var R=C._init;return h(S,R(C._payload),y)}if(ls(C)||Qa(C))return C=lo(C,S.mode,y,null),C.return=S,C;Hu(S,C)}return null}function p(S,C,y,R){var D=C!==null?C.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return D!==null?null:s(S,C,""+y,R);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Mu:return y.key===D?u(S,C,y,R):null;case Wo:return y.key===D?d(S,C,y,R):null;case yi:return D=y._init,p(S,C,D(y._payload),R)}if(ls(y)||Qa(y))return D!==null?null:m(S,C,y,R,null);Hu(S,y)}return null}function w(S,C,y,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return S=S.get(y)||null,s(C,S,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Mu:return S=S.get(R.key===null?y:R.key)||null,u(C,S,R,D);case Wo:return S=S.get(R.key===null?y:R.key)||null,d(C,S,R,D);case yi:var k=R._init;return w(S,C,y,k(R._payload),D)}if(ls(R)||Qa(R))return S=S.get(y)||null,m(C,S,R,D,null);Hu(C,R)}return null}function g(S,C,y,R){for(var D=null,k=null,P=C,L=C=0,B=null;P!==null&&L<y.length;L++){P.index>L?(B=P,P=null):B=P.sibling;var N=p(S,P,y[L],R);if(N===null){P===null&&(P=B);break}e&&P&&N.alternate===null&&t(S,P),C=o(N,C,L),k===null?D=N:k.sibling=N,k=N,P=B}if(L===y.length)return n(S,P),kt&&Zi(S,L),D;if(P===null){for(;L<y.length;L++)P=h(S,y[L],R),P!==null&&(C=o(P,C,L),k===null?D=P:k.sibling=P,k=P);return kt&&Zi(S,L),D}for(P=r(S,P);L<y.length;L++)B=w(P,S,L,y[L],R),B!==null&&(e&&B.alternate!==null&&P.delete(B.key===null?L:B.key),C=o(B,C,L),k===null?D=B:k.sibling=B,k=B);return e&&P.forEach(function(F){return t(S,F)}),kt&&Zi(S,L),D}function E(S,C,y,R){var D=Qa(y);if(typeof D!="function")throw Error(he(150));if(y=D.call(y),y==null)throw Error(he(151));for(var k=D=null,P=C,L=C=0,B=null,N=y.next();P!==null&&!N.done;L++,N=y.next()){P.index>L?(B=P,P=null):B=P.sibling;var F=p(S,P,N.value,R);if(F===null){P===null&&(P=B);break}e&&P&&F.alternate===null&&t(S,P),C=o(F,C,L),k===null?D=F:k.sibling=F,k=F,P=B}if(N.done)return n(S,P),kt&&Zi(S,L),D;if(P===null){for(;!N.done;L++,N=y.next())N=h(S,N.value,R),N!==null&&(C=o(N,C,L),k===null?D=N:k.sibling=N,k=N);return kt&&Zi(S,L),D}for(P=r(S,P);!N.done;L++,N=y.next())N=w(P,S,L,N.value,R),N!==null&&(e&&N.alternate!==null&&P.delete(N.key===null?L:N.key),C=o(N,C,L),k===null?D=N:k.sibling=N,k=N);return e&&P.forEach(function(Z){return t(S,Z)}),kt&&Zi(S,L),D}function I(S,C,y,R){if(typeof y=="object"&&y!==null&&y.type===Ho&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Mu:e:{for(var D=y.key,k=C;k!==null;){if(k.key===D){if(D=y.type,D===Ho){if(k.tag===7){n(S,k.sibling),C=i(k,y.props.children),C.return=S,S=C;break e}}else if(k.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===yi&&Rv(D)===k.type){n(S,k.sibling),C=i(k,y.props),C.ref=Za(S,k,y),C.return=S,S=C;break e}n(S,k);break}else t(S,k);k=k.sibling}y.type===Ho?(C=lo(y.props.children,S.mode,R,y.key),C.return=S,S=C):(R=fl(y.type,y.key,y.props,null,S.mode,R),R.ref=Za(S,C,y),R.return=S,S=R)}return a(S);case Wo:e:{for(k=y.key;C!==null;){if(C.key===k)if(C.tag===4&&C.stateNode.containerInfo===y.containerInfo&&C.stateNode.implementation===y.implementation){n(S,C.sibling),C=i(C,y.children||[]),C.return=S,S=C;break e}else{n(S,C);break}else t(S,C);C=C.sibling}C=Tf(y,S.mode,R),C.return=S,S=C}return a(S);case yi:return k=y._init,I(S,C,k(y._payload),R)}if(ls(y))return g(S,C,y,R);if(Qa(y))return E(S,C,y,R);Hu(S,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,C!==null&&C.tag===6?(n(S,C.sibling),C=i(C,y),C.return=S,S=C):(n(S,C),C=Df(y,S.mode,R),C.return=S,S=C),a(S)):n(S,C)}return I}var ga=B0(!0),$0=B0(!1),ru={},Nr=$i(ru),Ms=$i(ru),Ns=$i(ru);function io(e){if(e===ru)throw Error(he(174));return e}function lp(e,t){switch(bt(Ns,t),bt(Ms,e),bt(Nr,ru),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sd(t,e)}Ct(Nr),bt(Nr,t)}function wa(){Ct(Nr),Ct(Ms),Ct(Ns)}function U0(e){io(Ns.current);var t=io(Nr.current),n=Sd(t,e.type);t!==n&&(bt(Ms,e),bt(Nr,n))}function cp(e){Ms.current===e&&(Ct(Nr),Ct(Ms))}var Ot=$i(0);function Il(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cf=[];function fp(){for(var e=0;e<Cf.length;e++)Cf[e]._workInProgressVersionPrimary=null;Cf.length=0}var al=li.ReactCurrentDispatcher,xf=li.ReactCurrentBatchConfig,yo=0,Pt=null,Ht=null,Yt=null,Al=!1,ys=!1,js=0,VE=0;function un(){throw Error(he(321))}function dp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Sr(e[n],t[n]))return!1;return!0}function hp(e,t,n,r,i,o){if(yo=o,Pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=e===null||e.memoizedState===null?JE:XE,e=n(r,i),ys){o=0;do{if(ys=!1,js=0,25<=o)throw Error(he(301));o+=1,Yt=Ht=null,t.updateQueue=null,al.current=ZE,e=n(r,i)}while(ys)}if(al.current=Ll,t=Ht!==null&&Ht.next!==null,yo=0,Yt=Ht=Pt=null,Al=!1,t)throw Error(he(300));return e}function pp(){var e=js!==0;return js=0,e}function Dr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Pt.memoizedState=Yt=e:Yt=Yt.next=e,Yt}function sr(){if(Ht===null){var e=Pt.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=Yt===null?Pt.memoizedState:Yt.next;if(t!==null)Yt=t,Ht=e;else{if(e===null)throw Error(he(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Yt===null?Pt.memoizedState=Yt=e:Yt=Yt.next=e}return Yt}function Fs(e,t){return typeof t=="function"?t(e):t}function kf(e){var t=sr(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=Ht,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,u=null,d=o;do{var m=d.lane;if((yo&m)===m)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:m,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(s=u=h,a=r):u=u.next=h,Pt.lanes|=m,go|=m}d=d.next}while(d!==null&&d!==o);u===null?a=r:u.next=s,Sr(r,t.memoizedState)||(kn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Pt.lanes|=o,go|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rf(e){var t=sr(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Sr(o,t.memoizedState)||(kn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function z0(){}function q0(e,t){var n=Pt,r=sr(),i=t(),o=!Sr(r.memoizedState,i);if(o&&(r.memoizedState=i,kn=!0),r=r.queue,mp(H0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Yt!==null&&Yt.memoizedState.tag&1){if(n.flags|=2048,Bs(9,W0.bind(null,n,r,i,t),void 0,null),Gt===null)throw Error(he(349));yo&30||K0(n,t,i)}return i}function K0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function W0(e,t,n,r){t.value=n,t.getSnapshot=r,V0(t)&&Q0(e)}function H0(e,t,n){return n(function(){V0(t)&&Q0(e)})}function V0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sr(e,n)}catch{return!0}}function Q0(e){var t=Zr(e,1);t!==null&&br(t,e,1,-1)}function Ov(e){var t=Dr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:e},t.queue=e,e=e.dispatch=GE.bind(null,Pt,e),[t.memoizedState,e]}function Bs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pt.updateQueue,t===null?(t={lastEffect:null,stores:null},Pt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Y0(){return sr().memoizedState}function sl(e,t,n,r){var i=Dr();Pt.flags|=e,i.memoizedState=Bs(1|t,n,void 0,r===void 0?null:r)}function fc(e,t,n,r){var i=sr();r=r===void 0?null:r;var o=void 0;if(Ht!==null){var a=Ht.memoizedState;if(o=a.destroy,r!==null&&dp(r,a.deps)){i.memoizedState=Bs(t,n,o,r);return}}Pt.flags|=e,i.memoizedState=Bs(1|t,n,o,r)}function Pv(e,t){return sl(8390656,8,e,t)}function mp(e,t){return fc(2048,8,e,t)}function G0(e,t){return fc(4,2,e,t)}function J0(e,t){return fc(4,4,e,t)}function X0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Z0(e,t,n){return n=n!=null?n.concat([e]):null,fc(4,4,X0.bind(null,t,e),n)}function vp(){}function ew(e,t){var n=sr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tw(e,t){var n=sr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&dp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nw(e,t,n){return yo&21?(Sr(n,t)||(n=o0(),Pt.lanes|=n,go|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,kn=!0),e.memoizedState=n)}function QE(e,t){var n=pt;pt=n!==0&&4>n?n:4,e(!0);var r=xf.transition;xf.transition={};try{e(!1),t()}finally{pt=n,xf.transition=r}}function rw(){return sr().memoizedState}function YE(e,t,n){var r=Ai(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},iw(e))ow(t,n);else if(n=M0(e,t,n,r),n!==null){var i=Sn();br(n,e,r,i),aw(n,t,r)}}function GE(e,t,n){var r=Ai(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(iw(e))ow(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Sr(s,a)){var u=t.interleaved;u===null?(i.next=i,sp(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=M0(e,t,i,r),n!==null&&(i=Sn(),br(n,e,r,i),aw(n,t,r))}}function iw(e){var t=e.alternate;return e===Pt||t!==null&&t===Pt}function ow(e,t){ys=Al=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function aw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Vh(e,n)}}var Ll={readContext:ar,useCallback:un,useContext:un,useEffect:un,useImperativeHandle:un,useInsertionEffect:un,useLayoutEffect:un,useMemo:un,useReducer:un,useRef:un,useState:un,useDebugValue:un,useDeferredValue:un,useTransition:un,useMutableSource:un,useSyncExternalStore:un,useId:un,unstable_isNewReconciler:!1},JE={readContext:ar,useCallback:function(e,t){return Dr().memoizedState=[e,t===void 0?null:t],e},useContext:ar,useEffect:Pv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,sl(4194308,4,X0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return sl(4,2,e,t)},useMemo:function(e,t){var n=Dr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Dr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=YE.bind(null,Pt,e),[r.memoizedState,e]},useRef:function(e){var t=Dr();return e={current:e},t.memoizedState=e},useState:Ov,useDebugValue:vp,useDeferredValue:function(e){return Dr().memoizedState=e},useTransition:function(){var e=Ov(!1),t=e[0];return e=QE.bind(null,e[1]),Dr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pt,i=Dr();if(kt){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),Gt===null)throw Error(he(349));yo&30||K0(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Pv(H0.bind(null,r,o,e),[e]),r.flags|=2048,Bs(9,W0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Dr(),t=Gt.identifierPrefix;if(kt){var n=Hr,r=Wr;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=js++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=VE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},XE={readContext:ar,useCallback:ew,useContext:ar,useEffect:mp,useImperativeHandle:Z0,useInsertionEffect:G0,useLayoutEffect:J0,useMemo:tw,useReducer:kf,useRef:Y0,useState:function(){return kf(Fs)},useDebugValue:vp,useDeferredValue:function(e){var t=sr();return nw(t,Ht.memoizedState,e)},useTransition:function(){var e=kf(Fs)[0],t=sr().memoizedState;return[e,t]},useMutableSource:z0,useSyncExternalStore:q0,useId:rw,unstable_isNewReconciler:!1},ZE={readContext:ar,useCallback:ew,useContext:ar,useEffect:mp,useImperativeHandle:Z0,useInsertionEffect:G0,useLayoutEffect:J0,useMemo:tw,useReducer:Rf,useRef:Y0,useState:function(){return Rf(Fs)},useDebugValue:vp,useDeferredValue:function(e){var t=sr();return Ht===null?t.memoizedState=e:nw(t,Ht.memoizedState,e)},useTransition:function(){var e=Rf(Fs)[0],t=sr().memoizedState;return[e,t]},useMutableSource:z0,useSyncExternalStore:q0,useId:rw,unstable_isNewReconciler:!1};function _a(e,t){try{var n="",r=t;do n+=RS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Of(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var eC=typeof WeakMap=="function"?WeakMap:Map;function sw(e,t,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nl||(Nl=!0,th=r),Wd(e,t)},n}function uw(e,t,n){n=Vr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wd(e,t),typeof r!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Dv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new eC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pC.bind(null,e,t,n),t.then(e,e))}function Tv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Iv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vr(-1,1),t.tag=2,Ti(n,t,1))),n.lanes|=1),e)}var tC=li.ReactCurrentOwner,kn=!1;function _n(e,t,n,r){t.child=e===null?$0(t,null,n,r):ga(t,e.child,n,r)}function Av(e,t,n,r,i){n=n.render;var o=t.ref;return la(t,i),r=hp(e,t,n,r,o,i),n=pp(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ei(e,t,i)):(kt&&n&&tp(t),t.flags|=1,_n(e,t,r,i),t.child)}function Lv(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Cp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,lw(e,t,o,r,i)):(e=fl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ts,n(a,r)&&e.ref===t.ref)return ei(e,t,i)}return t.flags|=1,e=Li(o,r),e.ref=t.ref,e.return=t,t.child=e}function lw(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ts(o,r)&&e.ref===t.ref)if(kn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(kn=!0);else return t.lanes=e.lanes,ei(e,t,i)}return Hd(e,t,n,r,i)}function cw(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(na,Nn),Nn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bt(na,Nn),Nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,bt(na,Nn),Nn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,bt(na,Nn),Nn|=r;return _n(e,t,i,n),t.child}function fw(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hd(e,t,n,r,i){var o=On(n)?mo:dn.current;return o=va(t,o),la(t,i),n=hp(e,t,n,r,o,i),r=pp(),e!==null&&!kn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ei(e,t,i)):(kt&&r&&tp(t),t.flags|=1,_n(e,t,n,i),t.child)}function Mv(e,t,n,r,i){if(On(n)){var o=!0;kl(t)}else o=!1;if(la(t,i),t.stateNode===null)ul(e,t),F0(t,n,r),Kd(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=ar(d):(d=On(n)?mo:dn.current,d=va(t,d));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||u!==d)&&kv(t,a,r,d),gi=!1;var p=t.memoizedState;a.state=p,Tl(t,r,a,i),u=t.memoizedState,s!==r||p!==u||Rn.current||gi?(typeof m=="function"&&(qd(t,n,m,r),u=t.memoizedState),(s=gi||xv(t,n,s,r,p,u,d))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=d,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,N0(e,t),s=t.memoizedProps,d=t.type===t.elementType?s:mr(t.type,s),a.props=d,h=t.pendingProps,p=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=ar(u):(u=On(n)?mo:dn.current,u=va(t,u));var w=n.getDerivedStateFromProps;(m=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||p!==u)&&kv(t,a,r,u),gi=!1,p=t.memoizedState,a.state=p,Tl(t,r,a,i);var g=t.memoizedState;s!==h||p!==g||Rn.current||gi?(typeof w=="function"&&(qd(t,n,w,r),g=t.memoizedState),(d=gi||xv(t,n,d,r,p,g,u)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Vd(e,t,n,r,o,i)}function Vd(e,t,n,r,i,o){fw(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&_v(t,n,!1),ei(e,t,o);r=t.stateNode,tC.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ga(t,e.child,null,o),t.child=ga(t,null,s,o)):_n(e,t,s,o),t.memoizedState=r.state,i&&_v(t,n,!0),t.child}function dw(e){var t=e.stateNode;t.pendingContext?wv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wv(e,t.context,!1),lp(e,t.containerInfo)}function Nv(e,t,n,r,i){return ya(),rp(i),t.flags|=256,_n(e,t,n,r),t.child}var Qd={dehydrated:null,treeContext:null,retryLane:0};function Yd(e){return{baseLanes:e,cachePool:null,transitions:null}}function hw(e,t,n){var r=t.pendingProps,i=Ot.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),bt(Ot,i&1),e===null)return Ud(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=pc(a,r,0,null),e=lo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Yd(n),t.memoizedState=Qd,e):yp(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return nC(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Li(i,u),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Li(s,o):(o=lo(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Yd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=Qd,r}return o=e.child,e=o.sibling,r=Li(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function yp(e,t){return t=pc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vu(e,t,n,r){return r!==null&&rp(r),ga(t,e.child,null,n),e=yp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nC(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Of(Error(he(422))),Vu(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=pc({mode:"visible",children:r.children},i,0,null),o=lo(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ga(t,e.child,null,a),t.child.memoizedState=Yd(a),t.memoizedState=Qd,o);if(!(t.mode&1))return Vu(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(he(419)),r=Of(o,r,void 0),Vu(e,t,a,r)}if(s=(a&e.childLanes)!==0,kn||s){if(r=Gt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Zr(e,i),br(r,e,i,-1))}return Ep(),r=Of(Error(he(421))),Vu(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mC.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Fn=Di(i.nextSibling),$n=t,kt=!0,gr=null,e!==null&&(tr[nr++]=Wr,tr[nr++]=Hr,tr[nr++]=vo,Wr=e.id,Hr=e.overflow,vo=t),t=yp(t,r.children),t.flags|=4096,t)}function jv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zd(e.return,t,n)}function Pf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function pw(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_n(e,t,r.children,n),r=Ot.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jv(e,n,t);else if(e.tag===19)jv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bt(Ot,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Il(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Il(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pf(t,!0,n,null,o);break;case"together":Pf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ei(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),go|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Li(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Li(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rC(e,t,n){switch(t.tag){case 3:dw(t),ya();break;case 5:U0(t);break;case 1:On(t.type)&&kl(t);break;case 4:lp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;bt(Pl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(bt(Ot,Ot.current&1),t.flags|=128,null):n&t.child.childLanes?hw(e,t,n):(bt(Ot,Ot.current&1),e=ei(e,t,n),e!==null?e.sibling:null);bt(Ot,Ot.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pw(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(Ot,Ot.current),r)break;return null;case 22:case 23:return t.lanes=0,cw(e,t,n)}return ei(e,t,n)}var mw,Gd,vw,yw;mw=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gd=function(){};vw=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,io(Nr.current);var o=null;switch(n){case"input":i=gd(e,i),r=gd(e,r),o=[];break;case"select":i=Dt({},i,{value:void 0}),r=Dt({},r,{value:void 0}),o=[];break;case"textarea":i=bd(e,i),r=bd(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Cl)}Ed(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var s=i[d];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Cs.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var u=r[d];if(s=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==s&&(u!=null||s!=null))if(d==="style")if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,s=s?s.__html:void 0,u!=null&&s!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Cs.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Et("scroll",e),o||s===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};yw=function(e,t,n,r){n!==r&&(t.flags|=4)};function es(e,t){if(!kt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ln(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function iC(e,t,n){var r=t.pendingProps;switch(np(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(t),null;case 1:return On(t.type)&&xl(),ln(t),null;case 3:return r=t.stateNode,wa(),Ct(Rn),Ct(dn),fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Wu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gr!==null&&(ih(gr),gr=null))),Gd(e,t),ln(t),null;case 5:cp(t);var i=io(Ns.current);if(n=t.type,e!==null&&t.stateNode!=null)vw(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return ln(t),null}if(e=io(Nr.current),Wu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Tr]=t,r[Ls]=o,e=(t.mode&1)!==0,n){case"dialog":Et("cancel",r),Et("close",r);break;case"iframe":case"object":case"embed":Et("load",r);break;case"video":case"audio":for(i=0;i<fs.length;i++)Et(fs[i],r);break;case"source":Et("error",r);break;case"img":case"image":case"link":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"input":Hm(r,o),Et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Et("invalid",r);break;case"textarea":Qm(r,o),Et("invalid",r)}Ed(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Ku(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Ku(r.textContent,s,e),i=["children",""+s]):Cs.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&Et("scroll",r)}switch(n){case"input":Nu(r),Vm(r,o,!0);break;case"textarea":Nu(r),Ym(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Cl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kg(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Tr]=t,e[Ls]=r,mw(e,t,!1,!1),t.stateNode=e;e:{switch(a=Cd(n,r),n){case"dialog":Et("cancel",e),Et("close",e),i=r;break;case"iframe":case"object":case"embed":Et("load",e),i=r;break;case"video":case"audio":for(i=0;i<fs.length;i++)Et(fs[i],e);i=r;break;case"source":Et("error",e),i=r;break;case"img":case"image":case"link":Et("error",e),Et("load",e),i=r;break;case"details":Et("toggle",e),i=r;break;case"input":Hm(e,r),i=gd(e,r),Et("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Dt({},r,{value:void 0}),Et("invalid",e);break;case"textarea":Qm(e,r),i=bd(e,r),Et("invalid",e);break;default:i=r}Ed(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="style"?Vg(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Wg(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&xs(e,u):typeof u=="number"&&xs(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Et("scroll",e):u!=null&&Uh(e,o,u,a))}switch(n){case"input":Nu(e),Vm(e,r,!1);break;case"textarea":Nu(e),Ym(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ji(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?oa(e,!!r.multiple,o,!1):r.defaultValue!=null&&oa(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ln(t),null;case 6:if(e&&t.stateNode!=null)yw(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=io(Ns.current),io(Nr.current),Wu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tr]=t,(o=r.nodeValue!==n)&&(e=$n,e!==null))switch(e.tag){case 3:Ku(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ku(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tr]=t,t.stateNode=r}return ln(t),null;case 13:if(Ct(Ot),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kt&&Fn!==null&&t.mode&1&&!(t.flags&128))L0(),ya(),t.flags|=98560,o=!1;else if(o=Wu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(he(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(he(317));o[Tr]=t}else ya(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ln(t),o=!1}else gr!==null&&(ih(gr),gr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ot.current&1?Vt===0&&(Vt=3):Ep())),t.updateQueue!==null&&(t.flags|=4),ln(t),null);case 4:return wa(),Gd(e,t),e===null&&Is(t.stateNode.containerInfo),ln(t),null;case 10:return ap(t.type._context),ln(t),null;case 17:return On(t.type)&&xl(),ln(t),null;case 19:if(Ct(Ot),o=t.memoizedState,o===null)return ln(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)es(o,!1);else{if(Vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Il(e),a!==null){for(t.flags|=128,es(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bt(Ot,Ot.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ft()>ba&&(t.flags|=128,r=!0,es(o,!1),t.lanes=4194304)}else{if(!r)if(e=Il(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),es(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!kt)return ln(t),null}else 2*Ft()-o.renderingStartTime>ba&&n!==1073741824&&(t.flags|=128,r=!0,es(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ft(),t.sibling=null,n=Ot.current,bt(Ot,r?n&1|2:n&1),t):(ln(t),null);case 22:case 23:return Sp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Nn&1073741824&&(ln(t),t.subtreeFlags&6&&(t.flags|=8192)):ln(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function oC(e,t){switch(np(t),t.tag){case 1:return On(t.type)&&xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(),Ct(Rn),Ct(dn),fp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return cp(t),null;case 13:if(Ct(Ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));ya()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ct(Ot),null;case 4:return wa(),null;case 10:return ap(t.type._context),null;case 22:case 23:return Sp(),null;case 24:return null;default:return null}}var Qu=!1,cn=!1,aC=typeof WeakSet=="function"?WeakSet:Set,Te=null;function ta(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(e,t,r)}else n.current=null}function Jd(e,t,n){try{n()}catch(r){At(e,t,r)}}var Fv=!1;function sC(e,t){if(Ld=bl,e=b0(),ep(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,u=-1,d=0,m=0,h=e,p=null;t:for(;;){for(var w;h!==n||i!==0&&h.nodeType!==3||(s=a+i),h!==o||r!==0&&h.nodeType!==3||(u=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(w=h.firstChild)!==null;)p=h,h=w;for(;;){if(h===e)break t;if(p===n&&++d===i&&(s=a),p===o&&++m===r&&(u=a),(w=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=w}n=s===-1||u===-1?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Md={focusedElem:e,selectionRange:n},bl=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var E=g.memoizedProps,I=g.memoizedState,S=t.stateNode,C=S.getSnapshotBeforeUpdate(t.elementType===t.type?E:mr(t.type,E),I);S.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(R){At(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return g=Fv,Fv=!1,g}function gs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Jd(t,n,o)}i=i.next}while(i!==r)}}function dc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gw(e){var t=e.alternate;t!==null&&(e.alternate=null,gw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[Ls],delete t[Fd],delete t[qE],delete t[KE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ww(e){return e.tag===5||e.tag===3||e.tag===4}function Bv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ww(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Cl));else if(r!==4&&(e=e.child,e!==null))for(Zd(e,t,n),e=e.sibling;e!==null;)Zd(e,t,n),e=e.sibling}function eh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(eh(e,t,n),e=e.sibling;e!==null;)eh(e,t,n),e=e.sibling}var en=null,vr=!1;function mi(e,t,n){for(n=n.child;n!==null;)_w(e,t,n),n=n.sibling}function _w(e,t,n){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(ic,n)}catch{}switch(n.tag){case 5:cn||ta(n,t);case 6:var r=en,i=vr;en=null,mi(e,t,n),en=r,vr=i,en!==null&&(vr?(e=en,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):en.removeChild(n.stateNode));break;case 18:en!==null&&(vr?(e=en,n=n.stateNode,e.nodeType===8?Sf(e.parentNode,n):e.nodeType===1&&Sf(e,n),Ps(e)):Sf(en,n.stateNode));break;case 4:r=en,i=vr,en=n.stateNode.containerInfo,vr=!0,mi(e,t,n),en=r,vr=i;break;case 0:case 11:case 14:case 15:if(!cn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Jd(n,t,a),i=i.next}while(i!==r)}mi(e,t,n);break;case 1:if(!cn&&(ta(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){At(n,t,s)}mi(e,t,n);break;case 21:mi(e,t,n);break;case 22:n.mode&1?(cn=(r=cn)||n.memoizedState!==null,mi(e,t,n),cn=r):mi(e,t,n);break;default:mi(e,t,n)}}function $v(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new aC),t.forEach(function(r){var i=vC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:en=s.stateNode,vr=!1;break e;case 3:en=s.stateNode.containerInfo,vr=!0;break e;case 4:en=s.stateNode.containerInfo,vr=!0;break e}s=s.return}if(en===null)throw Error(he(160));_w(o,a,i),en=null,vr=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){At(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bw(t,e),t=t.sibling}function bw(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hr(t,e),Pr(e),r&4){try{gs(3,e,e.return),dc(3,e)}catch(E){At(e,e.return,E)}try{gs(5,e,e.return)}catch(E){At(e,e.return,E)}}break;case 1:hr(t,e),Pr(e),r&512&&n!==null&&ta(n,n.return);break;case 5:if(hr(t,e),Pr(e),r&512&&n!==null&&ta(n,n.return),e.flags&32){var i=e.stateNode;try{xs(i,"")}catch(E){At(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&zg(i,o),Cd(s,a);var d=Cd(s,o);for(a=0;a<u.length;a+=2){var m=u[a],h=u[a+1];m==="style"?Vg(i,h):m==="dangerouslySetInnerHTML"?Wg(i,h):m==="children"?xs(i,h):Uh(i,m,h,d)}switch(s){case"input":wd(i,o);break;case"textarea":qg(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?oa(i,!!o.multiple,w,!1):p!==!!o.multiple&&(o.defaultValue!=null?oa(i,!!o.multiple,o.defaultValue,!0):oa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ls]=o}catch(E){At(e,e.return,E)}}break;case 6:if(hr(t,e),Pr(e),r&4){if(e.stateNode===null)throw Error(he(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(E){At(e,e.return,E)}}break;case 3:if(hr(t,e),Pr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ps(t.containerInfo)}catch(E){At(e,e.return,E)}break;case 4:hr(t,e),Pr(e);break;case 13:hr(t,e),Pr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(_p=Ft())),r&4&&$v(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(cn=(d=cn)||m,hr(t,e),cn=d):hr(t,e),Pr(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!m&&e.mode&1)for(Te=e,m=e.child;m!==null;){for(h=Te=m;Te!==null;){switch(p=Te,w=p.child,p.tag){case 0:case 11:case 14:case 15:gs(4,p,p.return);break;case 1:ta(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(E){At(r,n,E)}}break;case 5:ta(p,p.return);break;case 22:if(p.memoizedState!==null){zv(h);continue}}w!==null?(w.return=p,Te=w):zv(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{i=h.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,s.style.display=Hg("display",a))}catch(E){At(e,e.return,E)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(E){At(e,e.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:hr(t,e),Pr(e),r&4&&$v(e);break;case 21:break;default:hr(t,e),Pr(e)}}function Pr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ww(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xs(i,""),r.flags&=-33);var o=Bv(e);eh(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=Bv(e);Zd(e,s,a);break;default:throw Error(he(161))}}catch(u){At(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uC(e,t,n){Te=e,Sw(e)}function Sw(e,t,n){for(var r=(e.mode&1)!==0;Te!==null;){var i=Te,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Qu;if(!a){var s=i.alternate,u=s!==null&&s.memoizedState!==null||cn;s=Qu;var d=cn;if(Qu=a,(cn=u)&&!d)for(Te=i;Te!==null;)a=Te,u=a.child,a.tag===22&&a.memoizedState!==null?qv(i):u!==null?(u.return=a,Te=u):qv(i);for(;o!==null;)Te=o,Sw(o),o=o.sibling;Te=i,Qu=s,cn=d}Uv(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Te=o):Uv(e)}}function Uv(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cn||dc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!cn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Cv(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cv(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var m=d.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Ps(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}cn||t.flags&512&&Xd(t)}catch(p){At(t,t.return,p)}}if(t===e){Te=null;break}if(n=t.sibling,n!==null){n.return=t.return,Te=n;break}Te=t.return}}function zv(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Te=n;break}Te=t.return}}function qv(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dc(4,t)}catch(u){At(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){At(t,i,u)}}var o=t.return;try{Xd(t)}catch(u){At(t,o,u)}break;case 5:var a=t.return;try{Xd(t)}catch(u){At(t,a,u)}}}catch(u){At(t,t.return,u)}if(t===e){Te=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Te=s;break}Te=t.return}}var lC=Math.ceil,Ml=li.ReactCurrentDispatcher,gp=li.ReactCurrentOwner,ir=li.ReactCurrentBatchConfig,st=0,Gt=null,Ut=null,tn=0,Nn=0,na=$i(0),Vt=0,$s=null,go=0,hc=0,wp=0,ws=null,xn=null,_p=0,ba=1/0,qr=null,Nl=!1,th=null,Ii=null,Yu=!1,Ei=null,jl=0,_s=0,nh=null,ll=-1,cl=0;function Sn(){return st&6?Ft():ll!==-1?ll:ll=Ft()}function Ai(e){return e.mode&1?st&2&&tn!==0?tn&-tn:HE.transition!==null?(cl===0&&(cl=o0()),cl):(e=pt,e!==0||(e=window.event,e=e===void 0?16:d0(e.type)),e):1}function br(e,t,n,r){if(50<_s)throw _s=0,nh=null,Error(he(185));eu(e,n,r),(!(st&2)||e!==Gt)&&(e===Gt&&(!(st&2)&&(hc|=n),Vt===4&&bi(e,tn)),Pn(e,r),n===1&&st===0&&!(t.mode&1)&&(ba=Ft()+500,lc&&Ui()))}function Pn(e,t){var n=e.callbackNode;HS(e,t);var r=_l(e,e===Gt?tn:0);if(r===0)n!==null&&Xm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Xm(n),t===1)e.tag===0?WE(Kv.bind(null,e)):T0(Kv.bind(null,e)),UE(function(){!(st&6)&&Ui()}),n=null;else{switch(a0(r)){case 1:n=Hh;break;case 4:n=r0;break;case 16:n=wl;break;case 536870912:n=i0;break;default:n=wl}n=Dw(n,Ew.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ew(e,t){if(ll=-1,cl=0,st&6)throw Error(he(327));var n=e.callbackNode;if(ca()&&e.callbackNode!==n)return null;var r=_l(e,e===Gt?tn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Fl(e,r);else{t=r;var i=st;st|=2;var o=xw();(Gt!==e||tn!==t)&&(qr=null,ba=Ft()+500,uo(e,t));do try{dC();break}catch(s){Cw(e,s)}while(!0);op(),Ml.current=o,st=i,Ut!==null?t=0:(Gt=null,tn=0,t=Vt)}if(t!==0){if(t===2&&(i=Pd(e),i!==0&&(r=i,t=rh(e,i))),t===1)throw n=$s,uo(e,0),bi(e,r),Pn(e,Ft()),n;if(t===6)bi(e,r);else{if(i=e.current.alternate,!(r&30)&&!cC(i)&&(t=Fl(e,r),t===2&&(o=Pd(e),o!==0&&(r=o,t=rh(e,o))),t===1))throw n=$s,uo(e,0),bi(e,r),Pn(e,Ft()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:eo(e,xn,qr);break;case 3:if(bi(e,r),(r&130023424)===r&&(t=_p+500-Ft(),10<t)){if(_l(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Sn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=jd(eo.bind(null,e,xn,qr),t);break}eo(e,xn,qr);break;case 4:if(bi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-_r(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lC(r/1960))-r,10<r){e.timeoutHandle=jd(eo.bind(null,e,xn,qr),r);break}eo(e,xn,qr);break;case 5:eo(e,xn,qr);break;default:throw Error(he(329))}}}return Pn(e,Ft()),e.callbackNode===n?Ew.bind(null,e):null}function rh(e,t){var n=ws;return e.current.memoizedState.isDehydrated&&(uo(e,t).flags|=256),e=Fl(e,t),e!==2&&(t=xn,xn=n,t!==null&&ih(t)),e}function ih(e){xn===null?xn=e:xn.push.apply(xn,e)}function cC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Sr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bi(e,t){for(t&=~wp,t&=~hc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_r(t),r=1<<n;e[n]=-1,t&=~r}}function Kv(e){if(st&6)throw Error(he(327));ca();var t=_l(e,0);if(!(t&1))return Pn(e,Ft()),null;var n=Fl(e,t);if(e.tag!==0&&n===2){var r=Pd(e);r!==0&&(t=r,n=rh(e,r))}if(n===1)throw n=$s,uo(e,0),bi(e,t),Pn(e,Ft()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,eo(e,xn,qr),Pn(e,Ft()),null}function bp(e,t){var n=st;st|=1;try{return e(t)}finally{st=n,st===0&&(ba=Ft()+500,lc&&Ui())}}function wo(e){Ei!==null&&Ei.tag===0&&!(st&6)&&ca();var t=st;st|=1;var n=ir.transition,r=pt;try{if(ir.transition=null,pt=1,e)return e()}finally{pt=r,ir.transition=n,st=t,!(st&6)&&Ui()}}function Sp(){Nn=na.current,Ct(na)}function uo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$E(n)),Ut!==null)for(n=Ut.return;n!==null;){var r=n;switch(np(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:wa(),Ct(Rn),Ct(dn),fp();break;case 5:cp(r);break;case 4:wa();break;case 13:Ct(Ot);break;case 19:Ct(Ot);break;case 10:ap(r.type._context);break;case 22:case 23:Sp()}n=n.return}if(Gt=e,Ut=e=Li(e.current,null),tn=Nn=t,Vt=0,$s=null,wp=hc=go=0,xn=ws=null,ro!==null){for(t=0;t<ro.length;t++)if(n=ro[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ro=null}return e}function Cw(e,t){do{var n=Ut;try{if(op(),al.current=Ll,Al){for(var r=Pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Al=!1}if(yo=0,Yt=Ht=Pt=null,ys=!1,js=0,gp.current=null,n===null||n.return===null){Vt=1,$s=t,Ut=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=tn,s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,m=s,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var p=m.alternate;p?(m.updateQueue=p.updateQueue,m.memoizedState=p.memoizedState,m.lanes=p.lanes):(m.updateQueue=null,m.memoizedState=null)}var w=Tv(a);if(w!==null){w.flags&=-257,Iv(w,a,s,o,t),w.mode&1&&Dv(o,d,t),t=w,u=d;var g=t.updateQueue;if(g===null){var E=new Set;E.add(u),t.updateQueue=E}else g.add(u);break e}else{if(!(t&1)){Dv(o,d,t),Ep();break e}u=Error(he(426))}}else if(kt&&s.mode&1){var I=Tv(a);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Iv(I,a,s,o,t),rp(_a(u,s));break e}}o=u=_a(u,s),Vt!==4&&(Vt=2),ws===null?ws=[o]:ws.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var S=sw(o,u,t);Ev(o,S);break e;case 1:s=u;var C=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof C.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ii===null||!Ii.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var R=uw(o,s,t);Ev(o,R);break e}}o=o.return}while(o!==null)}Rw(n)}catch(D){t=D,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(!0)}function xw(){var e=Ml.current;return Ml.current=Ll,e===null?Ll:e}function Ep(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Gt===null||!(go&268435455)&&!(hc&268435455)||bi(Gt,tn)}function Fl(e,t){var n=st;st|=2;var r=xw();(Gt!==e||tn!==t)&&(qr=null,uo(e,t));do try{fC();break}catch(i){Cw(e,i)}while(!0);if(op(),st=n,Ml.current=r,Ut!==null)throw Error(he(261));return Gt=null,tn=0,Vt}function fC(){for(;Ut!==null;)kw(Ut)}function dC(){for(;Ut!==null&&!jS();)kw(Ut)}function kw(e){var t=Pw(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,t===null?Rw(e):Ut=t,gp.current=null}function Rw(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=oC(n,t),n!==null){n.flags&=32767,Ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vt=6,Ut=null;return}}else if(n=iC(n,t,Nn),n!==null){Ut=n;return}if(t=t.sibling,t!==null){Ut=t;return}Ut=t=e}while(t!==null);Vt===0&&(Vt=5)}function eo(e,t,n){var r=pt,i=ir.transition;try{ir.transition=null,pt=1,hC(e,t,n,r)}finally{ir.transition=i,pt=r}return null}function hC(e,t,n,r){do ca();while(Ei!==null);if(st&6)throw Error(he(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(VS(e,o),e===Gt&&(Ut=Gt=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yu||(Yu=!0,Dw(wl,function(){return ca(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ir.transition,ir.transition=null;var a=pt;pt=1;var s=st;st|=4,gp.current=null,sC(e,n),bw(n,e),AE(Md),bl=!!Ld,Md=Ld=null,e.current=n,uC(n),FS(),st=s,pt=a,ir.transition=o}else e.current=n;if(Yu&&(Yu=!1,Ei=e,jl=i),o=e.pendingLanes,o===0&&(Ii=null),US(n.stateNode),Pn(e,Ft()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nl)throw Nl=!1,e=th,th=null,e;return jl&1&&e.tag!==0&&ca(),o=e.pendingLanes,o&1?e===nh?_s++:(_s=0,nh=e):_s=0,Ui(),null}function ca(){if(Ei!==null){var e=a0(jl),t=ir.transition,n=pt;try{if(ir.transition=null,pt=16>e?16:e,Ei===null)var r=!1;else{if(e=Ei,Ei=null,jl=0,st&6)throw Error(he(331));var i=st;for(st|=4,Te=e.current;Te!==null;){var o=Te,a=o.child;if(Te.flags&16){var s=o.deletions;if(s!==null){for(var u=0;u<s.length;u++){var d=s[u];for(Te=d;Te!==null;){var m=Te;switch(m.tag){case 0:case 11:case 15:gs(8,m,o)}var h=m.child;if(h!==null)h.return=m,Te=h;else for(;Te!==null;){m=Te;var p=m.sibling,w=m.return;if(gw(m),m===d){Te=null;break}if(p!==null){p.return=w,Te=p;break}Te=w}}}var g=o.alternate;if(g!==null){var E=g.child;if(E!==null){g.child=null;do{var I=E.sibling;E.sibling=null,E=I}while(E!==null)}}Te=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Te=a;else e:for(;Te!==null;){if(o=Te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gs(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,Te=S;break e}Te=o.return}}var C=e.current;for(Te=C;Te!==null;){a=Te;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Te=y;else e:for(a=C;Te!==null;){if(s=Te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:dc(9,s)}}catch(D){At(s,s.return,D)}if(s===a){Te=null;break e}var R=s.sibling;if(R!==null){R.return=s.return,Te=R;break e}Te=s.return}}if(st=i,Ui(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(ic,e)}catch{}r=!0}return r}finally{pt=n,ir.transition=t}}return!1}function Wv(e,t,n){t=_a(n,t),t=sw(e,t,1),e=Ti(e,t,1),t=Sn(),e!==null&&(eu(e,1,t),Pn(e,t))}function At(e,t,n){if(e.tag===3)Wv(e,e,n);else for(;t!==null;){if(t.tag===3){Wv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ii===null||!Ii.has(r))){e=_a(n,e),e=uw(t,e,1),t=Ti(t,e,1),e=Sn(),t!==null&&(eu(t,1,e),Pn(t,e));break}}t=t.return}}function pC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Sn(),e.pingedLanes|=e.suspendedLanes&n,Gt===e&&(tn&n)===n&&(Vt===4||Vt===3&&(tn&130023424)===tn&&500>Ft()-_p?uo(e,0):wp|=n),Pn(e,t)}function Ow(e,t){t===0&&(e.mode&1?(t=Bu,Bu<<=1,!(Bu&130023424)&&(Bu=4194304)):t=1);var n=Sn();e=Zr(e,t),e!==null&&(eu(e,t,n),Pn(e,n))}function mC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ow(e,n)}function vC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),Ow(e,n)}var Pw;Pw=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Rn.current)kn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return kn=!1,rC(e,t,n);kn=!!(e.flags&131072)}else kn=!1,kt&&t.flags&1048576&&I0(t,Ol,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ul(e,t),e=t.pendingProps;var i=va(t,dn.current);la(t,n),i=hp(null,t,r,e,i,n);var o=pp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,On(r)?(o=!0,kl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,up(t),i.updater=cc,t.stateNode=i,i._reactInternals=t,Kd(t,r,e,n),t=Vd(null,t,r,!0,o,n)):(t.tag=0,kt&&o&&tp(t),_n(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ul(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=gC(r),e=mr(r,e),i){case 0:t=Hd(null,t,r,e,n);break e;case 1:t=Mv(null,t,r,e,n);break e;case 11:t=Av(null,t,r,e,n);break e;case 14:t=Lv(null,t,r,mr(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mr(r,i),Hd(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mr(r,i),Mv(e,t,r,i,n);case 3:e:{if(dw(t),e===null)throw Error(he(387));r=t.pendingProps,o=t.memoizedState,i=o.element,N0(e,t),Tl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=_a(Error(he(423)),t),t=Nv(e,t,r,n,i);break e}else if(r!==i){i=_a(Error(he(424)),t),t=Nv(e,t,r,n,i);break e}else for(Fn=Di(t.stateNode.containerInfo.firstChild),$n=t,kt=!0,gr=null,n=$0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ya(),r===i){t=ei(e,t,n);break e}_n(e,t,r,n)}t=t.child}return t;case 5:return U0(t),e===null&&Ud(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Nd(r,i)?a=null:o!==null&&Nd(r,o)&&(t.flags|=32),fw(e,t),_n(e,t,a,n),t.child;case 6:return e===null&&Ud(t),null;case 13:return hw(e,t,n);case 4:return lp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ga(t,null,r,n):_n(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mr(r,i),Av(e,t,r,i,n);case 7:return _n(e,t,t.pendingProps,n),t.child;case 8:return _n(e,t,t.pendingProps.children,n),t.child;case 12:return _n(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,bt(Pl,r._currentValue),r._currentValue=a,o!==null)if(Sr(o.value,a)){if(o.children===i.children&&!Rn.current){t=ei(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var u=s.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Vr(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var m=d.pending;m===null?u.next=u:(u.next=m.next,m.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),zd(o.return,n,t),s.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(he(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),zd(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}_n(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,la(t,n),i=ar(i),r=r(i),t.flags|=1,_n(e,t,r,n),t.child;case 14:return r=t.type,i=mr(r,t.pendingProps),i=mr(r.type,i),Lv(e,t,r,i,n);case 15:return lw(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mr(r,i),ul(e,t),t.tag=1,On(r)?(e=!0,kl(t)):e=!1,la(t,n),F0(t,r,i),Kd(t,r,i,n),Vd(null,t,r,!0,e,n);case 19:return pw(e,t,n);case 22:return cw(e,t,n)}throw Error(he(156,t.tag))};function Dw(e,t){return n0(e,t)}function yC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(e,t,n,r){return new yC(e,t,n,r)}function Cp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gC(e){if(typeof e=="function")return Cp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qh)return 11;if(e===Kh)return 14}return 2}function Li(e,t){var n=e.alternate;return n===null?(n=rr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fl(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")Cp(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ho:return lo(n.children,i,o,t);case zh:a=8,i|=8;break;case pd:return e=rr(12,n,t,i|2),e.elementType=pd,e.lanes=o,e;case md:return e=rr(13,n,t,i),e.elementType=md,e.lanes=o,e;case vd:return e=rr(19,n,t,i),e.elementType=vd,e.lanes=o,e;case Bg:return pc(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jg:a=10;break e;case Fg:a=9;break e;case qh:a=11;break e;case Kh:a=14;break e;case yi:a=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=rr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function lo(e,t,n,r){return e=rr(7,e,r,t),e.lanes=n,e}function pc(e,t,n,r){return e=rr(22,e,r,t),e.elementType=Bg,e.lanes=n,e.stateNode={isHidden:!1},e}function Df(e,t,n){return e=rr(6,e,null,t),e.lanes=n,e}function Tf(e,t,n){return t=rr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ff(0),this.expirationTimes=ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function xp(e,t,n,r,i,o,a,s,u){return e=new wC(e,t,n,s,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=rr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(o),e}function _C(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Tw(e){if(!e)return Fi;e=e._reactInternals;e:{if(Do(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(On(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(On(n))return D0(e,n,t)}return t}function Iw(e,t,n,r,i,o,a,s,u){return e=xp(n,r,!0,e,i,o,a,s,u),e.context=Tw(null),n=e.current,r=Sn(),i=Ai(n),o=Vr(r,i),o.callback=t??null,Ti(n,o,i),e.current.lanes=i,eu(e,i,r),Pn(e,r),e}function mc(e,t,n,r){var i=t.current,o=Sn(),a=Ai(i);return n=Tw(n),t.context===null?t.context=n:t.pendingContext=n,t=Vr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ti(i,t,a),e!==null&&(br(e,i,a,o),ol(e,i,a)),a}function Bl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function kp(e,t){Hv(e,t),(e=e.alternate)&&Hv(e,t)}function bC(){return null}var Aw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rp(e){this._internalRoot=e}vc.prototype.render=Rp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));mc(e,t,null,null)};vc.prototype.unmount=Rp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wo(function(){mc(null,e,null,null)}),t[Xr]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var t=l0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_i.length&&t!==0&&t<_i[n].priority;n++);_i.splice(n,0,e),n===0&&f0(e)}};function Op(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vv(){}function SC(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=Bl(a);o.call(d)}}var a=Iw(t,r,e,0,null,!1,!1,"",Vv);return e._reactRootContainer=a,e[Xr]=a.current,Is(e.nodeType===8?e.parentNode:e),wo(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var d=Bl(u);s.call(d)}}var u=xp(e,0,!1,null,null,!1,!1,"",Vv);return e._reactRootContainer=u,e[Xr]=u.current,Is(e.nodeType===8?e.parentNode:e),wo(function(){mc(t,u,n,r)}),u}function gc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var u=Bl(a);s.call(u)}}mc(t,a,e,i)}else a=SC(n,t,e,i,r);return Bl(a)}s0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cs(t.pendingLanes);n!==0&&(Vh(t,n|1),Pn(t,Ft()),!(st&6)&&(ba=Ft()+500,Ui()))}break;case 13:wo(function(){var r=Zr(e,1);if(r!==null){var i=Sn();br(r,e,1,i)}}),kp(e,1)}};Qh=function(e){if(e.tag===13){var t=Zr(e,134217728);if(t!==null){var n=Sn();br(t,e,134217728,n)}kp(e,134217728)}};u0=function(e){if(e.tag===13){var t=Ai(e),n=Zr(e,t);if(n!==null){var r=Sn();br(n,e,t,r)}kp(e,t)}};l0=function(){return pt};c0=function(e,t){var n=pt;try{return pt=e,t()}finally{pt=n}};kd=function(e,t,n){switch(t){case"input":if(wd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=uc(r);if(!i)throw Error(he(90));Ug(r),wd(r,i)}}}break;case"textarea":qg(e,n);break;case"select":t=n.value,t!=null&&oa(e,!!n.multiple,t,!1)}};Gg=bp;Jg=wo;var EC={usingClientEntryPoint:!1,Events:[nu,Go,uc,Qg,Yg,bp]},ts={findFiberByHostInstance:no,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},CC={bundleType:ts.bundleType,version:ts.version,rendererPackageName:ts.rendererPackageName,rendererConfig:ts.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=e0(e),e===null?null:e.stateNode},findFiberByHostInstance:ts.findFiberByHostInstance||bC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{ic=Gu.inject(CC),Mr=Gu}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EC;Kn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Op(t))throw Error(he(200));return _C(e,t,null,n)};Kn.createRoot=function(e,t){if(!Op(e))throw Error(he(299));var n=!1,r="",i=Aw;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=xp(e,1,!1,null,null,n,!1,r,i),e[Xr]=t.current,Is(e.nodeType===8?e.parentNode:e),new Rp(t)};Kn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=e0(t),e=e===null?null:e.stateNode,e};Kn.flushSync=function(e){return wo(e)};Kn.hydrate=function(e,t,n){if(!yc(t))throw Error(he(200));return gc(null,e,t,!0,n)};Kn.hydrateRoot=function(e,t,n){if(!Op(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Aw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Iw(t,null,e,1,n??null,i,!1,o,a),e[Xr]=t.current,Is(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new vc(t)};Kn.render=function(e,t,n){if(!yc(t))throw Error(he(200));return gc(null,e,t,!1,n)};Kn.unmountComponentAtNode=function(e){if(!yc(e))throw Error(he(40));return e._reactRootContainer?(wo(function(){gc(null,null,e,!1,function(){e._reactRootContainer=null,e[Xr]=null})}),!0):!1};Kn.unstable_batchedUpdates=bp;Kn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yc(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return gc(e,t,n,!1,r)};Kn.version="18.2.0-next-9e3b772b8-20220608";function Lw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lw)}catch(e){console.error(e)}}Lw(),Ig.exports=Kn;var Pp=Ig.exports;const xC=nc(Pp),kC=bg({__proto__:null,default:xC},[Pp]);var Qv=Pp;dd.createRoot=Qv.createRoot,dd.hydrateRoot=Qv.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lt.apply(this,arguments)}var jt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jt||(jt={}));const Yv="popstate";function RC(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return Us("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_o(i)}return PC(t,n,null,e)}function nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sa(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function OC(){return Math.random().toString(36).substr(2,8)}function Gv(e,t){return{usr:e.state,key:e.key,idx:t}}function Us(e,t,n,r){return n===void 0&&(n=null),Lt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ci(t):t,{state:n,key:t&&t.key||r||OC()})}function _o(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ci(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function PC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=jt.Pop,u=null,d=m();d==null&&(d=0,a.replaceState(Lt({},a.state,{idx:d}),""));function m(){return(a.state||{idx:null}).idx}function h(){s=jt.Pop;let I=m(),S=I==null?null:I-d;d=I,u&&u({action:s,location:E.location,delta:S})}function p(I,S){s=jt.Push;let C=Us(E.location,I,S);n&&n(C,I),d=m()+1;let y=Gv(C,d),R=E.createHref(C);try{a.pushState(y,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(R)}o&&u&&u({action:s,location:E.location,delta:1})}function w(I,S){s=jt.Replace;let C=Us(E.location,I,S);n&&n(C,I),d=m();let y=Gv(C,d),R=E.createHref(C);a.replaceState(y,"",R),o&&u&&u({action:s,location:E.location,delta:0})}function g(I){let S=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof I=="string"?I:_o(I);return C=C.replace(/ $/,"%20"),nt(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let E={get action(){return s},get location(){return e(i,a)},listen(I){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Yv,h),u=I,()=>{i.removeEventListener(Yv,h),u=null}},createHref(I){return t(i,I)},createURL:g,encodeLocation(I){let S=g(I);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:w,go(I){return a.go(I)}};return E}var It;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(It||(It={}));const DC=new Set(["lazy","caseSensitive","path","id","index","children"]);function TC(e){return e.index===!0}function oh(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,o)=>{let a=[...n,o],s=typeof i.id=="string"?i.id:a.join("-");if(nt(i.index!==!0||!i.children,"Cannot specify children on an index route"),nt(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),TC(i)){let u=Lt({},i,t(i),{id:s});return r[s]=u,u}else{let u=Lt({},i,t(i),{id:s,children:void 0});return r[s]=u,i.children&&(u.children=oh(i.children,t,a,r)),u}})}function ra(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ci(t):t,i=Ia(r.pathname||"/",n);if(i==null)return null;let o=Mw(e);AC(o);let a=null;for(let s=0;a==null&&s<o.length;++s){let u=WC(i);a=zC(o[s],u)}return a}function IC(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Mw(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let u={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(nt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Qr([r,u.relativePath]),m=n.concat(u);o.children&&o.children.length>0&&(nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Mw(o.children,t,m,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:$C(d,o.index),routesMeta:m})};return e.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let u of Nw(o.path))i(o,a,u)}),t}function Nw(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=Nw(r.join("/")),s=[];return s.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&s.push(...a),s.map(u=>e.startsWith("/")&&u===""?"/":u)}function AC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:UC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const LC=/^:[\w-]+$/,MC=3,NC=2,jC=1,FC=10,BC=-2,Jv=e=>e==="*";function $C(e,t){let n=e.split("/"),r=n.length;return n.some(Jv)&&(r+=BC),t&&(r+=NC),n.filter(i=>!Jv(i)).reduce((i,o)=>i+(LC.test(o)?MC:o===""?jC:FC),r)}function UC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function zC(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let a=0;a<n.length;++a){let s=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",m=qC({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},d);if(!m)return null;Object.assign(r,m.params);let h=s.route;o.push({params:r,pathname:Qr([i,m.pathname]),pathnameBase:QC(Qr([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=Qr([i,m.pathnameBase]))}return o}function qC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=KC(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((d,m,h)=>{let{paramName:p,isOptional:w}=m;if(p==="*"){let E=s[h]||"";a=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const g=s[h];return w&&!g?d[p]=void 0:d[p]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:a,pattern:e}}function KC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Sa(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,u)=>(r.push({paramName:s,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function WC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sa(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ia(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function HC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ci(e):e;return{pathname:n?n.startsWith("/")?n:VC(n,t):t,search:YC(r),hash:GC(i)}}function VC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function If(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dp(e,t){let n=jw(e);return t?n.map((r,i)=>i===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Tp(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ci(e):(i=Lt({},e),nt(!i.pathname||!i.pathname.includes("?"),If("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),If("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),If("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let h=t.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}s=h>=0?t[h]:"/"}let u=HC(i,s),d=a&&a!=="/"&&a.endsWith("/"),m=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||m)&&(u.pathname+="/"),u}const Qr=e=>e.join("/").replace(/\/\/+/g,"/"),QC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,GC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Ip{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Fw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Bw=["post","put","patch","delete"],JC=new Set(Bw),XC=["get",...Bw],ZC=new Set(XC),ex=new Set([301,302,303,307,308]),tx=new Set([307,308]),Af={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ns={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},$w=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rx=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Uw="remix-router-transitions";function ix(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;nt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let Y=e.detectErrorBoundary;i=te=>({hasErrorBoundary:Y(te)})}else i=rx;let o={},a=oh(e.routes,i,void 0,o),s,u=e.basename||"/",d=Lt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),m=null,h=new Set,p=null,w=null,g=null,E=e.hydrationData!=null,I=ra(a,e.history.location,u),S=null;if(I==null){let Y=er(404,{pathname:e.history.location.pathname}),{matches:te,route:ce}=oy(a);I=te,S={[ce.id]:Y}}let C,y=I.some(Y=>Y.route.lazy),R=I.some(Y=>Y.route.loader);if(y)C=!1;else if(!R)C=!0;else if(d.v7_partialHydration){let Y=e.hydrationData?e.hydrationData.loaderData:null,te=e.hydrationData?e.hydrationData.errors:null,ce=ye=>ye.route.loader?ye.route.loader.hydrate===!0?!1:Y&&Y[ye.route.id]!==void 0||te&&te[ye.route.id]!==void 0:!0;if(te){let ye=I.findIndex(Pe=>te[Pe.route.id]!==void 0);C=I.slice(0,ye+1).every(ce)}else C=I.every(ce)}else C=e.hydrationData!=null;let D,k={historyAction:e.history.action,location:e.history.location,matches:I,initialized:C,navigation:Af,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||S,fetchers:new Map,blockers:new Map},P=jt.Pop,L=!1,B,N=!1,F=new Map,Z=null,ue=!1,Ee=!1,Re=[],Ce=[],Ie=new Map,fe=0,se=-1,we=new Map,Ne=new Set,Ze=new Map,je=new Map,Le=new Set,ot=new Map,at=new Map,Mt=!1;function Br(){if(m=e.history.listen(Y=>{let{action:te,location:ce,delta:ye}=Y;if(Mt){Mt=!1;return}Sa(at.size===0||ye!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Pe=yn({currentLocation:k.location,nextLocation:ce,historyAction:te});if(Pe&&ye!=null){Mt=!0,e.history.go(ye*-1),Oe(Pe,{state:"blocked",location:ce,proceed(){Oe(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:ce}),e.history.go(ye)},reset(){let He=new Map(k.blockers);He.set(Pe,ns),xt({blockers:He})}});return}return X(te,ce)}),n){mx(t,F);let Y=()=>vx(t,F);t.addEventListener("pagehide",Y),Z=()=>t.removeEventListener("pagehide",Y)}return k.initialized||X(jt.Pop,k.location,{initialHydration:!0}),D}function Ae(){m&&m(),Z&&Z(),h.clear(),B&&B.abort(),k.fetchers.forEach((Y,te)=>Ke(te)),k.blockers.forEach((Y,te)=>Xt(te))}function Yn(Y){return h.add(Y),()=>h.delete(Y)}function xt(Y,te){te===void 0&&(te={}),k=Lt({},k,Y);let ce=[],ye=[];d.v7_fetcherPersist&&k.fetchers.forEach((Pe,He)=>{Pe.state==="idle"&&(Le.has(He)?ye.push(He):ce.push(He))}),[...h].forEach(Pe=>Pe(k,{deletedFetchers:ye,unstable_viewTransitionOpts:te.viewTransitionOpts,unstable_flushSync:te.flushSync===!0})),d.v7_fetcherPersist&&(ce.forEach(Pe=>k.fetchers.delete(Pe)),ye.forEach(Pe=>Ke(Pe)))}function Qe(Y,te,ce){var ye,Pe;let{flushSync:He}=ce===void 0?{}:ce,Ue=k.actionData!=null&&k.navigation.formMethod!=null&&yr(k.navigation.formMethod)&&k.navigation.state==="loading"&&((ye=Y.state)==null?void 0:ye._isRedirect)!==!0,Fe;te.actionData?Object.keys(te.actionData).length>0?Fe=te.actionData:Fe=null:Ue?Fe=k.actionData:Fe=null;let _e=te.loaderData?iy(k.loaderData,te.loaderData,te.matches||[],te.errors):k.loaderData,Be=k.blockers;Be.size>0&&(Be=new Map(Be),Be.forEach((ct,Tt)=>Be.set(Tt,ns)));let $t=L===!0||k.navigation.formMethod!=null&&yr(k.navigation.formMethod)&&((Pe=Y.state)==null?void 0:Pe._isRedirect)!==!0;s&&(a=s,s=void 0),ue||P===jt.Pop||(P===jt.Push?e.history.push(Y,Y.state):P===jt.Replace&&e.history.replace(Y,Y.state));let Ve;if(P===jt.Pop){let ct=F.get(k.location.pathname);ct&&ct.has(Y.pathname)?Ve={currentLocation:k.location,nextLocation:Y}:F.has(Y.pathname)&&(Ve={currentLocation:Y,nextLocation:k.location})}else if(N){let ct=F.get(k.location.pathname);ct?ct.add(Y.pathname):(ct=new Set([Y.pathname]),F.set(k.location.pathname,ct)),Ve={currentLocation:k.location,nextLocation:Y}}xt(Lt({},te,{actionData:Fe,loaderData:_e,historyAction:P,location:Y,initialized:!0,navigation:Af,revalidation:"idle",restoreScrollPosition:Fa(Y,te.matches||k.matches),preventScrollReset:$t,blockers:Be}),{viewTransitionOpts:Ve,flushSync:He===!0}),P=jt.Pop,L=!1,N=!1,ue=!1,Ee=!1,Re=[],Ce=[]}async function Bt(Y,te){if(typeof Y=="number"){e.history.go(Y);return}let ce=ah(k.location,k.matches,u,d.v7_prependBasename,Y,d.v7_relativeSplatPath,te==null?void 0:te.fromRouteId,te==null?void 0:te.relative),{path:ye,submission:Pe,error:He}=Xv(d.v7_normalizeFormMethod,!1,ce,te),Ue=k.location,Fe=Us(k.location,ye,te&&te.state);Fe=Lt({},Fe,e.history.encodeLocation(Fe));let _e=te&&te.replace!=null?te.replace:void 0,Be=jt.Push;_e===!0?Be=jt.Replace:_e===!1||Pe!=null&&yr(Pe.formMethod)&&Pe.formAction===k.location.pathname+k.location.search&&(Be=jt.Replace);let $t=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,Ve=(te&&te.unstable_flushSync)===!0,ct=yn({currentLocation:Ue,nextLocation:Fe,historyAction:Be});if(ct){Oe(ct,{state:"blocked",location:Fe,proceed(){Oe(ct,{state:"proceeding",proceed:void 0,reset:void 0,location:Fe}),Bt(Y,te)},reset(){let Tt=new Map(k.blockers);Tt.set(ct,ns),xt({blockers:Tt})}});return}return await X(Be,Fe,{submission:Pe,pendingError:He,preventScrollReset:$t,replace:te&&te.replace,enableViewTransition:te&&te.unstable_viewTransition,flushSync:Ve})}function mn(){if($(),xt({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){X(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}X(P||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation})}}async function X(Y,te,ce){B&&B.abort(),B=null,P=Y,ue=(ce&&ce.startUninterruptedRevalidation)===!0,ja(k.location,k.matches),L=(ce&&ce.preventScrollReset)===!0,N=(ce&&ce.enableViewTransition)===!0;let ye=s||a,Pe=ce&&ce.overrideNavigation,He=ra(ye,te,u),Ue=(ce&&ce.flushSync)===!0;if(!He){let Tt=er(404,{pathname:te.pathname}),{matches:gn,route:gt}=oy(ye);lr(),Qe(te,{matches:gn,loaderData:{},errors:{[gt.id]:Tt}},{flushSync:Ue});return}if(k.initialized&&!Ee&&lx(k.location,te)&&!(ce&&ce.submission&&yr(ce.submission.formMethod))){Qe(te,{matches:He},{flushSync:Ue});return}B=new AbortController;let Fe=is(e.history,te,B.signal,ce&&ce.submission),_e,Be;if(ce&&ce.pendingError)Be={[bs(He).route.id]:ce.pendingError};else if(ce&&ce.submission&&yr(ce.submission.formMethod)){let Tt=await ie(Fe,te,ce.submission,He,{replace:ce.replace,flushSync:Ue});if(Tt.shortCircuited)return;_e=Tt.pendingActionData,Be=Tt.pendingActionError,Pe=Lf(te,ce.submission),Ue=!1,Fe=new Request(Fe.url,{signal:Fe.signal})}let{shortCircuited:$t,loaderData:Ve,errors:ct}=await me(Fe,te,He,Pe,ce&&ce.submission,ce&&ce.fetcherSubmission,ce&&ce.replace,ce&&ce.initialHydration===!0,Ue,_e,Be);$t||(B=null,Qe(te,Lt({matches:He},_e?{actionData:_e}:{},{loaderData:Ve,errors:ct})))}async function ie(Y,te,ce,ye,Pe){Pe===void 0&&(Pe={}),$();let He=hx(te,ce);xt({navigation:He},{flushSync:Pe.flushSync===!0});let Ue,Fe=uh(ye,te);if(!Fe.route.action&&!Fe.route.lazy)Ue={type:It.error,error:er(405,{method:Y.method,pathname:te.pathname,routeId:Fe.route.id})};else if(Ue=await rs("action",Y,Fe,ye,o,i,u,d.v7_relativeSplatPath),Y.signal.aborted)return{shortCircuited:!0};if(ao(Ue)){let _e;return Pe&&Pe.replace!=null?_e=Pe.replace:_e=Ue.location===k.location.pathname+k.location.search,await _(k,Ue,{submission:ce,replace:_e}),{shortCircuited:!0}}if(ia(Ue)){let _e=bs(ye,Fe.route.id);return(Pe&&Pe.replace)!==!0&&(P=jt.Push),{pendingActionData:{},pendingActionError:{[_e.route.id]:Ue.error}}}if(oo(Ue))throw er(400,{type:"defer-action"});return{pendingActionData:{[Fe.route.id]:Ue.data}}}async function me(Y,te,ce,ye,Pe,He,Ue,Fe,_e,Be,$t){let Ve=ye||Lf(te,Pe),ct=Pe||He||uy(Ve),Tt=s||a,[gn,gt]=Zv(e.history,k,ce,ct,te,d.v7_partialHydration&&Fe===!0,Ee,Re,Ce,Le,Ze,Ne,Tt,u,Be,$t);if(lr(Ye=>!(ce&&ce.some(et=>et.route.id===Ye))||gn&&gn.some(et=>et.route.id===Ye)),se=++fe,gn.length===0&&gt.length===0){let Ye=mt();return Qe(te,Lt({matches:ce,loaderData:{},errors:$t||null},Be?{actionData:Be}:{},Ye?{fetchers:new Map(k.fetchers)}:{}),{flushSync:_e}),{shortCircuited:!0}}if(!ue&&(!d.v7_partialHydration||!Fe)){gt.forEach(et=>{let Zt=k.fetchers.get(et.key),fr=os(void 0,Zt?Zt.data:void 0);k.fetchers.set(et.key,fr)});let Ye=Be||k.actionData;xt(Lt({navigation:Ve},Ye?Object.keys(Ye).length===0?{actionData:null}:{actionData:Ye}:{},gt.length>0?{fetchers:new Map(k.fetchers)}:{}),{flushSync:_e})}gt.forEach(Ye=>{Ie.has(Ye.key)&&ze(Ye.key),Ye.controller&&Ie.set(Ye.key,Ye.controller)});let An=()=>gt.forEach(Ye=>ze(Ye.key));B&&B.signal.addEventListener("abort",An);let{results:Jn,loaderResults:cr,fetcherResults:xr}=await O(k.matches,ce,gn,gt,Y);if(Y.signal.aborted)return{shortCircuited:!0};B&&B.signal.removeEventListener("abort",An),gt.forEach(Ye=>Ie.delete(Ye.key));let rn=ay(Jn);if(rn){if(rn.idx>=gn.length){let Ye=gt[rn.idx-gn.length].key;Ne.add(Ye)}return await _(k,rn.result,{replace:Ue}),{shortCircuited:!0}}let{loaderData:jo,errors:Ln}=ry(k,ce,gn,cr,$t,gt,xr,ot);ot.forEach((Ye,et)=>{Ye.subscribe(Zt=>{(Zt||Ye.done)&&ot.delete(et)})}),d.v7_partialHydration&&Fe&&k.errors&&Object.entries(k.errors).filter(Ye=>{let[et]=Ye;return!gn.some(Zt=>Zt.route.id===et)}).forEach(Ye=>{let[et,Zt]=Ye;Ln=Object.assign(Ln||{},{[et]:Zt})});let Fo=mt(),kr=vn(se),wt=Fo||kr||gt.length>0;return Lt({loaderData:jo,errors:Ln},wt?{fetchers:new Map(k.fetchers)}:{})}function Me(Y,te,ce,ye){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ie.has(Y)&&ze(Y);let Pe=(ye&&ye.unstable_flushSync)===!0,He=s||a,Ue=ah(k.location,k.matches,u,d.v7_prependBasename,ce,d.v7_relativeSplatPath,te,ye==null?void 0:ye.relative),Fe=ra(He,Ue,u);if(!Fe){re(Y,te,er(404,{pathname:Ue}),{flushSync:Pe});return}let{path:_e,submission:Be,error:$t}=Xv(d.v7_normalizeFormMethod,!0,Ue,ye);if($t){re(Y,te,$t,{flushSync:Pe});return}let Ve=uh(Fe,_e);if(L=(ye&&ye.preventScrollReset)===!0,Be&&yr(Be.formMethod)){M(Y,te,_e,Ve,Fe,Pe,Be);return}Ze.set(Y,{routeId:te,path:_e}),f(Y,te,_e,Ve,Fe,Pe,Be)}async function M(Y,te,ce,ye,Pe,He,Ue){if($(),Ze.delete(Y),!ye.route.action&&!ye.route.lazy){let et=er(405,{method:Ue.formMethod,pathname:ce,routeId:te});re(Y,te,et,{flushSync:He});return}let Fe=k.fetchers.get(Y);V(Y,px(Ue,Fe),{flushSync:He});let _e=new AbortController,Be=is(e.history,ce,_e.signal,Ue);Ie.set(Y,_e);let $t=fe,Ve=await rs("action",Be,ye,Pe,o,i,u,d.v7_relativeSplatPath);if(Be.signal.aborted){Ie.get(Y)===_e&&Ie.delete(Y);return}if(d.v7_fetcherPersist&&Le.has(Y)){if(ao(Ve)||ia(Ve)){V(Y,vi(void 0));return}}else{if(ao(Ve))if(Ie.delete(Y),se>$t){V(Y,vi(void 0));return}else return Ne.add(Y),V(Y,os(Ue)),_(k,Ve,{fetcherSubmission:Ue});if(ia(Ve)){re(Y,te,Ve.error);return}}if(oo(Ve))throw er(400,{type:"defer-action"});let ct=k.navigation.location||k.location,Tt=is(e.history,ct,_e.signal),gn=s||a,gt=k.navigation.state!=="idle"?ra(gn,k.navigation.location,u):k.matches;nt(gt,"Didn't find any matches after fetcher action");let An=++fe;we.set(Y,An);let Jn=os(Ue,Ve.data);k.fetchers.set(Y,Jn);let[cr,xr]=Zv(e.history,k,gt,Ue,ct,!1,Ee,Re,Ce,Le,Ze,Ne,gn,u,{[ye.route.id]:Ve.data},void 0);xr.filter(et=>et.key!==Y).forEach(et=>{let Zt=et.key,fr=k.fetchers.get(Zt),Bo=os(void 0,fr?fr.data:void 0);k.fetchers.set(Zt,Bo),Ie.has(Zt)&&ze(Zt),et.controller&&Ie.set(Zt,et.controller)}),xt({fetchers:new Map(k.fetchers)});let rn=()=>xr.forEach(et=>ze(et.key));_e.signal.addEventListener("abort",rn);let{results:jo,loaderResults:Ln,fetcherResults:Fo}=await O(k.matches,gt,cr,xr,Tt);if(_e.signal.aborted)return;_e.signal.removeEventListener("abort",rn),we.delete(Y),Ie.delete(Y),xr.forEach(et=>Ie.delete(et.key));let kr=ay(jo);if(kr){if(kr.idx>=cr.length){let et=xr[kr.idx-cr.length].key;Ne.add(et)}return _(k,kr.result)}let{loaderData:wt,errors:Ye}=ry(k,k.matches,cr,Ln,void 0,xr,Fo,ot);if(k.fetchers.has(Y)){let et=vi(Ve.data);k.fetchers.set(Y,et)}vn(An),k.navigation.state==="loading"&&An>se?(nt(P,"Expected pending action"),B&&B.abort(),Qe(k.navigation.location,{matches:gt,loaderData:wt,errors:Ye,fetchers:new Map(k.fetchers)})):(xt({errors:Ye,loaderData:iy(k.loaderData,wt,gt,Ye),fetchers:new Map(k.fetchers)}),Ee=!1)}async function f(Y,te,ce,ye,Pe,He,Ue){let Fe=k.fetchers.get(Y);V(Y,os(Ue,Fe?Fe.data:void 0),{flushSync:He});let _e=new AbortController,Be=is(e.history,ce,_e.signal);Ie.set(Y,_e);let $t=fe,Ve=await rs("loader",Be,ye,Pe,o,i,u,d.v7_relativeSplatPath);if(oo(Ve)&&(Ve=await Kw(Ve,Be.signal,!0)||Ve),Ie.get(Y)===_e&&Ie.delete(Y),!Be.signal.aborted){if(Le.has(Y)){V(Y,vi(void 0));return}if(ao(Ve))if(se>$t){V(Y,vi(void 0));return}else{Ne.add(Y),await _(k,Ve);return}if(ia(Ve)){re(Y,te,Ve.error);return}nt(!oo(Ve),"Unhandled fetcher deferred data"),V(Y,vi(Ve.data))}}async function _(Y,te,ce){let{submission:ye,fetcherSubmission:Pe,replace:He}=ce===void 0?{}:ce;te.revalidate&&(Ee=!0);let Ue=Us(Y.location,te.location,{_isRedirect:!0});if(nt(Ue,"Expected a location on the redirect navigation"),n){let ct=!1;if(te.reloadDocument)ct=!0;else if($w.test(te.location)){const Tt=e.history.createURL(te.location);ct=Tt.origin!==t.location.origin||Ia(Tt.pathname,u)==null}if(ct){He?t.location.replace(te.location):t.location.assign(te.location);return}}B=null;let Fe=He===!0?jt.Replace:jt.Push,{formMethod:_e,formAction:Be,formEncType:$t}=Y.navigation;!ye&&!Pe&&_e&&Be&&$t&&(ye=uy(Y.navigation));let Ve=ye||Pe;if(tx.has(te.status)&&Ve&&yr(Ve.formMethod))await X(Fe,Ue,{submission:Lt({},Ve,{formAction:te.location}),preventScrollReset:L});else{let ct=Lf(Ue,ye);await X(Fe,Ue,{overrideNavigation:ct,fetcherSubmission:Pe,preventScrollReset:L})}}async function O(Y,te,ce,ye,Pe){let He=await Promise.all([...ce.map(_e=>rs("loader",Pe,_e,te,o,i,u,d.v7_relativeSplatPath)),...ye.map(_e=>_e.matches&&_e.match&&_e.controller?rs("loader",is(e.history,_e.path,_e.controller.signal),_e.match,_e.matches,o,i,u,d.v7_relativeSplatPath):{type:It.error,error:er(404,{pathname:_e.path})})]),Ue=He.slice(0,ce.length),Fe=He.slice(ce.length);return await Promise.all([sy(Y,ce,Ue,Ue.map(()=>Pe.signal),!1,k.loaderData),sy(Y,ye.map(_e=>_e.match),Fe,ye.map(_e=>_e.controller?_e.controller.signal:null),!0)]),{results:He,loaderResults:Ue,fetcherResults:Fe}}function $(){Ee=!0,Re.push(...lr()),Ze.forEach((Y,te)=>{Ie.has(te)&&(Ce.push(te),ze(te))})}function V(Y,te,ce){ce===void 0&&(ce={}),k.fetchers.set(Y,te),xt({fetchers:new Map(k.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function re(Y,te,ce,ye){ye===void 0&&(ye={});let Pe=bs(k.matches,te);Ke(Y),xt({errors:{[Pe.route.id]:ce},fetchers:new Map(k.fetchers)},{flushSync:(ye&&ye.flushSync)===!0})}function De(Y){return d.v7_fetcherPersist&&(je.set(Y,(je.get(Y)||0)+1),Le.has(Y)&&Le.delete(Y)),k.fetchers.get(Y)||nx}function Ke(Y){let te=k.fetchers.get(Y);Ie.has(Y)&&!(te&&te.state==="loading"&&we.has(Y))&&ze(Y),Ze.delete(Y),we.delete(Y),Ne.delete(Y),Le.delete(Y),k.fetchers.delete(Y)}function ut(Y){if(d.v7_fetcherPersist){let te=(je.get(Y)||0)-1;te<=0?(je.delete(Y),Le.add(Y)):je.set(Y,te)}else Ke(Y);xt({fetchers:new Map(k.fetchers)})}function ze(Y){let te=Ie.get(Y);nt(te,"Expected fetch controller: "+Y),te.abort(),Ie.delete(Y)}function We(Y){for(let te of Y){let ce=De(te),ye=vi(ce.data);k.fetchers.set(te,ye)}}function mt(){let Y=[],te=!1;for(let ce of Ne){let ye=k.fetchers.get(ce);nt(ye,"Expected fetcher: "+ce),ye.state==="loading"&&(Ne.delete(ce),Y.push(ce),te=!0)}return We(Y),te}function vn(Y){let te=[];for(let[ce,ye]of we)if(ye<Y){let Pe=k.fetchers.get(ce);nt(Pe,"Expected fetcher: "+ce),Pe.state==="loading"&&(ze(ce),we.delete(ce),te.push(ce))}return We(te),te.length>0}function Gn(Y,te){let ce=k.blockers.get(Y)||ns;return at.get(Y)!==te&&at.set(Y,te),ce}function Xt(Y){k.blockers.delete(Y),at.delete(Y)}function Oe(Y,te){let ce=k.blockers.get(Y)||ns;nt(ce.state==="unblocked"&&te.state==="blocked"||ce.state==="blocked"&&te.state==="blocked"||ce.state==="blocked"&&te.state==="proceeding"||ce.state==="blocked"&&te.state==="unblocked"||ce.state==="proceeding"&&te.state==="unblocked","Invalid blocker state transition: "+ce.state+" -> "+te.state);let ye=new Map(k.blockers);ye.set(Y,te),xt({blockers:ye})}function yn(Y){let{currentLocation:te,nextLocation:ce,historyAction:ye}=Y;if(at.size===0)return;at.size>1&&Sa(!1,"A router only supports one blocker at a time");let Pe=Array.from(at.entries()),[He,Ue]=Pe[Pe.length-1],Fe=k.blockers.get(He);if(!(Fe&&Fe.state==="proceeding")&&Ue({currentLocation:te,nextLocation:ce,historyAction:ye}))return He}function lr(Y){let te=[];return ot.forEach((ce,ye)=>{(!Y||Y(ye))&&(ce.cancel(),te.push(ye),ot.delete(ye))}),te}function No(Y,te,ce){if(p=Y,g=te,w=ce||null,!E&&k.navigation===Af){E=!0;let ye=Fa(k.location,k.matches);ye!=null&&xt({restoreScrollPosition:ye})}return()=>{p=null,g=null,w=null}}function xe(Y,te){return w&&w(Y,te.map(ye=>IC(ye,k.loaderData)))||Y.key}function ja(Y,te){if(p&&g){let ce=xe(Y,te);p[ce]=g()}}function Fa(Y,te){if(p){let ce=xe(Y,te),ye=p[ce];if(typeof ye=="number")return ye}return null}function Ba(Y){o={},s=oh(Y,i,void 0,o)}return D={get basename(){return u},get future(){return d},get state(){return k},get routes(){return a},get window(){return t},initialize:Br,subscribe:Yn,enableScrollRestoration:No,navigate:Bt,fetch:Me,revalidate:mn,createHref:Y=>e.history.createHref(Y),encodeLocation:Y=>e.history.encodeLocation(Y),getFetcher:De,deleteFetcher:ut,dispose:Ae,getBlocker:Gn,deleteBlocker:Xt,_internalFetchControllers:Ie,_internalActiveDeferreds:ot,_internalSetRoutes:Ba},D}function ox(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ah(e,t,n,r,i,o,a,s){let u,d;if(a){u=[];for(let h of t)if(u.push(h),h.route.id===a){d=h;break}}else u=t,d=t[t.length-1];let m=Tp(i||".",Dp(u,o),Ia(e.pathname,n)||e.pathname,s==="path");return i==null&&(m.search=e.search,m.hash=e.hash),(i==null||i===""||i===".")&&d&&d.route.index&&!Ap(m.search)&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(m.pathname=m.pathname==="/"?n:Qr([n,m.pathname])),_o(m)}function Xv(e,t,n,r){if(!r||!ox(r))return{path:n};if(r.formMethod&&!dx(r.formMethod))return{path:n,error:er(405,{method:r.formMethod})};let i=()=>({path:n,error:er(400,{type:"invalid-body"})}),o=r.formMethod||"get",a=e?o.toUpperCase():o.toLowerCase(),s=qw(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!yr(a))return i();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,g)=>{let[E,I]=g;return""+w+E+"="+I+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!yr(a))return i();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:s,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return i()}}}nt(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=sh(r.formData),d=r.formData;else if(r.body instanceof FormData)u=sh(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=ny(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=ny(u)}catch{return i()}let m={formMethod:a,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(yr(m.formMethod))return{path:n,submission:m};let h=ci(n);return t&&h.search&&Ap(h.search)&&u.append("index",""),h.search="?"+u,{path:_o(h),submission:m}}function ax(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function Zv(e,t,n,r,i,o,a,s,u,d,m,h,p,w,g,E){let I=E?Object.values(E)[0]:g?Object.values(g)[0]:void 0,S=e.createURL(t.location),C=e.createURL(i),y=E?Object.keys(E)[0]:void 0,D=ax(n,y).filter((P,L)=>{let{route:B}=P;if(B.lazy)return!0;if(B.loader==null)return!1;if(o)return B.loader.hydrate?!0:t.loaderData[B.id]===void 0&&(!t.errors||t.errors[B.id]===void 0);if(sx(t.loaderData,t.matches[L],P)||s.some(Z=>Z===P.route.id))return!0;let N=t.matches[L],F=P;return ey(P,Lt({currentUrl:S,currentParams:N.params,nextUrl:C,nextParams:F.params},r,{actionResult:I,defaultShouldRevalidate:a||S.pathname+S.search===C.pathname+C.search||S.search!==C.search||zw(N,F)}))}),k=[];return m.forEach((P,L)=>{if(o||!n.some(ue=>ue.route.id===P.routeId)||d.has(L))return;let B=ra(p,P.path,w);if(!B){k.push({key:L,routeId:P.routeId,path:P.path,matches:null,match:null,controller:null});return}let N=t.fetchers.get(L),F=uh(B,P.path),Z=!1;h.has(L)?Z=!1:u.includes(L)?Z=!0:N&&N.state!=="idle"&&N.data===void 0?Z=a:Z=ey(F,Lt({currentUrl:S,currentParams:t.matches[t.matches.length-1].params,nextUrl:C,nextParams:n[n.length-1].params},r,{actionResult:I,defaultShouldRevalidate:a})),Z&&k.push({key:L,routeId:P.routeId,path:P.path,matches:B,match:F,controller:new AbortController})}),[D,k]}function sx(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function zw(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ey(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function ty(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];nt(i,"No route found in manifest");let o={};for(let a in r){let u=i[a]!==void 0&&a!=="hasErrorBoundary";Sa(!u,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!u&&!DC.has(a)&&(o[a]=r[a])}Object.assign(i,o),Object.assign(i,Lt({},t(i),{lazy:void 0}))}async function rs(e,t,n,r,i,o,a,s,u){u===void 0&&(u={});let d,m,h,p=E=>{let I,S=new Promise((C,y)=>I=y);return h=()=>I(),t.signal.addEventListener("abort",h),Promise.race([E({request:t,params:n.params,context:u.requestContext}),S])};try{let E=n.route[e];if(n.route.lazy)if(E){let I,S=await Promise.all([p(E).catch(C=>{I=C}),ty(n.route,o,i)]);if(I)throw I;m=S[0]}else if(await ty(n.route,o,i),E=n.route[e],E)m=await p(E);else if(e==="action"){let I=new URL(t.url),S=I.pathname+I.search;throw er(405,{method:t.method,pathname:S,routeId:n.route.id})}else return{type:It.data,data:void 0};else if(E)m=await p(E);else{let I=new URL(t.url),S=I.pathname+I.search;throw er(404,{pathname:S})}nt(m!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(E){d=It.error,m=E}finally{h&&t.signal.removeEventListener("abort",h)}if(fx(m)){let E=m.status;if(ex.has(E)){let S=m.headers.get("Location");if(nt(S,"Redirects returned/thrown from loaders/actions must have a Location header"),!$w.test(S))S=ah(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,S,s);else if(!u.isStaticRequest){let C=new URL(t.url),y=S.startsWith("//")?new URL(C.protocol+S):new URL(S),R=Ia(y.pathname,a)!=null;y.origin===C.origin&&R&&(S=y.pathname+y.search+y.hash)}if(u.isStaticRequest)throw m.headers.set("Location",S),m;return{type:It.redirect,status:E,location:S,revalidate:m.headers.get("X-Remix-Revalidate")!==null,reloadDocument:m.headers.get("X-Remix-Reload-Document")!==null}}if(u.isRouteRequest)throw{type:d===It.error?It.error:It.data,response:m};let I;try{let S=m.headers.get("Content-Type");S&&/\bapplication\/json\b/.test(S)?m.body==null?I=null:I=await m.json():I=await m.text()}catch(S){return{type:It.error,error:S}}return d===It.error?{type:d,error:new Ip(E,m.statusText,I),headers:m.headers}:{type:It.data,data:I,statusCode:m.status,headers:m.headers}}if(d===It.error)return{type:d,error:m};if(cx(m)){var w,g;return{type:It.deferred,deferredData:m,statusCode:(w=m.init)==null?void 0:w.status,headers:((g=m.init)==null?void 0:g.headers)&&new Headers(m.init.headers)}}return{type:It.data,data:m}}function is(e,t,n,r){let i=e.createURL(qw(t)).toString(),o={signal:n};if(r&&yr(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=sh(r.formData):o.body=r.formData}return new Request(i,o)}function sh(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function ny(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function ux(e,t,n,r,i){let o={},a=null,s,u=!1,d={};return n.forEach((m,h)=>{let p=t[h].route.id;if(nt(!ao(m),"Cannot handle redirect results in processLoaderData"),ia(m)){let w=bs(e,p),g=m.error;r&&(g=Object.values(r)[0],r=void 0),a=a||{},a[w.route.id]==null&&(a[w.route.id]=g),o[p]=void 0,u||(u=!0,s=Fw(m.error)?m.error.status:500),m.headers&&(d[p]=m.headers)}else oo(m)?(i.set(p,m.deferredData),o[p]=m.deferredData.data):o[p]=m.data,m.statusCode!=null&&m.statusCode!==200&&!u&&(s=m.statusCode),m.headers&&(d[p]=m.headers)}),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:d}}function ry(e,t,n,r,i,o,a,s){let{loaderData:u,errors:d}=ux(t,n,r,i,s);for(let m=0;m<o.length;m++){let{key:h,match:p,controller:w}=o[m];nt(a!==void 0&&a[m]!==void 0,"Did not find corresponding fetcher result");let g=a[m];if(!(w&&w.signal.aborted))if(ia(g)){let E=bs(e.matches,p==null?void 0:p.route.id);d&&d[E.route.id]||(d=Lt({},d,{[E.route.id]:g.error})),e.fetchers.delete(h)}else if(ao(g))nt(!1,"Unhandled fetcher revalidation redirect");else if(oo(g))nt(!1,"Unhandled fetcher deferred data");else{let E=vi(g.data);e.fetchers.set(h,E)}}return{loaderData:u,errors:d}}function iy(e,t,n,r){let i=Lt({},t);for(let o of n){let a=o.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(i[a]=t[a]):e[a]!==void 0&&o.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function bs(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function oy(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function er(e,t){let{pathname:n,routeId:r,method:i,type:o}=t===void 0?{}:t,a="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(a="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?s="defer() is not supported in actions":o==="invalid-body"&&(s="Unable to encode submission body")):e===403?(a="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",s='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new Ip(e||500,a,new Error(s),!0)}function ay(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(ao(n))return{result:n,idx:t}}}function qw(e){let t=typeof e=="string"?ci(e):e;return _o(Lt({},t,{hash:""}))}function lx(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function oo(e){return e.type===It.deferred}function ia(e){return e.type===It.error}function ao(e){return(e&&e.type)===It.redirect}function cx(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function fx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function dx(e){return ZC.has(e.toLowerCase())}function yr(e){return JC.has(e.toLowerCase())}async function sy(e,t,n,r,i,o){for(let a=0;a<n.length;a++){let s=n[a],u=t[a];if(!u)continue;let d=e.find(h=>h.route.id===u.route.id),m=d!=null&&!zw(d,u)&&(o&&o[u.route.id])!==void 0;if(oo(s)&&(i||m)){let h=r[a];nt(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await Kw(s,h,i).then(p=>{p&&(n[a]=p||n[a])})}}}async function Kw(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:It.data,data:e.deferredData.unwrappedData}}catch(i){return{type:It.error,error:i}}return{type:It.data,data:e.deferredData.data}}}function Ap(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function uh(e,t){let n=typeof t=="string"?ci(t).search:t.search;if(e[e.length-1].route.index&&Ap(n||""))return e[e.length-1];let r=jw(e);return r[r.length-1]}function uy(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function Lf(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function hx(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function os(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function px(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function vi(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function mx(e,t){try{let n=e.sessionStorage.getItem(Uw);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function vx(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(Uw,JSON.stringify(n))}catch(r){Sa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(this,arguments)}const wc=pe.createContext(null),Ww=pe.createContext(null),To=pe.createContext(null),_c=pe.createContext(null),Io=pe.createContext({outlet:null,matches:[],isDataRoute:!1}),Hw=pe.createContext(null);function yx(e,t){let{relative:n}=t===void 0?{}:t;iu()||nt(!1);let{basename:r,navigator:i}=pe.useContext(To),{hash:o,pathname:a,search:s}=Qw(e,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:Qr([r,a])),i.createHref({pathname:u,search:s,hash:o})}function iu(){return pe.useContext(_c)!=null}function bc(){return iu()||nt(!1),pe.useContext(_c).location}function Vw(e){pe.useContext(To).static||pe.useLayoutEffect(e)}function gx(){let{isDataRoute:e}=pe.useContext(Io);return e?Dx():wx()}function wx(){iu()||nt(!1);let e=pe.useContext(wc),{basename:t,future:n,navigator:r}=pe.useContext(To),{matches:i}=pe.useContext(Io),{pathname:o}=bc(),a=JSON.stringify(Dp(i,n.v7_relativeSplatPath)),s=pe.useRef(!1);return Vw(()=>{s.current=!0}),pe.useCallback(function(d,m){if(m===void 0&&(m={}),!s.current)return;if(typeof d=="number"){r.go(d);return}let h=Tp(d,JSON.parse(a),o,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Qr([t,h.pathname])),(m.replace?r.replace:r.push)(h,m.state,m)},[t,r,a,o,e])}function Qw(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=pe.useContext(To),{matches:i}=pe.useContext(Io),{pathname:o}=bc(),a=JSON.stringify(Dp(i,r.v7_relativeSplatPath));return pe.useMemo(()=>Tp(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function _x(e,t,n,r){iu()||nt(!1);let{navigator:i}=pe.useContext(To),{matches:o}=pe.useContext(Io),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=bc(),m;if(t){var h;let I=typeof t=="string"?ci(t):t;u==="/"||(h=I.pathname)!=null&&h.startsWith(u)||nt(!1),m=I}else m=d;let p=m.pathname||"/",w=p;if(u!=="/"){let I=u.replace(/^\//,"").split("/");w="/"+p.replace(/^\//,"").split("/").slice(I.length).join("/")}let g=ra(e,{pathname:w}),E=xx(g&&g.map(I=>Object.assign({},I,{params:Object.assign({},s,I.params),pathname:Qr([u,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?u:Qr([u,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),o,n,r);return t&&E?pe.createElement(_c.Provider,{value:{location:zs({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:jt.Pop}},E):E}function bx(){let e=Px(),t=Fw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return pe.createElement(pe.Fragment,null,pe.createElement("h2",null,"Unexpected Application Error!"),pe.createElement("h3",{style:{fontStyle:"italic"}},t),n?pe.createElement("pre",{style:i},n):null,null)}const Sx=pe.createElement(bx,null);class Ex extends pe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?pe.createElement(Io.Provider,{value:this.props.routeContext},pe.createElement(Hw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Cx(e){let{routeContext:t,match:n,children:r}=e,i=pe.useContext(wc);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),pe.createElement(Io.Provider,{value:t},r)}function xx(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if((o=n)!=null&&o.errors)e=n.matches;else return null}let a=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let m=a.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id]));m>=0||nt(!1),a=a.slice(0,Math.min(a.length,m+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let h=a[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:p,errors:w}=n,g=h.route.loader&&p[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||g){u=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,h,p)=>{let w,g=!1,E=null,I=null;n&&(w=s&&h.route.id?s[h.route.id]:void 0,E=h.route.errorElement||Sx,u&&(d<0&&p===0?(Tx("route-fallback",!1),g=!0,I=null):d===p&&(g=!0,I=h.route.hydrateFallbackElement||null)));let S=t.concat(a.slice(0,p+1)),C=()=>{let y;return w?y=E:g?y=I:h.route.Component?y=pe.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=m,pe.createElement(Cx,{match:h,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?pe.createElement(Ex,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var Yw=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Yw||{}),$l=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($l||{});function kx(e){let t=pe.useContext(wc);return t||nt(!1),t}function Rx(e){let t=pe.useContext(Ww);return t||nt(!1),t}function Ox(e){let t=pe.useContext(Io);return t||nt(!1),t}function Gw(e){let t=Ox(),n=t.matches[t.matches.length-1];return n.route.id||nt(!1),n.route.id}function Px(){var e;let t=pe.useContext(Hw),n=Rx($l.UseRouteError),r=Gw($l.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Dx(){let{router:e}=kx(Yw.UseNavigateStable),t=Gw($l.UseNavigateStable),n=pe.useRef(!1);return Vw(()=>{n.current=!0}),pe.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,zs({fromRouteId:t},o)))},[e,t])}const ly={};function Tx(e,t,n){!t&&!ly[e]&&(ly[e]=!0)}function Ix(e){let{basename:t="/",children:n=null,location:r,navigationType:i=jt.Pop,navigator:o,static:a=!1,future:s}=e;iu()&&nt(!1);let u=t.replace(/^\/*/,"/"),d=pe.useMemo(()=>({basename:u,navigator:o,static:a,future:zs({v7_relativeSplatPath:!1},s)}),[u,s,o,a]);typeof r=="string"&&(r=ci(r));let{pathname:m="/",search:h="",hash:p="",state:w=null,key:g="default"}=r,E=pe.useMemo(()=>{let I=Ia(m,u);return I==null?null:{location:{pathname:I,search:h,hash:p,state:w,key:g},navigationType:i}},[u,m,h,p,w,g,i]);return E==null?null:pe.createElement(To.Provider,{value:d},pe.createElement(_c.Provider,{children:n,value:E}))}new Promise(()=>{});function Ax(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:pe.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:pe.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:pe.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qs.apply(this,arguments)}function Lx(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Mx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Nx(e,t){return e.button===0&&(!t||t==="_self")&&!Mx(e)}const jx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Fx="6";try{window.__reactRouterVersion=Fx}catch{}function Bx(e,t){return ix({basename:t==null?void 0:t.basename,future:qs({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:RC({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||$x(),routes:e,mapRouteProperties:Ax,window:t==null?void 0:t.window}).initialize()}function $x(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=qs({},t,{errors:Ux(t.errors)})),t}function Ux(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ip(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const zx=pe.createContext({isTransitioning:!1}),qx=pe.createContext(new Map),Kx="startTransition",cy=mS[Kx],Wx="flushSync",fy=kC[Wx];function Hx(e){cy?cy(e):e()}function as(e){fy?fy(e):e()}class Vx{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function Qx(e){let{fallbackElement:t,router:n,future:r}=e,[i,o]=pe.useState(n.state),[a,s]=pe.useState(),[u,d]=pe.useState({isTransitioning:!1}),[m,h]=pe.useState(),[p,w]=pe.useState(),[g,E]=pe.useState(),I=pe.useRef(new Map),{v7_startTransition:S}=r||{},C=pe.useCallback(P=>{S?Hx(P):P()},[S]),y=pe.useCallback((P,L)=>{let{deletedFetchers:B,unstable_flushSync:N,unstable_viewTransitionOpts:F}=L;B.forEach(ue=>I.current.delete(ue)),P.fetchers.forEach((ue,Ee)=>{ue.data!==void 0&&I.current.set(Ee,ue.data)});let Z=n.window==null||typeof n.window.document.startViewTransition!="function";if(!F||Z){N?as(()=>o(P)):C(()=>o(P));return}if(N){as(()=>{p&&(m&&m.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let ue=n.window.document.startViewTransition(()=>{as(()=>o(P))});ue.finished.finally(()=>{as(()=>{h(void 0),w(void 0),s(void 0),d({isTransitioning:!1})})}),as(()=>w(ue));return}p?(m&&m.resolve(),p.skipTransition(),E({state:P,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(s(P),d({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[n.window,p,m,I,C]);pe.useLayoutEffect(()=>n.subscribe(y),[n,y]),pe.useEffect(()=>{u.isTransitioning&&!u.flushSync&&h(new Vx)},[u]),pe.useEffect(()=>{if(m&&a&&n.window){let P=a,L=m.promise,B=n.window.document.startViewTransition(async()=>{C(()=>o(P)),await L});B.finished.finally(()=>{h(void 0),w(void 0),s(void 0),d({isTransitioning:!1})}),w(B)}},[C,a,m,n.window]),pe.useEffect(()=>{m&&a&&i.location.key===a.location.key&&m.resolve()},[m,p,i.location,a]),pe.useEffect(()=>{!u.isTransitioning&&g&&(s(g.state),d({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),E(void 0))},[u.isTransitioning,g]),pe.useEffect(()=>{},[]);let R=pe.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:P=>n.navigate(P),push:(P,L,B)=>n.navigate(P,{state:L,preventScrollReset:B==null?void 0:B.preventScrollReset}),replace:(P,L,B)=>n.navigate(P,{replace:!0,state:L,preventScrollReset:B==null?void 0:B.preventScrollReset})}),[n]),D=n.basename||"/",k=pe.useMemo(()=>({router:n,navigator:R,static:!1,basename:D}),[n,R,D]);return pe.createElement(pe.Fragment,null,pe.createElement(wc.Provider,{value:k},pe.createElement(Ww.Provider,{value:i},pe.createElement(qx.Provider,{value:I.current},pe.createElement(zx.Provider,{value:u},pe.createElement(Ix,{basename:D,location:i.location,navigationType:i.historyAction,navigator:R,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?pe.createElement(Yx,{routes:n.routes,future:n.future,state:i}):t))))),null)}function Yx(e){let{routes:t,future:n,state:r}=e;return _x(t,void 0,r,n)}const Gx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dy=pe.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:u,to:d,preventScrollReset:m,unstable_viewTransition:h}=t,p=Lx(t,jx),{basename:w}=pe.useContext(To),g,E=!1;if(typeof d=="string"&&Jx.test(d)&&(g=d,Gx))try{let y=new URL(window.location.href),R=d.startsWith("//")?new URL(y.protocol+d):new URL(d),D=Ia(R.pathname,w);R.origin===y.origin&&D!=null?d=D+R.search+R.hash:E=!0}catch{}let I=yx(d,{relative:i}),S=Xx(d,{replace:a,state:s,target:u,preventScrollReset:m,relative:i,unstable_viewTransition:h});function C(y){r&&r(y),y.defaultPrevented||S(y)}return pe.createElement("a",qs({},p,{href:g||I,onClick:E||o?r:C,ref:n,target:u}))});var hy;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hy||(hy={}));var py;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(py||(py={}));function Xx(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s}=t===void 0?{}:t,u=gx(),d=bc(),m=Qw(e,{relative:a});return pe.useCallback(h=>{if(Nx(h,n)){h.preventDefault();let p=r!==void 0?r:_o(d)===_o(m);u(e,{replace:p,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:s})}},[d,u,m,r,i,n,e,o,a,s])}function Zx(){return vt.jsx("div",{style:{display:"flex",gap:"4px"},children:vt.jsxs("ul",{children:[vt.jsx("li",{children:vt.jsx(dy,{to:"/normal",children:"normal ( the way of the default connection signaling service of rxdb. )"})}),vt.jsx("li",{children:vt.jsx(dy,{to:"/shared",children:"shared ( the way of the cache socket )"})})]})})}function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function ek(e,t){if(Ks(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tk(e){var t=ek(e,"string");return Ks(t)=="symbol"?t:t+""}function my(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tk(r.key),r)}}function zi(e,t,n){return t&&my(e.prototype,t),n&&my(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nk(e){return e[e.length-1]}function Ws(e){return Array.isArray(e)?e.slice(0):[e]}function rk(e,t){e=e.slice(0);for(var n=[];e.length;){var r=e.splice(0,t);n.push(r)}return n}function fa(e){return Array.isArray(e)}function Jw(e){return e!=null}function Mf(e,t){var n=0,r=-1;for(var i of e){r=r+1;var o=t(i,r);if(o)n=n+1;else break}return n}function bo(e,t){for(var n=t.length,r=0;r<n;++r){var i=t[r];e.push(i)}}function ik(e){return e.filter(function(t,n,r){return r.indexOf(t)===n})}function Ea(e){var t=e.split("-");if(t.length!==2)throw new Error("malformatted revision: "+e);return{height:parseInt(t[0],10),hash:t[1]}}function vy(e){var t=parseInt(e.split("-")[0],10);return t}function ti(e,t){var n=t?t._rev:null,r=n?Ea(n).height:0,i=r+1;return i+"-"+e}function Xw(e){return Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&e[t]!==null&&(typeof e[t]=="object"||typeof e[t]=="function")&&!Object.isFrozen(e[t])&&Xw(e[t])}),e}function ok(e){var t=e.split("."),n=t.length;return n===1?r=>r[e]:r=>{for(var i=r,o=0;o<n;++o){var a=t[o];if(i=i[a],typeof i>"u")return i}return i}}function lh(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(typeof e[n]=="object"){var r=lh(e[n]);for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[n+"."+i]=r[i])}else t[n]=e[n];return t}function dt(e){return Object.assign({},e)}function ak(e){return Object.keys(e)[0]}function Ul(e,t=!1){if(!e)return e;if(!t&&Array.isArray(e))return e.sort((r,i)=>typeof r=="string"&&typeof i=="string"?r.localeCompare(i):typeof r=="object"?1:-1).map(r=>Ul(r,t));if(typeof e=="object"&&!Array.isArray(e)){var n={};return Object.keys(e).sort((r,i)=>r.localeCompare(i)).forEach(r=>{n[r]=Ul(e[r],t)}),n}return e}function ch(e){if(!e||e===null||typeof e!="object")return e;if(Array.isArray(e)){for(var t=new Array(e.length),n=t.length;n--;)t[n]=ch(e[n]);return t}var r={};for(var i in e)r[i]=ch(e[i]);return r}var ur=ch;function Mi(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}var Lp=1;function ou(){return{lwt:Lp}}function Er(){return""}function sk(e){return Object.assign({},e,{_meta:void 0,_deleted:void 0,_rev:void 0})}function uk(e,t,n){if(t.length!==n.length)return!1;for(var r=0,i=t.length;r<i;){var o=t[r],a=n[r];if(r++,o._rev!==a._rev||o[e]!==a[e])return!1}return!0}class Ni{constructor(t,n){t=this.words=t||[],this.sigBytes=n===void 0?t.length*4:n}toString(t){return(t||lk).stringify(this)}concat(t){if(this.clamp(),this.sigBytes%4)for(let n=0;n<t.sigBytes;n++){const r=t.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=r<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<t.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=t.words[n>>>2];return this.sigBytes+=t.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Ni([...this.words])}}const lk={stringify(e){const t=[];for(let n=0;n<e.sigBytes;n++){const r=e.words[n>>>2]>>>24-n%4*8&255;t.push((r>>>4).toString(16),(r&15).toString(16))}return t.join("")}},ck={parse(e){const t=e.length,n=[];for(let r=0;r<t;r++)n[r>>>2]|=(e.charCodeAt(r)&255)<<24-r%4*8;return new Ni(n,t)}},fk={parse(e){return ck.parse(unescape(encodeURIComponent(e)))}};class dk{constructor(){this._data=new Ni,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new Ni,this._nDataBytes=0}_append(t){typeof t=="string"&&(t=fk.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes}_doProcessBlock(t,n){}_process(t){let n,r=this._data.sigBytes/(this.blockSize*4);t?r=Math.ceil(r):r=Math.max((r|0)-this._minBufferSize,0);const i=r*this.blockSize,o=Math.min(i*4,this._data.sigBytes);if(i){for(let a=0;a<i;a+=this.blockSize)this._doProcessBlock(this._data.words,a);n=this._data.words.splice(0,i),this._data.sigBytes-=o}return new Ni(n,o)}}class hk extends dk{update(t){return this._append(t),this._process(),this}finalize(t){t&&this._append(t)}}const yy=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],pk=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ji=[];class mk extends hk{constructor(){super(...arguments),this._hash=new Ni([...yy])}reset(){super.reset(),this._hash=new Ni([...yy])}_doProcessBlock(t,n){const r=this._hash.words;let i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],d=r[5],m=r[6],h=r[7];for(let p=0;p<64;p++){if(p<16)Ji[p]=t[n+p]|0;else{const y=Ji[p-15],R=(y<<25|y>>>7)^(y<<14|y>>>18)^y>>>3,D=Ji[p-2],k=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;Ji[p]=R+Ji[p-7]+k+Ji[p-16]}const w=u&d^~u&m,g=i&o^i&a^o&a,E=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),I=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),S=h+I+w+pk[p]+Ji[p],C=E+g;h=m,m=d,d=u,u=s+S|0,s=a,a=o,o=i,i=S+C|0}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0,r[5]=r[5]+d|0,r[6]=r[6]+m|0,r[7]=r[7]+h|0}finalize(t){super.finalize(t);const n=this._nDataBytes*8,r=this._data.sigBytes*8;return this._data.words[r>>>5]|=128<<24-r%32,this._data.words[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(r+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function vk(e){return new mk().finalize(e).toString()}function yk(e){return Promise.resolve(vk(e))}async function gk(e){var t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t),r=Array.prototype.map.call(new Uint8Array(n),i=>("00"+i.toString(16)).slice(-2)).join("");return r}var wk=typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.digest=="function",_k=wk?gk:yk;function bk(){return new Promise(e=>setTimeout(e,0))}function Mp(e=0){return new Promise(t=>setTimeout(t,e))}function Sk(e){return e&&typeof e.then=="function"?e:Promise.resolve(e)}var Sc=Promise.resolve(!0),wr=Promise.resolve(!1),Ek=Promise.resolve(null),bn=Promise.resolve();function Zw(e=1e4){return typeof requestIdleCallback=="function"?new Promise(t=>{requestIdleCallback(()=>t(),{timeout:e})}):Mp(0)}var Nf=bn;function Ck(e=void 0){return Nf=Nf.then(()=>Zw(e)),Nf}function xk(e,t){return e.reduce((n,r)=>n.then(r),Promise.resolve(t))}var kk=/\./g,gy="abcdefghijklmnopqrstuvwxyz";function qi(e=10){for(var t="",n=0;n<e;n++)t+=gy.charAt(Math.floor(Math.random()*gy.length));return t}function e_(e){e+="";var t=e.charAt(0).toUpperCase();return t+e.substr(1)}function Ci(e){for(;e.charAt(0)===".";)e=e.substr(1);for(;e.slice(-1)===".";)e=e.slice(0,-1);return e}function t_(e){return!!(e.includes("/")||e.includes("\\"))}function Hs(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r;if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Hs(e[r],t[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){var o=i[r];if(!Hs(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}var fh=e=>{var t=typeof e;return e!==null&&(t==="object"||t==="function")},jf=new Set(["__proto__","prototype","constructor"]),Rk=new Set("0123456789");function n_(e){var t=[],n="",r="start",i=!1;for(var o of e)switch(o){case"\\":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");i&&(n+=o),r="property",i=!i;break}case".":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="property";break}if(i){i=!1,n+=o;break}if(jf.has(n))return[];t.push(n),n="",r="property";break}case"[":{if(r==="index")throw new Error("Invalid character in an index");if(r==="indexEnd"){r="index";break}if(i){i=!1,n+=o;break}if(r==="property"){if(jf.has(n))return[];t.push(n),n=""}r="index";break}case"]":{if(r==="index"){t.push(Number.parseInt(n,10)),n="",r="indexEnd";break}if(r==="indexEnd")throw new Error("Invalid character after an index")}default:{if(r==="index"&&!Rk.has(o))throw new Error("Invalid character in an index");if(r==="indexEnd")throw new Error("Invalid character after an index");r==="start"&&(r="property"),i&&(i=!1,n+="\\"),n+=o}}switch(i&&(n+="\\"),r){case"property":{if(jf.has(n))return[];t.push(n);break}case"index":throw new Error("Index was not closed");case"start":{t.push("");break}}return t}function r_(e,t){if(typeof t!="number"&&Array.isArray(e)){var n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}function Ok(e,t){if(r_(e,t))throw new Error("Cannot use string index")}function Ar(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!t.includes(".")&&!t.includes("["))return e[t];if(!fh(e)||typeof t!="string")return n===void 0?e:n;var r=n_(t);if(r.length===0)return n;for(var i=0;i<r.length;i++){var o=r[i];if(r_(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function i_(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!fh(e)||typeof t!="string")return e;for(var r=e,i=n_(t),o=0;o<i.length;o++){var a=i[o];Ok(e,a),o===i.length-1?e[a]=n:fh(e[a])||(e[a]=typeof i[o+1]=="number"?[]:{}),e=e[a]}return r}function ni(e,t){var n=e.get(t);if(typeof n>"u")throw new Error("missing value from map "+t);return n}function jr(e,t,n,r){var i=e.get(t);return typeof i>"u"?(i=n(),e.set(t,i)):r&&r(i),i}function _t(e){var t=e.split("-"),n="RxDB";return t.forEach(r=>{n+=e_(r)}),n+="Plugin",new Error(`You are using a function which must be overwritten by a plugin.
        You should either prevent the usage of this function or add the plugin via:
            import { `+n+" } from 'rxdb/plugins/"+e+`';
            addRxPlugin(`+n+`);
        `)}function wy(e){var t={name:e.name,message:e.message,rxdb:e.rxdb,parameters:e.parameters,code:e.code,stack:e.stack?e.stack.replace(/\n/g,` 
 `):void 0};return t}var Ff=0;function Jt(){var e=Date.now();e=e+.01,e<=Ff&&(e=Ff+.01);var t=parseFloat(e.toFixed(2));return Ff=t,t}function $e(e,t){if(!e)throw t||(t=""),new Error("ensureNotFalsy() is falsy: "+t);return e}var o_={bufferSize:1,refCount:!0},a_="15.18.1";function Vs(e,t){return Vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vs(e,t)}function s_(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Vs(e,t)}function dh(e){return dh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dh(e)}function Pk(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function u_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u_=function(){return!!e})()}function Dk(e,t,n){if(u_())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&Vs(i,n.prototype),i}function zl(e){var t=typeof Map=="function"?new Map:void 0;return zl=function(r){if(r===null||!Pk(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return Dk(r,arguments,dh(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Vs(i,r)},zl(e)}var zt={isDevMode(){return!1},deepFreezeWhenDevMode(e){return e},tunnelErrorMessage(e){return"RxDB Error-Code "+e+`.
        Error messages are not included in RxDB core to reduce build size.
        - To find out what this error means, either use the dev-mode-plugin https://rxdb.info/dev-mode.html
        - or search for the error code here: https://github.com/pubkey/rxdb/search?q=`+e+`
        `}};function Tk(e){var t="";return Object.keys(e).length===0||(t+=`Given parameters: {
`,t+=Object.keys(e).map(n=>{var r="[object Object]";try{n==="errors"?r=e[n].map(i=>JSON.stringify(i,Object.getOwnPropertyNames(i))):r=JSON.stringify(e[n],function(i,o){return o===void 0?null:o},2)}catch{}return n+":"+r}).join(`
`),t+="}"),t}function l_(e,t,n){return"RxError ("+t+`):
`+e+`
`+Tk(n)}var Ik=function(e){function t(r,i,o={}){var a,s=l_(i,r,o);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=o,a.rxdb=!0,a}s_(t,e);var n=t.prototype;return n.toString=function(){return this.message},zi(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(zl(Error)),Ak=function(e){function t(r,i,o={}){var a,s=l_(i,r,o);return a=e.call(this,s)||this,a.code=r,a.message=s,a.parameters=o,a.rxdb=!0,a}s_(t,e);var n=t.prototype;return n.toString=function(){return this.message},zi(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(zl(TypeError));function le(e,t){return new Ik(e,zt.tunnelErrorMessage(e),t)}function or(e,t){return new Ak(e,zt.tunnelErrorMessage(e),t)}function Ec(e){return e&&e.status===409?e:!1}var Lk={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function Mk(e){return le("COL20",{name:Lk[e.status],document:e.documentId,writeError:e})}var Qs={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function Cr(e,t){Qs[e]&&Qs[e].forEach(n=>n(t))}function So(e,t){return Promise.all(Qs[e].map(n=>n(t)))}function Fr(e,t){var n=t;n=n.replace(kk,".properties."),n="properties."+n,n=Ci(n);var r=Ar(e,n);return r}function c_(e,t,n){if(typeof t.primaryKey=="string")return n;var r=Ki(t,n),i=n[e];if(i&&i!==r)throw le("DOC19",{args:{documentData:n,existingPrimary:i,newPrimary:r},schema:t});return n[e]=r,n}function Tn(e){return typeof e=="string"?e:e.key}function Nk(e){var t=Tn(e.primaryKey),n=Fr(e,t);return $e(n.maxLength)}function Ki(e,t){if(typeof e.primaryKey=="string")return t[e.primaryKey];var n=e.primaryKey;return n.fields.map(r=>{var i=Ar(t,r);if(typeof i>"u")throw le("DOC18",{args:{field:r,documentData:t}});return i}).join(n.separator)}function jk(e){var t=Ul(e,!0);return t}function Fk(e){return["_deleted",e]}function Np(e){e=dt(e);var t=Tn(e.primaryKey);e.properties=dt(e.properties),e.additionalProperties=!1,Object.prototype.hasOwnProperty.call(e,"keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes?e.indexes.slice(0):[],e.required=e.required?e.required.slice(0):[],e.encrypted=e.encrypted?e.encrypted.slice(0):[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.properties._meta=Bk,e.required=e.required?e.required.slice(0):[],e.required.push("_deleted"),e.required.push("_rev"),e.required.push("_meta"),e.required.push("_attachments");var n=f_(e);bo(e.required,n),e.required=e.required.filter(o=>!o.includes(".")).filter((o,a,s)=>s.indexOf(o)===a),e.version=e.version||0;var r=e.indexes.map(o=>{var a=fa(o)?o.slice(0):[o];return a.includes(t)||a.push(t),a[0]!=="_deleted"&&a.unshift("_deleted"),a});r.length===0&&r.push(Fk(t)),r.push(["_meta.lwt",t]),e.internalIndexes&&e.internalIndexes.map(o=>{r.push(o)});var i=new Set;return r.filter(o=>{var a=o.join(",");return i.has(a)?!1:(i.add(a),!0)}),e.indexes=r,e}var Bk={type:"object",properties:{lwt:{type:"number",minimum:Lp,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function f_(e){var t=Object.keys(e.properties).filter(r=>e.properties[r].final),n=Tn(e.primaryKey);return t.push(n),typeof e.primaryKey!="string"&&e.primaryKey.fields.forEach(r=>t.push(r)),t}function $k(e,t){for(var n=Object.keys(e.defaultValues),r=0;r<n.length;++r){var i=n[r];(!Object.prototype.hasOwnProperty.call(t,i)||typeof t[i]>"u")&&(t[i]=e.defaultValues[i])}return t}var d_=function(){function e(n,r){this.jsonSchema=n,this.hashFunction=r,this.indexes=Uk(this.jsonSchema),this.primaryPath=Tn(this.jsonSchema.primaryKey),this.finalFields=f_(this.jsonSchema)}var t=e.prototype;return t.validateChange=function(r,i){this.finalFields.forEach(o=>{if(!Hs(r[o],i[o]))throw le("DOC9",{dataBefore:r,dataAfter:i,fieldName:o,schema:this.jsonSchema})})},t.getDocumentPrototype=function(){var r={},i=Fr(this.jsonSchema,"");return Object.keys(i).forEach(o=>{var a=o;r.__defineGetter__(o,function(){if(!(!this.get||typeof this.get!="function")){var s=this.get(a);return s}}),Object.defineProperty(r,o+"$",{get:function(){return this.get$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"$$",{get:function(){return this.get$$(a)},enumerable:!1,configurable:!1}),Object.defineProperty(r,o+"_",{get:function(){return this.populate(a)},enumerable:!1,configurable:!1})}),Mi(this,"getDocumentPrototype",()=>r),r},t.getPrimaryOfDocumentData=function(r){return Ki(this.jsonSchema,r)},zi(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.jsonSchema.properties).filter(([,r])=>Object.prototype.hasOwnProperty.call(r,"default")).forEach(([r,i])=>n[r]=i.default),Mi(this,"defaultValues",n)}},{key:"hash",get:function(){return Mi(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function Uk(e){return(e.indexes||[]).map(t=>fa(t)?t:[t])}function zk(e){var t=e.version?e.version:0,n=0;return new Array(t).fill(0).map(()=>n++)}function qk(e,t,n=!0){n&&Cr("preCreateRxSchema",e);var r=Np(e);r=jk(r),zt.deepFreezeWhenDevMode(r);var i=new d_(r,t);return Cr("createRxSchema",i),i}function qt(e){return typeof e=="function"}function Kk(e){return qt(e==null?void 0:e.lift)}function fi(e){return function(t){if(Kk(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var hh=function(e,t){return hh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},hh(e,t)};function Ao(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hh(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Wk(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(m){try{d(r.next(m))}catch(h){a(h)}}function u(m){try{d(r.throw(m))}catch(h){a(h)}}function d(m){m.done?o(m.value):i(m.value).then(s,u)}d((r=r.apply(e,t||[])).next())})}function h_(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(d){return function(m){return u([d,m])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(m){d=[6,m],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ca(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Eo(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function Co(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function da(e){return this instanceof da?(this.v=e,this):new da(e)}function Hk(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(p){r[p]&&(i[p]=function(w){return new Promise(function(g,E){o.push([p,w,g,E])>1||s(p,w)})})}function s(p,w){try{u(r[p](w))}catch(g){h(o[0][3],g)}}function u(p){p.value instanceof da?Promise.resolve(p.value.v).then(d,m):h(o[0][2],p)}function d(p){s("next",p)}function m(p){s("throw",p)}function h(p,w){p(w),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Vk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ca=="function"?Ca(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,u){a=e[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(d){o({value:d,done:s})},a)}}var p_=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function m_(e){return qt(e==null?void 0:e.then)}function jp(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bf=jp(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function ph(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Cc=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Ca(a),u=s.next();!u.done;u=s.next()){var d=u.value;d.remove(this)}}catch(E){t={error:E}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}else a.remove(this);var m=this.initialTeardown;if(qt(m))try{m()}catch(E){o=E instanceof Bf?E.errors:[E]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=Ca(h),w=p.next();!w.done;w=p.next()){var g=w.value;try{_y(g)}catch(E){o=o??[],E instanceof Bf?o=Co(Co([],Eo(o)),Eo(E.errors)):o.push(E)}}}catch(E){r={error:E}}finally{try{w&&!w.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}if(o)throw new Bf(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)_y(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&ph(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&ph(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),v_=Cc.EMPTY;function y_(e){return e instanceof Cc||e&&"closed"in e&&qt(e.remove)&&qt(e.add)&&qt(e.unsubscribe)}function _y(e){qt(e)?e():e.unsubscribe()}var g_={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},w_={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Co([e,t],Eo(n)))},clearTimeout:function(e){var t=w_.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function __(e){w_.setTimeout(function(){throw e})}function by(){}function dl(e){e()}var Fp=function(e){Ao(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,y_(n)&&n.add(r)):r.destination=Jk,r}return t.create=function(n,r,i){return new xa(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Cc),Qk=Function.prototype.bind;function $f(e,t){return Qk.call(e,t)}var Yk=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Ju(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Ju(r)}else Ju(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Ju(n)}},e}(),xa=function(e){Ao(t,e);function t(n,r,i){var o=e.call(this)||this,a;if(qt(n)||!n)a={next:n??void 0,error:r??void 0,complete:i??void 0};else{var s;o&&g_.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=function(){return o.unsubscribe()},a={next:n.next&&$f(n.next,s),error:n.error&&$f(n.error,s),complete:n.complete&&$f(n.complete,s)}):a=n}return o.destination=new Yk(a),o}return t}(Fp);function Ju(e){__(e)}function Gk(e){throw e}var Jk={closed:!0,next:by,error:Gk,complete:by},Bp=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function au(e){return e}function Xk(e){return e.length===0?au:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var qn=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=eR(t)?t:new xa(t,n,r);return dl(function(){var a=i,s=a.operator,u=a.source;o.add(s?s.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Sy(n),new n(function(i,o){var a=new xa({next:function(s){try{t(s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Bp]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Xk(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Sy(t),new t(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function Sy(e){var t;return(t=e??g_.Promise)!==null&&t!==void 0?t:Promise}function Zk(e){return e&&qt(e.next)&&qt(e.error)&&qt(e.complete)}function eR(e){return e&&e instanceof Fp||Zk(e)&&y_(e)}function b_(e){return qt(e[Bp])}function S_(e){return Symbol.asyncIterator&&qt(e==null?void 0:e[Symbol.asyncIterator])}function E_(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function tR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var C_=tR();function x_(e){return qt(e==null?void 0:e[C_])}function k_(e){return Hk(this,arguments,function(){var n,r,i,o;return h_(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,da(n.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,da(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,da(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function R_(e){return qt(e==null?void 0:e.getReader)}function Wi(e){if(e instanceof qn)return e;if(e!=null){if(b_(e))return nR(e);if(p_(e))return rR(e);if(m_(e))return iR(e);if(S_(e))return O_(e);if(x_(e))return oR(e);if(R_(e))return aR(e)}throw E_(e)}function nR(e){return new qn(function(t){var n=e[Bp]();if(qt(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rR(e){return new qn(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function iR(e){return new qn(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,__)})}function oR(e){return new qn(function(t){var n,r;try{for(var i=Ca(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function O_(e){return new qn(function(t){sR(e,t).catch(function(n){return t.error(n)})})}function aR(e){return O_(k_(e))}function sR(e,t){var n,r,i,o;return Wk(this,void 0,void 0,function(){var a,s;return h_(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=Vk(e),u.label=1;case 1:return[4,n.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function xo(e,t,n,r,i){return new uR(e,t,n,r,i)}var uR=function(e){Ao(t,e);function t(n,r,i,o,a,s){var u=e.call(this,n)||this;return u.onFinalize=a,u.shouldUnsubscribe=s,u._next=r?function(d){try{r(d)}catch(m){n.error(m)}}:e.prototype._next,u._error=o?function(d){try{o(d)}catch(m){n.error(m)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=i?function(){try{i()}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._complete,u}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Fp),P_={now:function(){return(P_.delegate||Date).now()},delegate:void 0};function lR(e){return e&&qt(e.schedule)}function $p(e){return e[e.length-1]}function cR(e){return qt($p(e))?e.pop():void 0}function su(e){return lR($p(e))?e.pop():void 0}function D_(e,t){return typeof $p(e)=="number"?e.pop():t}function Yr(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}var fR=Array.isArray,dR=Object.getPrototypeOf,hR=Object.prototype,pR=Object.keys;function mR(e){if(e.length===1){var t=e[0];if(fR(t))return{args:t,keys:null};if(vR(t)){var n=pR(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function vR(e){return e&&typeof e=="object"&&dR(e)===hR}function T_(e,t){return t===void 0&&(t=0),fi(function(n,r){n.subscribe(xo(r,function(i){return Yr(r,e,function(){return r.next(i)},t)},function(){return Yr(r,e,function(){return r.complete()},t)},function(i){return Yr(r,e,function(){return r.error(i)},t)}))})}function I_(e,t){return t===void 0&&(t=0),fi(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function yR(e,t){return Wi(e).pipe(I_(t),T_(t))}function gR(e,t){return Wi(e).pipe(I_(t),T_(t))}function wR(e,t){return new qn(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function _R(e,t){return new qn(function(n){var r;return Yr(n,t,function(){r=e[C_](),Yr(n,t,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(s){n.error(s);return}a?n.complete():n.next(o)},0,!0)}),function(){return qt(r==null?void 0:r.return)&&r.return()}})}function A_(e,t){if(!e)throw new Error("Iterable cannot be null");return new qn(function(n){Yr(n,t,function(){var r=e[Symbol.asyncIterator]();Yr(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function bR(e,t){return A_(k_(e),t)}function SR(e,t){if(e!=null){if(b_(e))return yR(e,t);if(p_(e))return wR(e,t);if(m_(e))return gR(e,t);if(S_(e))return A_(e,t);if(x_(e))return _R(e,t);if(R_(e))return bR(e,t)}throw E_(e)}function uu(e,t){return t?SR(e,t):Wi(e)}function Bn(e,t){return fi(function(n,r){var i=0;n.subscribe(xo(r,function(o){r.next(e.call(t,o,i++))}))})}var ER=Array.isArray;function CR(e,t){return ER(t)?e.apply(void 0,Co([],Eo(t))):e(t)}function xR(e){return Bn(function(t){return CR(e,t)})}function kR(e,t){return e.reduce(function(n,r,i){return n[r]=t[i],n},{})}function L_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=su(e),r=cR(e),i=mR(e),o=i.args,a=i.keys;if(o.length===0)return uu([],n);var s=new qn(RR(o,n,a?function(u){return kR(a,u)}:au));return r?s.pipe(xR(r)):s}function RR(e,t,n){return n===void 0&&(n=au),function(r){Ey(t,function(){for(var i=e.length,o=new Array(i),a=i,s=i,u=function(m){Ey(t,function(){var h=uu(e[m],t),p=!1;h.subscribe(xo(r,function(w){o[m]=w,p||(p=!0,s--),s||r.next(n(o.slice()))},function(){--a||r.complete()}))},r)},d=0;d<i;d++)u(d)},r)}}function Ey(e,t,n){e?Yr(n,e,t):t()}function OR(e,t,n,r,i,o,a,s){var u=[],d=0,m=0,h=!1,p=function(){h&&!u.length&&!d&&t.complete()},w=function(E){return d<r?g(E):u.push(E)},g=function(E){o&&t.next(E),d++;var I=!1;Wi(n(E,m++)).subscribe(xo(t,function(S){i==null||i(S),o?w(S):t.next(S)},function(){I=!0},void 0,function(){if(I)try{d--;for(var S=function(){var C=u.shift();a?Yr(t,a,function(){return g(C)}):g(C)};u.length&&d<r;)S();p()}catch(C){t.error(C)}}))};return e.subscribe(xo(t,w,function(){h=!0,p()})),function(){s==null||s()}}function Hi(e,t,n){return n===void 0&&(n=1/0),qt(t)?Hi(function(r,i){return Bn(function(o,a){return t(r,o,i,a)})(Wi(e(r,i)))},n):(typeof t=="number"&&(n=t),fi(function(r,i){return OR(r,i,e,n)}))}var PR=Array.isArray;function DR(e){return e.length===1&&PR(e[0])?e[0]:e}function Up(e){return e===void 0&&(e=1/0),Hi(au,e)}function TR(){return Up(1)}var IR=jp(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),yt=function(e){Ao(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Cy(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new IR},t.prototype.next=function(n){var r=this;dl(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=Ca(r.currentObservers),s=a.next();!s.done;s=a.next()){var u=s.value;u.next(n)}}catch(d){i={error:d}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;dl(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;dl(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?v_:(this.currentObservers=null,s.push(n),new Cc(function(){r.currentObservers=null,ph(s,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,a=r.isStopped;i?n.error(o):a&&n.complete()},t.prototype.asObservable=function(){var n=new qn;return n.source=this,n},t.create=function(n,r){return new Cy(n,r)},t}(qn),Cy=function(e){Ao(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:v_},t}(yt);function xy(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return TR()(uu(e,su(e)))}var AR=new qn(function(e){return e.complete()});function mh(e,t){return t===void 0&&(t=au),e=e??LR,fi(function(n,r){var i,o=!0;n.subscribe(xo(r,function(a){var s=t(a);(o||!e(i,s))&&(o=!1,i=s,r.next(a))}))})}function LR(e,t){return e===t}function rt(e,t){return fi(function(n,r){var i=0;n.subscribe(xo(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}var MR=jp(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function NR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=su(e),r=D_(e,1/0);return e=DR(e),fi(function(i,o){Up(r)(uu(Co([i],Eo(e)),n)).subscribe(o)})}function jR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return NR.apply(void 0,Co([],Eo(e)))}var Ir=function(e){Ao(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,o=n._value;if(r)throw i;return this._throwIfClosed(),o},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(yt),FR=function(e){Ao(t,e);function t(n,r,i){n===void 0&&(n=1/0),r===void 0&&(r=1/0),i===void 0&&(i=P_);var o=e.call(this)||this;return o._bufferSize=n,o._windowTime=r,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=r===1/0,o._bufferSize=Math.max(1,n),o._windowTime=Math.max(1,r),o}return t.prototype.next=function(n){var r=this,i=r.isStopped,o=r._buffer,a=r._infiniteTimeWindow,s=r._timestampProvider,u=r._windowTime;i||(o.push(n),!a&&o.push(s.now()+u)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),u=0;u<s.length&&!n.closed;u+=o?1:2)n.next(s[u]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,i=n._timestampProvider,o=n._buffer,a=n._infiniteTimeWindow,s=(a?1:2)*r;if(r<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var u=i.now(),d=0,m=1;m<o.length&&o[m]<=u;m+=2)d=m;d&&o.splice(0,d+1)}},t}(yt);function BR(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new yt}:t,r=e.resetOnError,i=r===void 0?!0:r,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,u=s===void 0?!0:s;return function(d){var m,h,p,w=0,g=!1,E=!1,I=function(){h==null||h.unsubscribe(),h=void 0},S=function(){I(),m=p=void 0,g=E=!1},C=function(){var y=m;S(),y==null||y.unsubscribe()};return fi(function(y,R){w++,!E&&!g&&I();var D=p=p??n();R.add(function(){w--,w===0&&!E&&!g&&(h=Uf(C,u))}),D.subscribe(R),!m&&w>0&&(m=new xa({next:function(k){return D.next(k)},error:function(k){E=!0,I(),h=Uf(S,i,k),D.error(k)},complete:function(){g=!0,I(),h=Uf(S,a),D.complete()}}),Wi(y).subscribe(m))})(d)}}function Uf(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var i=new xa({next:function(){i.unsubscribe(),e()}});return Wi(t.apply(void 0,Co([],Eo(n)))).subscribe(i)}}function M_(e,t,n){var r,i,o,a,s=!1;return e&&typeof e=="object"?(r=e.bufferSize,a=r===void 0?1/0:r,i=e.windowTime,t=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,n=e.scheduler):a=e??1/0,BR({connector:function(){return new FR(a,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function N_(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=su(e);return fi(function(r,i){(n?xy(e,r,n):xy(e,r)).subscribe(i)})}function j_(e){return e.documentData?e.documentData:e.previousDocumentData}function $R(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:zt.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}function ri(e,t){var n=typeof t=="object";return new Promise(function(r,i){var o=new xa({next:function(a){r(a),o.unsubscribe()},error:i,complete:function(){n?r(t.defaultValue):i(new MR)}});e.subscribe(o)})}function UR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=su(e),r=D_(e,1/0),i=e;return i.length?i.length===1?Wi(i[0]):Up(r)(uu(i,n)):AR}function zp(e){return e[e.length-1]}function zR(e){const t=typeof e;return e!==null&&(t==="object"||t==="function")}function ky(e,t,n){if(Array.isArray(t)&&(t=t.join(".")),!zR(e)||typeof t!="string")return n===void 0?e:n;const r=t.split(".");if(r.length===0)return n;for(let i=0;i<r.length;i++){const o=r[i];if(qR(e,o)?e=i===r.length-1?void 0:null:e=e[o],e==null){if(i!==r.length-1)return n;break}}return e===void 0?n:e}function qR(e,t){if(typeof t!="number"&&Array.isArray(e)){const n=Number.parseInt(t,10);return Number.isInteger(n)&&e[n]===e[t]}return!1}const F_=e=>!!e.queryParams.limit,KR=e=>e.queryParams.limit===1,WR=e=>!!(e.queryParams.skip&&e.queryParams.skip>0),HR=e=>e.changeEvent.operation==="DELETE",VR=e=>e.changeEvent.operation==="INSERT",QR=e=>e.changeEvent.operation==="UPDATE",YR=e=>F_(e)&&e.previousResults.length>=e.queryParams.limit,GR=e=>{const t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n)return!0;for(let i=0;i<t.length;i++){const o=t[i],a=ky(n,o),s=ky(r,o);if(a!==s)return!0}return!1},JR=e=>{const t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);{const n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===t)return!0;return!1}},XR=e=>{const t=e.previousResults[0];return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},ZR=e=>{const t=zp(e.previousResults);return!!(t&&t[e.queryParams.primaryKey]===e.changeEvent.id)},eO=e=>{const t=e.changeEvent.previous;if(!t)return!1;const n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},tO=e=>{const t=e.changeEvent.previous;if(!t)return!1;const n=zp(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},nO=e=>{const t=e.changeEvent.doc;if(!t)return!1;const n=e.previousResults[0];return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)<0:!1},rO=e=>{const t=e.changeEvent.doc;if(!t)return!1;const n=zp(e.previousResults);return n?n[e.queryParams.primaryKey]===e.changeEvent.id?!0:e.queryParams.sortComparator(t,n)>0:!1},iO=e=>{const t=e.changeEvent.previous;return t?e.queryParams.queryMatcher(t):!1},oO=e=>{const t=e.changeEvent.doc;return t?e.queryParams.queryMatcher(t):!1},aO=e=>e.previousResults.length===0,sO={0:VR,1:QR,2:HR,3:F_,4:KR,5:WR,6:aO,7:YR,8:XR,9:ZR,10:GR,11:JR,12:eO,13:tO,14:nO,15:rO,16:iO,17:oO};function uO(e,t,n,r){var i=e.length,o=i-1,a=0;if(i===0)return e.push(t),0;for(var s;r<=o;)a=r+(o-r>>1),s=e[a],n(s,t)<=0?r=a+1:o=a-1;return n(s,t)<=0&&a++,e.splice(a,0,t),a}const lO=e=>{},qp=e=>{e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Kp=e=>{e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Wp=e=>{const t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Hp=e=>{const t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},cO=e=>{Wp(e),Kp(e)},fO=e=>{Hp(e),qp(e)},dO=e=>{Wp(e),qp(e)},hO=e=>{Hp(e),Kp(e)},B_=e=>{e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);const t=e.queryParams.primaryKey,n=e.previousResults;for(let r=0;r<n.length;r++)if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}},pO=e=>{const t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults;for(let i=0;i<r.length;i++)if(r[i][n]===e.changeEvent.id){r[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},mO=e=>{const t={_id:"wrongHuman"+new Date().getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},$_=e=>{const t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else if(e.previousResults.find(i=>i[e.queryParams.primaryKey]===t))return;uO(e.previousResults,n,e.queryParams.sortComparator,0)},vO=e=>{B_(e),$_(e)},yO=e=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},gO=e=>{throw new Error("Action unknownAction should never be called")},wO=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],_O={doNothing:lO,insertFirst:qp,insertLast:Kp,removeFirstItem:Wp,removeLastItem:Hp,removeFirstInsertLast:cO,removeLastInsertFirst:fO,removeFirstInsertFirst:dO,removeLastInsertLast:hO,removeExisting:B_,replaceExisting:pO,alwaysWrong:mO,insertAtSortPosition:$_,removeExistingAndInsertAtSortPosition:vO,runFullQueryAgain:yO,unknownAction:gO},bO=40;function zf(e){return e.charCodeAt(0)-bO}function SO(e){return e?"1":"0"}function Ry(e,t){const n=[];for(let r=0,i=e.length;r<i;r+=t)n.push(e.substring(r,r+t));return n}function EO(e){const t=new Map,r=2+parseInt(e.charAt(0)+e.charAt(1),10)*2,i=e.substring(2,r),o=Ry(i,2);for(let E=0;E<o.length;E++){const I=o[E],S=I.charAt(0),C=zf(I.charAt(1));t.set(S,C)}const a=e.substring(r,e.length-3),s=Ry(a,4);for(let E=0;E<s.length;E++){const I=s[E],S=I.charAt(0),C=I.charAt(1),y=I.charAt(2),R=zf(I.charAt(3));if(!t.has(C))throw new Error("missing node with id "+C);if(!t.has(y))throw new Error("missing node with id "+y);const D=t.get(C),k=t.get(y),P={l:R,0:D,1:k};t.set(S,P)}const u=e.slice(-3),d=u.charAt(0),m=u.charAt(1),h=zf(u.charAt(2)),p=t.get(d),w=t.get(m);return{l:h,0:p,1:w}}function CO(e,t,n){let r=e,i=e.l;for(;;){const o=t[i](n),a=SO(o);if(r=r[a],typeof r=="number"||typeof r=="string")return r;i=r.l}}const xO="14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9ae9¡bf9¢bq9£cg9¤ck9¥cn9¦nd9§np9¨nq9©nf9ªng9«nm9¬nk9­mr9®ms9¯mt9°mj9±mk9²ml9³mn9´mc8µ³{8¶¯}8·°¤8¸³§8¹mn8º³«8»³m8¼m´4½z²4¾³w4¿zµ4À¯¶4Á°·4Â³º4Ã³¸4Äm¹4Åv¤7Æyn7ÇÀÁ7È~7É¥¤7ÊÃÄ7Ë¨n7Ìº¹7Í­°7Î®m7Ï¯°7Ð±m7Ñ³m7Ò¼m5ÓÄm5Ô¹m5Õ½°5Ö¾m5×¿°5ØÇÏ5ÙÂm5ÚÊÑ5Û±m5Üºm5ÝÌÑ5ÞÕÍ2ß|2à¡u2á£Å2âÖÎ2ã¦Æ2ä©x2åªÆ2æ×Ø2ç|È2è¡¢2é£É2ê¤¥2ëÙÚ2ì¦Ë2í©n2îªn2ïÛÐ2ðÜÝ2ñ¬n2òÒÓ/óan/ôbn/õcn/öÞâ/÷ßã/øàä/ùáå/úæë/ûçì/üèí/ýéî/þÍÎ/ÿÏÑ/ĀòÔ,ācn,Ăöï,ă¤ñ,Ąúð,ąêñ,ĆþÐ,ćÿÑ,Ĉac0ĉbc0Ċóõ0ċôā0Čßá0čà¤0Ďçé0ďèê0Đ÷ù0đøă0Ēûý0ēüą0ĔmÒ-ĕmĀ-ĖÞæ-ėČĎ-Ęčď-ęĂĄ-ĚĐĒ-ěđē-Ĝ²»-ĝÍÏ-ĞĆć-ğ²³-ĠĔĈ3ġĕĊ3ĢĖė3ģęĚ3ĤĢĝ(ĥĜğ(ĦģĞ(ħĠġ+Ĩĉċ+ĩĤĦ+ĪĘě+īħĨ1ĬĩĪ1ĭĬī*Įĥm*ĭĮ.";let qf;function kO(){return qf||(qf=EO(xO)),qf}const RO=e=>CO(kO(),sO,e);function OO(e){const t=RO(e);return wO[t]}function PO(e,t,n,r,i){const o=_O[e];return o({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:i}),r}var ha="￿",pa=Number.MIN_SAFE_INTEGER;function DO(e,t){var n=t.selector,r=e.indexes?e.indexes.slice(0):[];t.index&&(r=[t.index]);var i=!!t.sort.find(m=>Object.values(m)[0]==="desc"),o=new Set;Object.keys(n).forEach(m=>{var h=Fr(e,m);h&&h.type==="boolean"&&Object.prototype.hasOwnProperty.call(n[m],"$eq")&&o.add(m)});var a=t.sort.map(m=>Object.keys(m)[0]),s=a.filter(m=>!o.has(m)).join(","),u=-1,d;if(r.forEach(m=>{var h=!0,p=!0,w=m.map(C=>{var y=n[C],R=y?Object.keys(y):[],D={};if(!y||!R.length){var k=p?pa:ha;D={startKey:k,endKey:h?ha:pa,inclusiveStart:!0,inclusiveEnd:!0}}else R.forEach(P=>{if(Vp.has(P)){var L=y[P],B=LO(P,L);D=Object.assign(D,B)}});return typeof D.startKey>"u"&&(D.startKey=pa),typeof D.endKey>"u"&&(D.endKey=ha),typeof D.inclusiveStart>"u"&&(D.inclusiveStart=!0),typeof D.inclusiveEnd>"u"&&(D.inclusiveEnd=!0),p&&!D.inclusiveStart&&(p=!1),h&&!D.inclusiveEnd&&(h=!1),D}),g=w.map(C=>C.startKey),E=w.map(C=>C.endKey),I={index:m,startKeys:g,endKeys:E,inclusiveEnd:h,inclusiveStart:p,sortSatisfiedByIndex:!i&&s===m.filter(C=>!o.has(C)).join(","),selectorSatisfiedByIndex:AO(m,t.selector,g,E)},S=MO(e,t,I);(S>=u||t.index)&&(u=S,d=I)}),!d)throw le("SNH",{query:t});return d}var Vp=new Set(["$eq","$gt","$gte","$lt","$lte"]),TO=new Set(["$eq","$gt","$gte"]),IO=new Set(["$eq","$lt","$lte"]);function AO(e,t,n,r){var i=Object.entries(t),o=i.find(([P,L])=>{if(!e.includes(P))return!0;var B=Object.entries(L).find(([N,F])=>!Vp.has(N));return B});if(o||t.$and||t.$or)return!1;var a=[],s=new Set;for(var[u,d]of Object.entries(t)){if(!e.includes(u))return!1;var m=Object.keys(d).filter(P=>TO.has(P));if(m.length>1)return!1;var h=m[0];if(h&&s.add(u),h!=="$eq"){if(a.length>0)return!1;a.push(h)}}var p=[],w=new Set;for(var[g,E]of Object.entries(t)){if(!e.includes(g))return!1;var I=Object.keys(E).filter(P=>IO.has(P));if(I.length>1)return!1;var S=I[0];if(S&&w.add(g),S!=="$eq"){if(p.length>0)return!1;p.push(S)}}var C=0;for(var y of e){for(var R of[s,w]){if(!R.has(y)&&R.size>0)return!1;R.delete(y)}var D=n[C],k=r[C];if(D!==k&&s.size>0&&w.size>0)return!1;C++}return!0}function LO(e,t){switch(e){case"$eq":return{startKey:t,endKey:t,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:t,inclusiveEnd:!0};case"$gte":return{startKey:t,inclusiveStart:!0};case"$lt":return{endKey:t,inclusiveEnd:!1};case"$gt":return{startKey:t,inclusiveStart:!1};default:throw new Error("SNH")}}function MO(e,t,n){var r=0,i=m=>{m>0&&(r=r+m)},o=10,a=Mf(n.startKeys,m=>m!==pa&&m!==ha);i(a*o);var s=Mf(n.startKeys,m=>m!==ha&&m!==pa);i(s*o);var u=Mf(n.startKeys,(m,h)=>m===n.endKeys[h]);i(u*o*1.5);var d=n.sortSatisfiedByIndex?5:0;return i(d),r}class Lo extends Error{}const NO=2147483647,jO=-2147483648,FO=Number.MAX_SAFE_INTEGER,BO=Number.MIN_SAFE_INTEGER,ii=Symbol("missing"),U_=Object.freeze(new Error("mingo: cycle detected while processing object/array")),$O=Object.getPrototypeOf([]),z_=Object.getPrototypeOf({}),UO="[object Object]",zO=/^\[object ([a-zA-Z0-9]+)\]$/;class Qp{}class Yp{}const ko=e=>e===null?Qp:e===void 0?Yp:e.constructor,lu=e=>{const t=QO(e);let n=0,r=t.length;for(;r;)n=(n<<5)-n^t.charCodeAt(--r);return n>>>0},q_=new Set(["null","undefined","boolean","number","string","date","regexp"]),Oy=new Set([Yp,Qp,Boolean,String,Number]),ss=e=>e.toString(),pr=e=>`${ko(e).name}[${e.toString()}]`,Ro=new Map([[Number,ss],[Boolean,ss],[RegExp,ss],[Function,ss],[Symbol,ss],[Date,e=>e.toISOString()],[String,JSON.stringify],[Qp,e=>"null"],[Yp,e=>"undefined"],[Int8Array,pr],[Uint8Array,pr],[Uint8ClampedArray,pr],[Int16Array,pr],[Uint16Array,pr],[Int32Array,pr],[Uint32Array,pr],[Float32Array,pr],[Float64Array,pr]]);typeof BigInt<"u"&&Ro.set(BigInt,e=>"0x"+e.toString(16));typeof BigInt64Array<"u"&&Ro.set(BigInt64Array,pr);typeof BigUint64Array<"u"&&Ro.set(BigUint64Array,pr);const qO={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},Dn=(e,t)=>{e===ii&&(e=void 0),t===ii&&(t=void 0);const[n,r]=[e,t].map(i=>qO[Ys(i).toLowerCase()]);return n!==r?n-r:n===1||n===2||n===6?e<t?-1:e>t?1:0:ai(e,t)?0:e<t?-1:e>t?1:0};function Kt(e,t){if(!e)throw new Lo(t)}const KO=e=>{const t=Object.getPrototypeOf(ko(e));return t&&t.name==="TypedArray"},vh=e=>{if(Oy.has(ko(e)))return e;const t=new Set,n=r=>{if(t.has(r))throw U_;const i=ko(r);if(Oy.has(i))return r;try{if(Wt(r))return t.add(r),r.map(n);if(Rt(r)){t.add(r);const o={};for(const a in r)o[a]=n(r[a]);return o}}finally{t.delete(r)}return i===Date||i===RegExp||KO(r)?new i(r):r};return n(e)},Ys=e=>zO.exec(Object.prototype.toString.call(e))[1],Kf=e=>typeof e=="boolean",oi=e=>typeof e=="string",jn=e=>!isNaN(e)&&typeof e=="number",Wt=Array.isArray,Rt=e=>{if(!e)return!1;const t=Object.getPrototypeOf(e);return(t===z_||t===null)&&UO===Object.prototype.toString.call(e)},xc=e=>e===Object(e),yh=e=>e instanceof Date,hl=e=>e instanceof RegExp,cu=e=>typeof e=="function",hn=e=>e==null,ka=(e,t)=>e.includes(t),K_=(e,t)=>!ka(e,t),Ra=(e,t=!0)=>!!e||t&&e==="",Aa=e=>hn(e)||oi(e)&&!e||e instanceof Array&&e.length===0||Rt(e)&&Object.keys(e).length===0,Py=e=>e===ii,La=e=>e instanceof Array?e:[e],Un=(e,t)=>!!e&&Object.prototype.hasOwnProperty.call(e,t),WO=(e,t)=>Rt(e)&&Rt(t)||Wt(e)&&Wt(t);function gh(e,t,n){if(n=n||{flatten:!1},Py(e)||hn(e))return t;if(Py(t)||hn(t))return e;if(!WO(e,t)){if(n.skipValidation)return t||e;throw Error("mismatched types. must both be array or object")}if(n.skipValidation=!0,Wt(e)){const r=e,i=t;if(n.flatten){let o=0,a=0;for(;o<r.length&&a<i.length;)r[o]=gh(r[o++],i[a++],n);for(;a<i.length;)r.push(t[a++])}else fu(r,i)}else for(const r in t)e[r]=gh(e[r],t[r],n);return e}function wh(e,t=lu){const n=new Map;return e.forEach((r,i)=>{const o=H_(r,t);n.has(o)?n.get(o).some(a=>ai(e[a],r))||n.get(o).push(i):n.set(o,[i])}),n}function Gp(e,t=lu){if(e.some(s=>s.length==0))return[];if(e.length===1)return Array.from(e);const n=YO(e.map((s,u)=>[u,s.length]),s=>s[1]),r=e[n[0][0]],i=wh(r,t),o=new Map,a=new Array;return i.forEach((s,u)=>{const d=s.map(w=>r[w]),m=d.map(w=>0),h=d.map(w=>[n[0][0],0]);let p=!1;for(let w=1;w<e.length;w++){const[g,E]=n[w],I=e[g];if(o.has(w)||o.set(w,wh(I)),o.get(w).has(u)){const S=o.get(w).get(u).map(C=>I[C]);p=d.map((C,y)=>S.some((R,D)=>{const k=m[y];return ai(C,R)&&(m[y]++,g<h[y][0]&&(h[y]=[g,o.get(w).get(u)[D]])),k<m[y]})).some(Boolean)}if(!p)return}p&&fu(a,m.map((w,g)=>w===e.length-1?[d[g],h[g]]:ii).filter(w=>w!==ii))}),a.sort((s,u)=>{const[d,[m,h]]=s,[p,[w,g]]=u,E=Dn(m,w);return E!==0?E:Dn(h,g)}).map(s=>s[0])}function W_(e,t=0){const n=new Array;function r(i,o){for(let a=0,s=i.length;a<s;a++)Wt(i[a])&&(o>0||o<0)?r(i[a],Math.max(-1,o-1)):n.push(i[a])}return r(e,t),n}const HO=e=>{let[t,n]=[Object.getPrototypeOf(e),Object.getOwnPropertyNames(e)],r=t;for(;!n.length&&t!==z_&&t!==$O;)r=t,n=Object.getOwnPropertyNames(t),t=Object.getPrototypeOf(t);const i={};return n.forEach(o=>i[o]=e[o]),[i,r]};function ai(e,t){const n=[[e,t]];for(;n.length>0;){if([e,t]=n.pop(),e===t)continue;const r=ko(e);if(r!==ko(t)||cu(e))return!1;if(Ro.has(r)){const i=Ro.get(r);if(i(e)!==i(t))return!1;continue}if(r===Array||r===Object){const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length||new Set(i.concat(o)).size!=i.length)return!1;for(const a of i)n.push([e[a],t[a]]);continue}return!1}return!n.length}function VO(e,t=lu){const n=e.map(r=>ii);return wh(e,t).forEach((r,i)=>{r.forEach(o=>n[o]=e[o])}),n.filter(r=>r!==ii)}function QO(e){const t=new Set,n=r=>{const i=ko(r);if(Ro.has(i))return Ro.get(i)(r);const o=i===Object?"":i.name;if(cu(r.toJSON))return`${o}(${JSON.stringify(r)})`;if(t.has(r))throw U_;t.add(r);try{if(i===Array)return"["+r.map(n).join(",")+"]";if(i!==Object){const[s,u]=HO(r);if(Wt(r))return`${o}${n([...r,s])}`;r=s}const a=Object.keys(r);return a.sort(),`${o}{`+a.map(s=>`${s}:${n(r[s])}`).join(",")+"}"}finally{t.delete(r)}};return n(e)}function H_(e,t){return t=t||lu,hn(e)?null:t(e).toString()}function YO(e,t,n=Dn){if(Aa(e))return e;const r=new Array,i=new Array;for(let o=0;o<e.length;o++){const a=e[o],s=t(a,o);hn(s)?i.push(a):r.push([s,a])}return r.sort((o,a)=>n(o[0],a[0])),fu(i,r.map(o=>o[1]))}function GO(e,t,n=lu){if(e.length<1)return new Map;const r=new Map,i=new Map;for(let o=0;o<e.length;o++){const a=e[o],s=t(a,o),u=H_(s,n);if(u===null)i.has(null)?i.get(null).push(a):i.set(null,[a]);else{const d=r.has(u)?r.get(u).find(m=>ai(m,s)):null;hn(d)?(i.set(s,[a]),r.has(u)?r.get(u).push(s):r.set(u,[s])):i.get(d).push(a)}}return i}const Wf=5e4;function fu(e,...t){return e instanceof Array?t.reduce((n,r)=>{let i=Math.ceil(r.length/Wf),o=0;for(;i-- >0;)Array.prototype.push.apply(n,r.slice(o,o+Wf)),o+=Wf;return n},e):t.filter(xc).reduce((n,r)=>(Object.assign(n,r),n),e)}function _h(e,t){return xc(e)?e[t]:void 0}function JO(e,t){if(t<1)return e;for(;t--&&e.length===1;)e=e[0];return e}function Ma(e,t,n){let r=0;function i(a,s){let u=a;for(let d=0;d<s.length;d++){const m=s[d];if(/^\d+$/.exec(m)===null&&u instanceof Array){if(d===0&&r>0)break;r+=1;const p=s.slice(d);u=u.reduce((w,g)=>{const E=i(g,p);return E!==void 0&&w.push(E),w},[]);break}else u=_h(u,m);if(u===void 0)break}return u}const o=q_.has(Ys(e).toLowerCase())?e:i(e,t.split("."));return o instanceof Array&&(n!=null&&n.unwrapArray)?JO(o,r):o}function pl(e,t,n){const r=t.split("."),i=r[0],o=r.slice(1).join("."),a=/^\d+$/.exec(i)!==null,s=r.length>1;let u,d;if(e instanceof Array)if(a)u=_h(e,Number(i)),s&&(u=pl(u,o,n)),u=[u];else{u=[];for(const m of e)d=pl(m,t,n),n!=null&&n.preserveMissing?(d===void 0&&(d=ii),u.push(d)):d!==void 0&&u.push(d)}else{if(d=_h(e,i),s&&(d=pl(d,o,n)),d===void 0)return;u=n!=null&&n.preserveKeys?Object.assign({},e):{},u[i]=d}return u}function bh(e){if(e instanceof Array)for(let t=e.length-1;t>=0;t--)e[t]===ii?e.splice(t,1):bh(e[t]);else if(Rt(e))for(const t in e)Un(e,t)&&bh(e[t])}const Dy=/^\d+$/;function Gs(e,t,n,r){const i=t.split("."),o=i[0],a=i.slice(1).join(".");if(i.length===1)(Rt(e)||Wt(e)&&Dy.test(o))&&n(e,o);else{r!=null&&r.buildGraph&&hn(e[o])&&(e[o]={});const s=e[o];if(!s)return;const u=!!(i.length>1&&Dy.test(i[1]));s instanceof Array&&(r!=null&&r.descendArray)&&!u?s.forEach(d=>Gs(d,a,n,r)):Gs(s,a,n,r)}}function XO(e,t,n){Gs(e,t,(r,i)=>{r[i]=cu(n)?n(r[i]):n},{buildGraph:!0})}function Ty(e,t,n){Gs(e,t,(r,i)=>{if(r instanceof Array){if(/^\d+$/.test(i))r.splice(parseInt(i),1);else if(n&&n.descendArray)for(const o of r)Rt(o)&&delete o[i]}else Rt(r)&&delete r[i]},n)}const ZO=/^\$[a-zA-Z0-9_]+$/;function Mo(e){return ZO.test(e)}function V_(e){if(q_.has(Ys(e).toLowerCase()))return hl(e)?{$regex:e}:{$eq:e};if(xc(e)){if(!Object.keys(e).some(Mo))return{$eq:e};if(Un(e,"$regex")){const n=Object.assign({},e);return n.$regex=new RegExp(e.$regex,e.$options),delete n.$options,n}}return e}var xi;(function(e){e.CLONE_ALL="CLONE_ALL",e.CLONE_INPUT="CLONE_INPUT",e.CLONE_OUTPUT="CLONE_OUTPUT",e.CLONE_OFF="CLONE_OFF"})(xi||(xi={}));class co{constructor(t,n,r,i=Date.now()){this._opts=t,this._root=n,this._local=r,this.timestamp=i,this.update(n,r)}static init(t,n,r){return t instanceof co?new co(t._opts,hn(t.root)?n:t.root,Object.assign({},t.local,r)):new co(t,n,r)}update(t,n){var r;return this._root=t,this._local=n&&Object.assign({},n,{variables:Object.assign({},(r=this._local)===null||r===void 0?void 0:r.variables,n==null?void 0:n.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:Oo.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collation}get processingMode(){var t;return((t=this._opts)===null||t===void 0?void 0:t.processingMode)||xi.CLONE_OFF}get useStrictMode(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useStrictMode}get scriptEnabled(){var t;return(t=this._opts)===null||t===void 0?void 0:t.scriptEnabled}get useGlobalContext(){var t;return(t=this._opts)===null||t===void 0?void 0:t.useGlobalContext}get hashFunction(){var t;return(t=this._opts)===null||t===void 0?void 0:t.hashFunction}get collectionResolver(){var t;return(t=this._opts)===null||t===void 0?void 0:t.collectionResolver}get jsonSchemaValidator(){var t;return(t=this._opts)===null||t===void 0?void 0:t.jsonSchemaValidator}get variables(){var t;return(t=this._opts)===null||t===void 0?void 0:t.variables}get context(){var t;return(t=this._opts)===null||t===void 0?void 0:t.context}}function ql(e){return e instanceof co?e.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:xi.CLONE_OFF},e),{context:e!=null&&e.context?Oo.from(e==null?void 0:e.context):Oo.init({})}))}var ht;(function(e){e.ACCUMULATOR="accumulator",e.EXPRESSION="expression",e.PIPELINE="pipeline",e.PROJECTION="projection",e.QUERY="query",e.WINDOW="window"})(ht||(ht={}));class Oo{constructor(t){this.operators={[ht.ACCUMULATOR]:{},[ht.EXPRESSION]:{},[ht.PIPELINE]:{},[ht.PROJECTION]:{},[ht.QUERY]:{},[ht.WINDOW]:{}};for(const[n,r]of Object.entries(t))this.addOperators(n,r)}static init(t={}){return new Oo(t)}static from(t){return new Oo(t.operators)}addOperators(t,n){for(const[r,i]of Object.entries(n))this.getOperator(t,r)||(this.operators[t][r]=i);return this}addAccumulatorOps(t){return this.addOperators(ht.ACCUMULATOR,t)}addExpressionOps(t){return this.addOperators(ht.EXPRESSION,t)}addQueryOps(t){return this.addOperators(ht.QUERY,t)}addPipelineOps(t){return this.addOperators(ht.PIPELINE,t)}addProjectionOps(t){return this.addOperators(ht.PROJECTION,t)}addWindowOps(t){return this.addOperators(ht.WINDOW,t)}getOperator(t,n){return t in this.operators&&this.operators[t][n]||null}}const to=Oo.init();function Iy(e,t){for(const[n,r]of Object.entries(t)){Kt(cu(r)&&Mo(n),`'${n}' is not a valid operator`);const i=fo(e,n,null);Kt(!i||r===i,`${n} already exists for '${e}' operators. Cannot change operator function once registered.`)}switch(e){case ht.ACCUMULATOR:to.addAccumulatorOps(t);break;case ht.EXPRESSION:to.addExpressionOps(t);break;case ht.PIPELINE:to.addPipelineOps(t);break;case ht.PROJECTION:to.addProjectionOps(t);break;case ht.QUERY:to.addQueryOps(t);break;case ht.WINDOW:to.addWindowOps(t);break}}function fo(e,t,n){const{context:r,useGlobalContext:i}=n||{},o=r?r.getOperator(e,t):null;return!o&&i?to.getOperator(e,t):o}const Ay={$$ROOT(e,t,n){return n.root},$$CURRENT(e,t,n){return e},$$REMOVE(e,t,n){},$$NOW(e,t,n){return new Date(n.timestamp)}},Sh={$$KEEP(e,t,n){return e},$$PRUNE(e,t,n){},$$DESCEND(e,t,n){if(!Un(t,"$cond"))return e;let r;for(const[i,o]of Object.entries(e))if(xc(o)){if(o instanceof Array){const a=[];for(let s of o)Rt(s)&&(s=Ly(s,t,n.update(s))),hn(s)||a.push(s);r=a}else r=Ly(o,t,n.update(o));hn(r)?delete e[i]:e[i]=r}return e}};function fn(e,t,n,r){var i;const o=co.init(r,e);if(n=n||"",Mo(n)){const a=fo(ht.EXPRESSION,n,r);if(a)return a(e,t,o);const s=fo(ht.ACCUMULATOR,n,r);if(s)return e instanceof Array||(e=fn(e,t,null,o),t=null),Kt(e instanceof Array,`'${n}' target must be an array.`),s(e,t,o.update(null,o.local));throw new Lo(`operator '${n}' is not registered`)}if(oi(t)&&t.length>0&&t[0]==="$"){if(Un(Sh,t))return t;let a=o.root;const s=t.split(".");if(Un(Ay,s[0]))a=Ay[s[0]](e,null,o),t=t.slice(s[0].length+1);else if(s[0].slice(0,2)==="$$"){a=Object.assign({},o.variables,{this:e},(i=o.local)===null||i===void 0?void 0:i.variables);const u=s[0].slice(2);Kt(Un(a,u),`Use of undefined variable: ${u}`),t=t.slice(2)}else t=t.slice(1);return t===""?a:Ma(a,t)}if(Wt(t))return t.map(a=>fn(e,a,null,o));if(Rt(t)){const a={};for(const[s,u]of Object.entries(t))if(a[s]=fn(e,u,s,o),[ht.EXPRESSION,ht.ACCUMULATOR].some(d=>!!fo(d,s,r)))return Kt(Object.keys(t).length===1,"Invalid aggregation expression '"+JSON.stringify(t)+"'"),a[s];return a}return t}function Ly(e,t,n){const r=fn(e,t,null,n);return Un(Sh,r)?Sh[r](e,t,n):r}function Oa(e){return e instanceof My?e:new My(e)}function eP(...e){let t=0;return Oa(()=>{for(;t<e.length;){const n=e[t].next();if(!n.done)return n;t++}return{done:!0}})}function tP(e){return!!e&&typeof e=="object"&&(e==null?void 0:e.next)instanceof Function}function nP(e,t){const n=e.slice(t+1);e.splice(t),Array.prototype.push.apply(e,n)}const Eh=new Error;var Lr;(function(e){e[e.MAP=0]="MAP",e[e.FILTER=1]="FILTER",e[e.TAKE=2]="TAKE",e[e.DROP=3]="DROP"})(Lr||(Lr={}));function rP(e,t,n){let r=!1,i=-1,o=0;return function(a){try{e:for(;!r;){let s=e();i++;let u=-1;const d=t.length;let m=!1;for(;++u<d;){const h=t[u];switch(h.action){case Lr.MAP:s=h.func(s,i);break;case Lr.FILTER:if(!h.func(s,i))continue e;break;case Lr.TAKE:--h.count,h.count||(m=!0);break;case Lr.DROP:--h.count,h.count||nP(t,u);continue e;default:break e}}if(r=m,a)n[o++]=s;else return{value:s,done:!1}}}catch(s){if(s!==Eh)throw s}return r=!0,{done:r}}}class My{constructor(t){this.iteratees=[],this.yieldedValues=[],this.isDone=!1;let n;if(t instanceof Function&&(t={next:t}),tP(t)){const r=t;n=()=>{const i=r.next();if(i.done)throw Eh;return i.value}}else if(t instanceof Array){const r=t,i=r.length;let o=0;n=()=>{if(o<i)return r[o++];throw Eh}}else if(!(t instanceof Function))throw new Lo("Lazy must be initialized with an array, generator, or function.");this.getNext=rP(n,this.iteratees,this.yieldedValues)}push(t,n){return typeof n=="function"?this.iteratees.push({action:t,func:n}):typeof n=="number"&&this.iteratees.push({action:t,count:n}),this}next(){return this.getNext()}map(t){return this.push(Lr.MAP,t)}filter(t){return this.push(Lr.FILTER,t)}take(t){return t>0?this.push(Lr.TAKE,t):this}drop(t){return t>0?this.push(Lr.DROP,t):this}transform(t){const n=this;let r;return Oa(()=>(r||(r=Oa(t(n.value()))),r.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(t){for(;;){const n=this.next();if(n.done)break;if(t(n.value)===!1)return!1}return!0}reduce(t,n){let r=this.next();for(n===void 0&&!r.done&&(n=r.value,r=this.next());!r.done;)n=t(n,r.value),r=this.next();return n}size(){return this.reduce((t,n)=>++t,0)}[Symbol.iterator](){return this}}class iP{constructor(t,n){this.pipeline=t,this.options=ql(n)}stream(t){let n=Oa(t);const r=this.options.processingMode;(r==xi.CLONE_ALL||r==xi.CLONE_INPUT)&&n.map(vh);const i=new Array;if(!Aa(this.pipeline))for(const o of this.pipeline){const a=Object.keys(o),s=a[0],u=fo(ht.PIPELINE,s,this.options);Kt(a.length===1&&!!u,`invalid pipeline operator ${s}`),i.push(s),n=u(n,o[s],this.options)}return(r==xi.CLONE_OUTPUT||r==xi.CLONE_ALL&&Gp([["$group","$unwind"],i]).length)&&n.map(vh),n}run(t){return this.stream(t).value()}}class oP{constructor(t,n,r,i){this.source=t,this.predicate=n,this.projection=r,this.options=i,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result?this.result:(Rt(this.projection)&&this.operators.push({$project:this.projection}),this.result=Oa(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new iP(this.operators,this.options).stream(this.result)),this.result)}fetchAll(){const t=Oa([...this.buffer]);return this.buffer=[],eP(t,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(t){return this.operators.push({$skip:t}),this}limit(t){return this.operators.push({$limit:t}),this}sort(t){return this.operators.push({$sort:t}),this}collation(t){return this.options=Object.assign(Object.assign({},this.options),{collation:t}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const t=this.fetch().next();if(!t.done)return t.value}hasNext(){if(this.buffer.length>0)return!0;const t=this.fetch().next();return t.done?!1:(this.buffer.push(t.value),!0)}map(t){return this.all().map(t)}forEach(t){this.all().forEach(t)}[Symbol.iterator](){return this.fetchAll()}}class si{constructor(t,n){this.condition=t,this.options=ql(n),this.compiled=[],this.compile()}compile(){Kt(Rt(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const t={};for(const[n,r]of Object.entries(this.condition)){if(n==="$where")Object.assign(t,{field:n,expr:r});else if(ka(["$and","$or","$nor","$expr","$jsonSchema"],n))this.processOperator(n,n,r);else{Kt(!Mo(n),`unknown top level operator: ${n}`);for(const[i,o]of Object.entries(V_(r)))this.processOperator(n,i,o)}t.field&&this.processOperator(t.field,t.field,t.expr)}}processOperator(t,n,r){const i=fo(ht.QUERY,n,this.options);if(!i)throw new Lo(`unknown query operator ${n}`);const o=i(t,r,this.options);this.compiled.push(o)}test(t){for(let n=0,r=this.compiled.length;n<r;n++)if(!this.compiled[n](t))return!1;return!0}find(t,n){return new oP(t,r=>this.test(r),n||{},this.options)}remove(t){return t.reduce((n,r)=>(this.test(r)||n.push(r),n),[])}}const aP=(e,t,n)=>{if(Aa(t)||!Rt(t))return e;let r=Dn;const i=n.collation;return Rt(i)&&oi(i.locale)&&(r=uP(i)),e.transform(o=>{const a=Object.keys(t);for(const s of a.reverse()){const u=GO(o,m=>Ma(m,s),n.hashFunction),d=Array.from(u.keys()).sort(r);t[s]===-1&&d.reverse(),o=[],d.reduce((m,h)=>fu(m,u.get(h)),o)}return o})},sP={1:"base",2:"accent",3:"variant"};function uP(e){const t={sensitivity:sP[e.strength||3],caseFirst:e.caseFirst==="off"?"false":e.caseFirst||"false",numeric:e.numericOrdering||!1,ignorePunctuation:e.alternate==="shifted"};(e.caseLevel||!1)===!0&&(t.sensitivity==="base"&&(t.sensitivity="case"),t.sensitivity==="accent"&&(t.sensitivity="variant"));const n=new Intl.Collator(e.locale,t);return(r,i)=>{if(!oi(r)||!oi(i))return Dn(r,i);const o=n.compare(r,i);return o<0?-1:o>0?1:0}}function pn(e){const t=(n,r,i)=>{const o={unwrapArray:!0},a=Math.max(1,n.split(".").length-1);return s=>{const u=Ma(s,n,o);return e(u,r,Object.assign(Object.assign({},i),{depth:a}))}};return t.op="query",t}function Na(e){return(t,n,r)=>{const i=fn(t,n,null,r);return e(...i)}}function Jp(e,t,n){if(ai(e,t)||hn(e)&&hn(t))return!0;if(e instanceof Array){const r=ai.bind(null,t);return e.some(r)||W_(e,n==null?void 0:n.depth).some(r)}return!1}function Q_(e,t,n){return!Jp(e,t,n)}function Y_(e,t,n){return hn(e)?t.some(r=>r===null):Gp([La(e),t],n==null?void 0:n.hashFunction).length>0}function lP(e,t,n){return!Y_(e,t,n)}function G_(e,t,n){return kc(e,t,(r,i)=>Dn(r,i)<0)}function J_(e,t,n){return kc(e,t,(r,i)=>Dn(r,i)<=0)}function X_(e,t,n){return kc(e,t,(r,i)=>Dn(r,i)>0)}function Z_(e,t,n){return kc(e,t,(r,i)=>Dn(r,i)>=0)}function cP(e,t,n){return La(e).some(r=>t.length===2&&r%t[0]===t[1])}function fP(e,t,n){const r=La(e),i=o=>oi(o)&&Ra(t.exec(o),n==null?void 0:n.useStrictMode);return r.some(i)||W_(r,1).some(i)}function dP(e,t,n){return(t===!1||t===0)&&e===void 0||(t===!0||t===1)&&e!==void 0}function hP(e,t,n){if(!Wt(e)||!Wt(t)||!e.length||!t.length)return!1;let r=!0;for(const i of t){if(!r)break;Rt(i)&&ka(Object.keys(i),"$elemMatch")?r=eb(e,i.$elemMatch,n):i instanceof RegExp?r=e.some(o=>typeof o=="string"&&i.test(o)):r=e.some(o=>ai(i,o))}return r}function pP(e,t,n){return Array.isArray(e)&&e.length===t}function mP(e){return Mo(e)&&["$and","$or","$nor"].indexOf(e)===-1}function eb(e,t,n){if(Wt(e)&&!Aa(e)){let r=a=>a,i=t;Object.keys(t).every(mP)&&(i={temp:t},r=a=>({temp:a}));const o=new si(i,n);for(let a=0,s=e.length;a<s;a++)if(o.test(r(e[a])))return!0}return!1}const Ny=e=>e===null,jy=e=>jn(e)&&e>=jO&&e<=NO&&e.toString().indexOf(".")===-1,Fy=e=>jn(e)&&e>=BO&&e<=FO&&e.toString().indexOf(".")===-1,vP={array:Wt,bool:Kf,boolean:Kf,date:yh,decimal:jn,double:jn,int:jy,long:Fy,number:jn,null:Ny,object:Rt,regex:hl,regexp:hl,string:oi,undefined:hn,function:e=>{throw new Lo("unsupported type key `function`.")},1:jn,2:oi,3:Rt,4:Wt,6:hn,8:Kf,9:yh,10:Ny,11:hl,16:jy,18:Fy,19:jn};function By(e,t,n){const r=vP[t];return r?r(e):!1}function yP(e,t,n){return Array.isArray(t)?t.findIndex(r=>By(e,r))>=0:By(e,t)}function kc(e,t,n){return La(e).some(r=>Ys(r)===Ys(t)&&n(r,t))}const gP=(e,t,n)=>{const r=fn(e,t,null,n);return Ra(r,n.useStrictMode)&&r.every(i=>Ra(i,n.useStrictMode))},wP=(e,t,n)=>{const r=La(t);if(r.length==0)return!1;if(r.length==1)return!fn(e,r[0],null,n);throw"Expression $not takes exactly 1 argument"},_P=(e,t,n)=>{const r=fn(e,t,null,n),i=n.useStrictMode;return Ra(r,i)&&r.some(o=>Ra(o,i))},bP=Object.freeze(Object.defineProperty({__proto__:null,$and:gP,$not:wP,$or:_P},Symbol.toStringTag,{value:"Module"})),SP=(e,t,n)=>{const r=fn(e,t,null,n);return r[0]>r[1]?1:r[0]<r[1]?-1:0},EP=Na(Jp),CP=Na(X_),xP=Na(Z_),kP=Na(G_),RP=Na(J_),OP=Na(Q_),PP=Object.freeze(Object.defineProperty({__proto__:null,$cmp:SP,$eq:EP,$gt:CP,$gte:xP,$lt:kP,$lte:RP,$ne:OP},Symbol.toStringTag,{value:"Module"})),$y=(e,t)=>{const n={};return e.split("").forEach((r,i)=>n[r]=t*(i+1)),n};Object.assign(Object.assign(Object.assign({},$y("ABCDEFGHIKLM",1)),$y("NOPQRSTUVWXY",-1)),{Z:0});const Uy={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Hn(e,t=Uy){const n=Object.assign({},Uy,t),r=new Set(Object.keys(n));return(i,o,a)=>{const s=fn(i,o,null,a);if(r.has(`${s}`)){const u=n[`${s}`];if(u instanceof Error)throw new Lo(`cannot apply $${e.name} to -inf, value must in (-inf,inf)`);return u}return e(s)}}Hn(Math.acos,{Infinity:1/0,0:new Error});Hn(Math.acosh,{Infinity:1/0,0:new Error});Hn(Math.asin);Hn(Math.asinh,{Infinity:1/0,"-Infinity":-1/0});Hn(Math.atan);Hn(Math.atanh,{1:1/0,"-1":-1/0});Hn(Math.cos);Hn(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const DP=Math.PI/180;Hn(e=>e*DP,{Infinity:1/0,"-Infinity":1/0});const TP=180/Math.PI;Hn(e=>e*TP,{Infinity:1/0,"-Infinity":-1/0});Hn(Math.sin);Hn(Math.sinh,{"-Infinity":-1/0,Infinity:1/0});Hn(Math.tan);const IP=(e,t,n)=>{if(Aa(t))return e;let r=Object.keys(t),i=!1;tb(t,n);const o=n.idKey;if(ka(r,o)){const s=t[o];(s===0||s===!1)&&(r=r.filter(K_.bind(null,[o])),i=r.length==0)}else r.push(o);const a=co.init(n);return e.map(s=>Ch(s,t,a.update(s),r,i))};function Ch(e,t,n,r,i){let o={},a=!1,s=!1;const u=[];i&&u.push(n.idKey);for(const d of r){let m;const h=t[d];if(d!==n.idKey&&ka([0,!1],h)&&(s=!0),d===n.idKey&&Aa(h))m=e[d];else if(oi(h))m=fn(e,h,d,n);else if(!ka([1,!0],h))if(h instanceof Array)m=h.map(w=>{const g=fn(e,w,null,n);return hn(g)?null:g});else if(Rt(h)){const w=h,g=Object.keys(h),E=g.length==1?g[0]:"",I=fo(ht.PROJECTION,E,n);if(I)E==="$slice"?La(w[E]).every(jn)?(m=I(e,w[E],d,n),a=!0):m=fn(e,w,d,n):m=I(e,w[E],d,n);else if(Mo(E))m=fn(e,w[E],E,n);else if(Un(e,d)){tb(w,n);let S=e[d];S instanceof Array?m=S.map(C=>Ch(C,w,n,g,!1)):(S=Rt(S)?S:e,m=Ch(S,w,n,g,!1))}else m=fn(e,h,null,n)}else{u.push(d);continue}const p=pl(e,d,{preserveMissing:!0});p!==void 0&&gh(o,p,{flatten:!0}),K_([0,1,!1,!0],h)&&(m===void 0?Ty(o,d,{descendArray:!0}):XO(o,d,m))}if(bh(o),(a||s||i)&&(o=fu({},e,o),u.length>0))for(const d of u)Ty(o,d,{descendArray:!0});return o}function tb(e,t){const n=[!1,!1];for(const[r,i]of Object.entries(e)){if(r===(t==null?void 0:t.idKey))return;i===0||i===!1?n[0]=!0:(i===1||i===!0)&&(n[1]=!0),Kt(!(n[0]&&n[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const nb=(e,t,n)=>{Kt(Wt(t),"Invalid expression: $and expects value to be an Array.");const r=t.map(i=>new si(i,n));return i=>r.every(o=>o.test(i))},Xp=(e,t,n)=>{Kt(Wt(t),"Invalid expression. $or expects value to be an Array");const r=t.map(i=>new si(i,n));return i=>r.some(o=>o.test(i))},rb=(e,t,n)=>{Kt(Wt(t),"Invalid expression. $nor expects value to be an array.");const r=Xp("$or",t,n);return i=>!r(i)},ib=(e,t,n)=>{const r={};r[e]=V_(t);const i=new si(r,n);return o=>!i.test(o)},ob=pn(Jp),ab=pn(X_),sb=pn(Z_),ub=pn(Y_),lb=pn(G_),cb=pn(J_),fb=pn(Q_),db=pn(lP);function AP(e,t,n){return r=>fn(r,t,null,n)}function LP(e,t,n){if(!(n!=null&&n.jsonSchemaValidator))throw new Lo("Missing option 'jsonSchemaValidator'. Configure to use '$jsonSchema' operator.");const r=n==null?void 0:n.jsonSchemaValidator(t);return i=>r(i)}const hb=pn(cP),pb=pn(fP);function MP(e,t,n){Kt(n.scriptEnabled,"$where operator requires 'scriptEnabled' option to be true");const r=t;return Kt(cu(r),"$where only accepts a Function object"),i=>Ra(r.call(i),n==null?void 0:n.useStrictMode)}const NP=pn(hP),mb=pn(eb),vb=pn(pP),yb=pn(dP),gb=pn(yP);var zy=!1;function jP(e){return zy||(Iy(ht.PIPELINE,{$sort:aP,$project:IP}),Iy(ht.QUERY,{$and:nb,$eq:ob,$elemMatch:mb,$exists:yb,$gt:ab,$gte:sb,$in:ub,$lt:lb,$lte:cb,$ne:fb,$nin:db,$mod:hb,$nor:rb,$not:ib,$or:Xp,$regex:pb,$size:vb,$type:gb}),zy=!0),new si(e)}function Kl(e,t){var n=Tn(e.primaryKey);t=dt(t);var r=ur(t);if(typeof r.skip!="number"&&(r.skip=0),r.selector?(r.selector=r.selector,Object.entries(r.selector).forEach(([d,m])=>{(typeof m!="object"||m===null)&&(r.selector[d]={$eq:m})})):r.selector={},r.index){var i=Ws(r.index);i.includes(n)||i.push(n),r.index=i}if(r.sort){var u=r.sort.find(d=>ak(d)===n);u||(r.sort=r.sort.slice(0),r.sort.push({[n]:"asc"}))}else if(r.index)r.sort=r.index.map(d=>({[d]:"asc"}));else{if(e.indexes){var o=new Set;Object.entries(r.selector).forEach(([d,m])=>{var h=!1;typeof m=="object"&&m!==null?h=!!Object.keys(m).find(p=>Vp.has(p)):h=!0,h&&o.add(d)});var a=-1,s;e.indexes.forEach(d=>{var m=fa(d)?d:[d],h=m.findIndex(p=>!o.has(p));h>0&&h>a&&(a=h,s=m)}),s&&(r.sort=s.map(d=>({[d]:"asc"})))}r.sort||(r.sort=[{[n]:"asc"}])}return r}function wb(e,t){if(!t.sort)throw le("SNH",{query:t});var n=[];t.sort.forEach(i=>{var o=Object.keys(i)[0],a=Object.values(i)[0];n.push({key:o,direction:a,getValueFn:ok(o)})});var r=(i,o)=>{for(var a=0;a<n.length;++a){var s=n[a],u=s.getValueFn(i),d=s.getValueFn(o);if(u!==d){var m=s.direction==="asc"?Dn(u,d):Dn(d,u);return m}}};return r}function Zp(e,t){if(!t.sort)throw le("SNH",{query:t});var n=jP(t.selector),r=i=>n.test(i);return r}function FP(e,t){return!t.sort||t.sort.length===0?[e]:t.sort.map(n=>Object.keys(n)[0])}var BP=new WeakMap;function $P(e){return jr(BP,e,()=>{var t=e.collection,n=Kl(t.storageInstance.schema,ur(e.mangoQuery)),r=t.schema.primaryPath,i=wb(t.schema.jsonSchema,n),o=(d,m)=>{var h={docA:d,docB:m,rxQuery:e};return i(h.docA,h.docB)},a=Zp(t.schema.jsonSchema,n),s=d=>{var m={doc:d,rxQuery:e};return a(m.doc)},u={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:FP(r,n),sortComparator:o,queryMatcher:s};return u})}function UP(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=$P(e),r=$e(e._result).docsData.slice(0),i=$e(e._result).docsDataMap,o=!1,a=t.map(u=>$R(u)).filter(Jw),s=a.find(u=>{var d={queryParams:n,changeEvent:u,previousResults:r,keyDocumentMap:i},m=OO(d);if(m==="runFullQueryAgain")return!0;if(m!=="doNothing")return o=!0,PO(m,n,u,r,i),!1});return s?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:o,newResults:r}}var zP=function(){function e(){this._map=new Map}var t=e.prototype;return t.getByQuery=function(r){var i=r.toString();return jr(this._map,i,()=>r)},e}();function qP(){return new zP}function qy(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}function KP(e){return e.refCount$.observers.length}var WP=100,HP=30*1e3,VP=(e,t)=>(n,r)=>{if(!(r._map.size<e)){var i=Jt()-t,o=[],a=Array.from(r._map.values());for(var s of a)if(!(KP(s)>0)){if(s._lastEnsureEqual===0&&s._creationTime<i){qy(r,s);continue}o.push(s)}var u=o.length-e;if(!(u<=0)){var d=o.sort((h,p)=>h._lastEnsureEqual-p._lastEnsureEqual),m=d.slice(0,u);m.forEach(h=>qy(r,h))}}},_b=VP(WP,HP),Hf=new WeakSet;function QP(e){Hf.has(e)||(Hf.add(e),bk().then(()=>Ck(200)).then(()=>{e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),Hf.delete(e)}))}var YP=function(){function e(n,r,i){this.cacheItemByDocId=new Map,this.registry=typeof FinalizationRegistry=="function"?new FinalizationRegistry(o=>{var a=o.docId,s=this.cacheItemByDocId.get(a);s&&(s.byRev.delete(o.revisionHeight),s.byRev.size===0&&this.cacheItemByDocId.delete(a))}):void 0,this.registerIdleTasks=[],this.primaryPath=n,this.changes$=r,this.documentCreator=i,r.subscribe(o=>{var a=o.documentId,s=this.cacheItemByDocId.get(a);if(s){var u=j_(o);s.last=u}})}var t=e.prototype;return t.getLatestDocumentData=function(r){var i=ni(this.cacheItemByDocId,r);return i.last},t.getLatestDocumentDataIfExists=function(r){var i=this.cacheItemByDocId.get(r);if(i)return i.last},zi(e,[{key:"getCachedRxDocument",get:function(){var n=GP(this);return Mi(this,"getCachedRxDocument",n)}}])}();function GP(e){var t=e.primaryPath,n=e.cacheItemByDocId,r=e.registry,i=zt.deepFreezeWhenDevMode,o=e.documentCreator,a=s=>{var u=s[t],d=vy(s._rev),m=jr(n,u,()=>JP(s)),h=m.byRev,p=h.get(d),w=p?p.deref():void 0;return w||(s=i(s),w=o(s),h.set(d,ZP(w)),r&&(e.registerIdleTasks.push(w),e.registerIdlePromise||(e.registerIdlePromise=Zw().then(()=>{e.registerIdlePromise=void 0;var g=e.registerIdleTasks;g.length!==0&&(e.registerIdleTasks=[],g.forEach(E=>{r.register(E,{docId:E.primary,revisionHeight:vy(E.revision)})}))})))),w};return a}function bb(e,t){for(var n=e.getCachedRxDocument,r=[],i=0;i<t.length;i++){var o=t[i],a=n(o);r.push(a)}return r}function JP(e){return{byRev:new Map,last:e}}var XP=typeof WeakRef=="function",ZP=XP?eD:tD;function eD(e){return new WeakRef(e)}function tD(e){return{deref(){return e}}}var Ky=function(){function e(t,n,r){this.time=Jt(),this.collection=t,this.count=r,this.documents=bb(this.collection._docCache,n)}return zi(e,[{key:"docsData",get:function(){return Mi(this,"docsData",this.documents.map(t=>t._data))}},{key:"docsDataMap",get:function(){var t=new Map;return this.documents.forEach(n=>{t.set(n.primary,n._data)}),Mi(this,"docsDataMap",t)}},{key:"docsMap",get:function(){for(var t=new Map,n=this.documents,r=0;r<n.length;r++){var i=n[r];t.set(i.primary,i)}return Mi(this,"docsMap",t)}}])}(),nD=0,rD=function(){return++nD},Sb=function(){function e(n,r,i,o={}){this.id=rD(),this._execOverDatabaseCount=0,this._creationTime=Jt(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new Ir(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=wr,this.op=n,this.mangoQuery=r,this.collection=i,this.other=o,r||(this.mangoQuery=Ss()),this.isFindOneByIdQuery=aD(this.collection.schema.primaryPath,r)}var t=e.prototype;return t._setResultData=function(r){if(typeof r=="number"){this._result=new Ky(this.collection,[],r);return}else r instanceof Map&&(r=Array.from(r.values()));var i=new Ky(this.collection,r,r.length);this._result=i},t._execOverDatabase=async function(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Jt(),this.op==="count"){var r=this.getPreparedQuery(),i=await this.collection.storageInstance.count(r);if(i.mode==="slow"&&!this.collection.database.allowSlowCount)throw le("QU14",{collection:this.collection,queryObj:this.mangoQuery});return i.count}if(this.op==="findByIds"){var o=$e(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,a=new Map,s=[];if(o.forEach(m=>{var h=this.collection._docCache.getLatestDocumentDataIfExists(m);if(h){if(!h._deleted){var p=this.collection._docCache.getCachedRxDocument(h);a.set(m,p)}}else s.push(m)}),s.length>0){var u=await this.collection.storageInstance.findDocumentsById(s,!1);u.forEach(m=>{var h=this.collection._docCache.getCachedRxDocument(m);a.set(h.primary,h)})}return a}var d=Cb(this);return d.then(m=>(this._lastExecEnd=Jt(),m))},t.exec=function(r){if(r&&this.op!=="findOne")throw le("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Wy(this).then(()=>ri(this.$)).then(i=>{if(!i&&r)throw le("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return i})},t.toString=function(){var r=Ul({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(r);return this.toString=()=>i,i},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:Kl(this.collection.schema.jsonSchema,this.mangoQuery)};r.mangoQuery.selector._deleted={$eq:!1},r.mangoQuery.index&&r.mangoQuery.index.unshift("_deleted"),Cr("prePrepareQuery",r);var i=Rc(this.collection.schema.jsonSchema,r.mangoQuery);return this.getPreparedQuery=()=>i,i},t.doesDocumentDataMatch=function(r){return r._deleted?!1:this.queryMatcher(r)},t.remove=function(){return this.exec().then(r=>Array.isArray(r)?Promise.all(r.map(i=>i.remove())):r.remove())},t.update=function(r){throw _t("update")},t.where=function(r){throw _t("query-builder")},t.sort=function(r){throw _t("query-builder")},t.skip=function(r){throw _t("query-builder")},t.limit=function(r){throw _t("query-builder")},zi(e,[{key:"$",get:function(){if(!this._$){var n=this.collection.$.pipe(rt(r=>!r.isLocal),N_(null),Hi(()=>Wy(this)),Bn(()=>this._result),M_(o_),mh((r,i)=>!!(r&&r.time===$e(i).time)),rt(r=>!!r),Bn(r=>{var i=$e(r);return this.op==="count"?i.count:this.op==="findOne"?i.documents.length===0?null:i.documents[0]:this.op==="findByIds"?i.docsMap:i.documents.slice(0)}));this._$=UR(n,this.refCount$.pipe(rt(()=>!1)))}return this._$}},{key:"$$",get:function(){var n=this.collection.database.getReactivityFactory();return n.fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var n=this.collection.schema.jsonSchema,r=Kl(this.collection.schema.jsonSchema,this.mangoQuery);return Mi(this,"queryMatcher",Zp(n,r))}},{key:"asRxQuery",get:function(){return this}}])}();function Ss(){return{selector:{}}}function iD(e){return e.collection._queryCache.getByQuery(e)}function Ko(e,t,n,r){Cr("preCreateRxQuery",{op:e,queryObj:t,collection:n,other:r});var i=new Sb(e,t,n,r);return i=iD(i),QP(n),i}function Eb(e){var t=e.asRxQuery.collection._changeEventBuffer.counter;return e._latestChangeEvent>=t}function Wy(e){return e.collection.database.destroyed||Eb(e)?wr:(e._ensureEqualQueue=e._ensureEqualQueue.then(()=>oD(e)),e._ensureEqualQueue)}function oD(e){if(e._lastEnsureEqual=Jt(),e.collection.database.destroyed||Eb(e))return wr;var t=!1,n=!1;if(e._latestChangeEvent===-1&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(r===null)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r);if(e.op==="count"){var o=$e(e._result).count,a=o;i.forEach(u=>{var d=u.previousDocumentData&&e.doesDocumentDataMatch(u.previousDocumentData),m=e.doesDocumentDataMatch(u.documentData);!d&&m&&a++,d&&!m&&a--}),a!==o&&(t=!0,e._setResultData(a))}else{var s=UP(e,i);s.runFullQueryAgain?n=!0:s.changed&&(t=!0,e._setResultData(s.newResults))}}}return n?e._execOverDatabase().then(u=>(e._latestChangeEvent=e.collection._changeEventBuffer.counter,typeof u=="number"?((!e._result||u!==e._result.count)&&(t=!0,e._setResultData(u)),t):((!e._result||!uk(e.collection.schema.primaryPath,u,e._result.docsData))&&(t=!0,e._setResultData(u)),t))):Promise.resolve(t)}function Rc(e,t){if(!t.sort)throw le("SNH",{query:t});var n=DO(e,t);return{query:t,queryPlan:n}}async function Cb(e){var t=[],n=e.collection;if(e.isFindOneByIdQuery)if(Array.isArray(e.isFindOneByIdQuery)){var r=e.isFindOneByIdQuery;if(r=r.filter(m=>{var h=e.collection._docCache.getLatestDocumentDataIfExists(m);return h?(h._deleted||t.push(h),!1):!0}),r.length>0){var i=await n.storageInstance.findDocumentsById(r,!1);bo(t,i)}}else{var o=e.isFindOneByIdQuery,a=e.collection._docCache.getLatestDocumentDataIfExists(o);if(!a){var s=await n.storageInstance.findDocumentsById([o],!1);s[0]&&(a=s[0])}a&&!a._deleted&&t.push(a)}else{var u=e.getPreparedQuery(),d=await n.storageInstance.query(u);t=d.documents}return t}function aD(e,t){if(!t.skip&&t.selector&&Object.keys(t.selector).length===1&&t.selector[e]){var n=t.selector[e];if(typeof n=="string")return n;if(Object.keys(n).length===1&&typeof n.$eq=="string"||Object.keys(n).length===1&&Array.isArray(n.$eq)&&!n.$eq.find(r=>typeof r!="string"))return n.$eq}return!1}var sD="_rxdb_internal";async function em(e,t){var n=await e.findDocumentsById([t],!1),r=n[0];if(r)return r}async function xb(e,t,n){var r=await e.bulkWrite([t],n);if(r.error.length>0){var i=r.error[0];throw i}else{var o=r.success[0];return o}}function Js(e){return Object.assign({},...e)}function uD(e,t,n){var r=t.documentData,i=t.previousDocumentData,o={documentId:t.documentId,collectionName:n?n.name:void 0,isLocal:e,operation:t.operation,documentData:zt.deepFreezeWhenDevMode(r),previousDocumentData:zt.deepFreezeWhenDevMode(i)};return o}function Wl(e,t,n,r){if(r)throw r.status===409?le("CONFLICT",{collection:e.name,id:t,writeError:r,data:n}):r.status===422?le("VD2",{collection:e.name,id:t,writeError:r,data:n}):r}function lD(e,t,n,r,i,o,a){for(var s=!!e.schema.attachments,u=[],d=[],m=[],h=qi(10),p={id:h,events:[],checkpoint:null,context:i,startTime:Jt(),endTime:0},w=p.events,g=[],E=[],I=[],S=n.size>0,C,y=r.length,R=function(){var k=r[D],P=k.document,L=k.previous,B=P[t],N=P._deleted,F=L&&L._deleted,Z=void 0;S&&(Z=n.get(B));var ue;if(Z){var Ce=Z._rev;if(!L||L&&Ce!==L._rev){var Ie={isError:!0,status:409,documentId:B,writeRow:k,documentInDb:Z};return m.push(Ie),1}var fe=s?Vf(k):k;s&&(N?L&&Object.keys(L._attachments).forEach(je=>{E.push({documentId:B,attachmentId:je,digest:$e(L)._attachments[je].digest})}):(Object.entries(P._attachments).find(([je,Le])=>{var ot=L?L._attachments[je]:void 0;return!ot&&!Le.data&&(ue={documentId:B,documentInDb:Z,isError:!0,status:510,writeRow:k,attachmentId:je}),!0}),ue||Object.entries(P._attachments).forEach(([je,Le])=>{var ot=L?L._attachments[je]:void 0;if(!ot)g.push({documentId:B,attachmentId:je,attachmentData:Le,digest:Le.digest});else{var at=fe.document._attachments[je].digest;Le.data&&ot.digest!==at&&I.push({documentId:B,attachmentId:je,attachmentData:Le,digest:Le.digest})}}))),ue?m.push(ue):(s?(d.push(Vf(fe)),a&&a(P)):(d.push(fe),a&&a(P)),C=fe);var se=null,we=null,Ne=null;if(F&&!N)Ne="INSERT",se=s?ki(P):P;else if(L&&!F&&!N)Ne="UPDATE",se=s?ki(P):P,we=L;else if(N)Ne="DELETE",se=$e(P),we=L;else throw le("SNH",{args:{writeRow:k}});var Ze={documentId:B,documentData:se,previousDocumentData:we,operation:Ne};w.push(Ze)}else{var Ee=!!N;if(s&&Object.entries(P._attachments).forEach(([je,Le])=>{Le.data?g.push({documentId:B,attachmentId:je,attachmentData:Le,digest:Le.digest}):(ue={documentId:B,isError:!0,status:510,writeRow:k,attachmentId:je},m.push(ue))}),ue||(s?(u.push(Vf(k)),o&&o(P)):(u.push(k),o&&o(P)),C=k),!Ee){var Re={documentId:B,operation:"INSERT",documentData:s?ki(P):P,previousDocumentData:s&&L?ki(L):L};w.push(Re)}}},D=0;D<y;D++)R();return{bulkInsertDocs:u,bulkUpdateDocs:d,newestRow:C,errors:m,eventBulk:p,attachmentsAdd:g,attachmentsRemove:E,attachmentsUpdate:I}}function Vf(e){return{previous:e.previous,document:ki(e.document)}}function cD(e){return atob(e).length}function fD(e){var t=e.data;if(!t)return e;var n={length:cD(t),digest:e.digest,type:e.type};return n}function ki(e){if(!e._attachments||Object.keys(e._attachments).length===0)return e;var t=dt(e);return t._attachments={},Object.entries(e._attachments).forEach(([n,r])=>{t._attachments[n]=fD(r)}),t}function tm(e){var t=dt(e);return t._meta=dt(e._meta),t}function kb(e,t,n){zt.deepFreezeWhenDevMode(n);var r=Tn(n.primaryKey);function i(a){var s=dt(a.document);if(s._meta=dt(s._meta),zt.isDevMode()){s=c_(r,n,s);try{typeof structuredClone=="function"?structuredClone(a):JSON.parse(JSON.stringify(a))}catch{throw le("DOC24",{collection:t.collectionName,document:a.document})}a.previous,a.previous&&Object.keys(a.previous._meta).forEach(u=>{if(!Object.prototype.hasOwnProperty.call(a.document._meta,u))throw le("SNH",{dataBefore:a.previous,dataAfter:a.document})})}return s._meta.lwt=Jt(),s._rev=ti(e.token,a.previous),{document:s,previous:a.previous}}var o={originalStorageInstance:t,schema:t.schema,internals:t.internals,collectionName:t.collectionName,databaseName:t.databaseName,options:t.options,bulkWrite(a,s){var u=a.map(d=>i(d));return e.lockedRun(()=>t.bulkWrite(u,s)).then(d=>{var m={error:[],success:d.success.slice(0)},h=d.error.filter(w=>w.status===409&&!w.writeRow.previous&&!w.writeRow.document._deleted&&$e(w.documentInDb)._deleted?!0:(m.error.push(w),!1));if(h.length>0){var p=h.map(w=>({previous:w.documentInDb,document:Object.assign({},w.writeRow.document,{_rev:ti(e.token,w.documentInDb)})}));return e.lockedRun(()=>t.bulkWrite(p,s)).then(w=>(bo(m.error,w.error),bo(m.success,w.success),m))}return d})},query(a){return e.lockedRun(()=>t.query(a))},count(a){return e.lockedRun(()=>t.count(a))},findDocumentsById(a,s){return e.lockedRun(()=>t.findDocumentsById(a,s))},getAttachmentData(a,s,u){return e.lockedRun(()=>t.getAttachmentData(a,s,u))},getChangedDocumentsSince:t.getChangedDocumentsSince?(a,s)=>e.lockedRun(()=>t.getChangedDocumentsSince($e(a),s)):void 0,cleanup(a){return e.lockedRun(()=>t.cleanup(a))},remove(){return e.storageInstances.delete(o),e.lockedRun(()=>t.remove())},close(){return e.storageInstances.delete(o),e.lockedRun(()=>t.close())},changeStream(){return t.changeStream()},conflictResultionTasks(){return t.conflictResultionTasks()},resolveConflictResultionTask(a){if(a.output.isEqual)return t.resolveConflictResultionTask(a);var s=Object.assign({},a.output.documentData,{_meta:ou(),_rev:Er(),_attachments:{}}),u=dt(s);return delete u._meta,delete u._rev,delete u._attachments,t.resolveConflictResultionTask({id:a.id,output:{isEqual:!1,documentData:u}})}};return e.storageInstances.add(o),o}function dD(e){if(e.schema.keyCompression)throw le("UT5",{args:{params:e}});if(Rb(e.schema))throw le("UT6",{args:{params:e}});if(e.schema.attachments&&e.schema.attachments.compression)throw le("UT7",{args:{params:e}})}function Rb(e){return!!(e.encrypted&&e.encrypted.length>0||e.attachments&&e.attachments.encrypted)}function hD(e,t,n){var r=Tn(e.schema.primaryKey),i=n?n.lwt:Lp,o=n?n.id:"";return Kl(e.schema,{selector:{$or:[{"_meta.lwt":{$gt:i}},{"_meta.lwt":{$eq:i},[r]:{$gt:n?o:""}}],"_meta.lwt":{$gte:i}},sort:[{"_meta.lwt":"asc"},{[r]:"asc"}],skip:0,limit:t})}async function Ob(e,t,n){if(e.getChangedDocumentsSince)return e.getChangedDocumentsSince(t,n);var r=Tn(e.schema.primaryKey),i=Rc(e.schema,hD(e,t,n)),o=await e.query(i),a=o.documents,s=nk(a);return{documents:a,checkpoint:s?{id:s[r],lwt:s._meta.lwt}:n||{id:"",lwt:0}}}var pD=function(){function e(n,r,i,o){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=n,this.primaryPath=r,this.preWrite=i,this.postWrite=o}var t=e.prototype;return t.addWrite=function(r,i){var o=r[this.primaryPath],a=jr(this.queueByDocId,o,()=>[]),s=new Promise((u,d)=>{var m={lastKnownDocumentState:r,modifier:i,resolve:u,reject:d};$e(a).push(m),this.triggerRun()});return s},t.triggerRun=async function(){if(!(this.isRunning===!0||this.queueByDocId.size===0)){this.isRunning=!0;var r=[],i=this.queueByDocId;this.queueByDocId=new Map,await Promise.all(Array.from(i.entries()).map(async([a,s])=>{var u=mD(s.map(h=>h.lastKnownDocumentState)),d=u;for(var m of s)try{d=await m.modifier(ur(d))}catch(h){m.reject(h),m.reject=()=>{},m.resolve=()=>{}}try{await this.preWrite(d,u)}catch(h){s.forEach(p=>p.reject(h));return}r.push({previous:u,document:d})}));var o=r.length>0?await this.storageInstance.bulkWrite(r,"incremental-write"):{error:[],success:[]};return await Promise.all(o.success.map(a=>{var s=a[this.primaryPath];this.postWrite(a);var u=ni(i,s);u.forEach(d=>d.resolve(a))})),o.error.forEach(a=>{var s=a.documentId,u=ni(i,s),d=Ec(a);if(d){var m=jr(this.queueByDocId,s,()=>[]);u.reverse().forEach(p=>{p.lastKnownDocumentState=$e(d.documentInDb),$e(m).unshift(p)})}else{var h=Mk(a);u.forEach(p=>p.reject(h))}}),this.isRunning=!1,this.triggerRun()}},e}();function Hy(e){var t=async n=>{var r=sk(n);r._deleted=n._deleted;var i=await e(r),o=Object.assign({},i,{_meta:n._meta,_attachments:n._attachments,_rev:n._rev,_deleted:typeof i._deleted<"u"?i._deleted:n._deleted});return typeof o._deleted>"u"&&(o._deleted=!1),o};return t}function mD(e){var t=e[0],n=Ea(t._rev).height;return e.forEach(r=>{var i=Ea(r._rev).height;i>n&&(t=r,n=i)}),t}var du={get primaryPath(){var e=this;if(e.isInstanceOfRxDocument)return e.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){var e=this;if(e.isInstanceOfRxDocument)return e._data._rev},get deleted$(){var e=this;if(e.isInstanceOfRxDocument)return e.$.pipe(Bn(t=>t._data._deleted))},get deleted$$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.deleted$,e.getLatest().deleted,e.collection.database)},get deleted(){var e=this;if(e.isInstanceOfRxDocument)return e._data._deleted},getLatest(){var e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(e)},get $(){var e=this;return e.collection.$.pipe(rt(t=>!t.isLocal),rt(t=>t.documentId===this.primary),Bn(t=>j_(t)),N_(e.collection._docCache.getLatestDocumentData(this.primary)),mh((t,n)=>t._rev===n._rev),Bn(t=>this.collection._docCache.getCachedRxDocument(t)),M_(o_))},get $$(){var e=this,t=e.collection.database.getReactivityFactory();return t.fromObservable(e.$,e.getLatest()._data,e.collection.database)},get$(e){if(zt.isDevMode()){if(e.includes(".item."))throw le("DOC1",{path:e});if(e===this.primaryPath)throw le("DOC2");if(this.collection.schema.finalFields.includes(e))throw le("DOC3",{path:e});var t=Fr(this.collection.schema.jsonSchema,e);if(!t)throw le("DOC4",{path:e})}return this.$.pipe(Bn(n=>Ar(n,e)),mh())},get$$(e){var t=this.get$(e),n=this.collection.database.getReactivityFactory();return n.fromObservable(t,this.getLatest().get(e),this.collection.database)},populate(e){var t=Fr(this.collection.schema.jsonSchema,e),n=this.get(e);if(!n)return Ek;if(!t)throw le("DOC5",{path:e});if(!t.ref)throw le("DOC6",{path:e,schemaObj:t});var r=this.collection.database.collections[t.ref];if(!r)throw le("DOC7",{ref:t.ref,path:e,schemaObj:t});return t.type==="array"?r.findByIds(n).exec().then(i=>{var o=i.values();return Array.from(o)}):r.findOne(n).exec()},get(e){return jr(this._propertyCache,e,()=>{var t=Ar(this._data,e);if(typeof t!="object"||t===null||Array.isArray(t))return zt.deepFreezeWhenDevMode(t);var n=this,r=new Proxy(dt(t),{get(i,o){if(typeof o!="string")return i[o];var a=o.charAt(o.length-1);if(o.endsWith("$$")){var s=o.slice(0,-2);return n.get$$(Ci(e+"."+s))}else if(a==="$"){var u=o.slice(0,-1);return n.get$(Ci(e+"."+u))}else if(a==="_"){var d=o.slice(0,-1);return n.populate(Ci(e+"."+d))}else return n.get(Ci(e+"."+o))}});return r})},toJSON(e=!1){if(e)return zt.deepFreezeWhenDevMode(this._data);var t=dt(this._data);return delete t._rev,delete t._attachments,delete t._deleted,delete t._meta,zt.deepFreezeWhenDevMode(t)},toMutableJSON(e=!1){return ur(this.toJSON(e))},update(e){throw _t("update")},incrementalUpdate(e){throw _t("update")},updateCRDT(e){throw _t("crdt")},putAttachment(){throw _t("attachments")},getAttachment(){throw _t("attachments")},allAttachments(){throw _t("attachments")},get allAttachments$(){throw _t("attachments")},async modify(e,t){var n=this._data,r=await Hy(e)(n);return this._saveData(r,n)},incrementalModify(e,t){return this.collection.incrementalWriteQueue.addWrite(this._data,Hy(e)).then(n=>this.collection._docCache.getCachedRxDocument(n))},patch(e){var t=this._data,n=ur(t);return Object.entries(e).forEach(([r,i])=>{n[r]=i}),this._saveData(n,t)},incrementalPatch(e){return this.incrementalModify(t=>(Object.entries(e).forEach(([n,r])=>{t[n]=r}),t))},async _saveData(e,t){if(e=dt(e),this._data._deleted)throw le("DOC11",{id:this.primary,document:this});await Db(this.collection,e,t);var n=await this.collection.storageInstance.bulkWrite([{previous:t,document:e}],"rx-document-save-data"),r=n.error[0];return Wl(this.collection,this.primary,e,r),await this.collection._runHooks("post","save",e,this),this.collection._docCache.getCachedRxDocument(n.success[0])},remove(){var e=this.collection;if(this.deleted)return Promise.reject(le("DOC13",{document:this,id:this.primary}));var t=dt(this._data),n;return e._runHooks("pre","remove",t,this).then(async()=>{t._deleted=!0;var r=await e.storageInstance.bulkWrite([{previous:this._data,document:t}],"rx-document-remove"),i=r.error[0];return Wl(e,this.primary,t,i),r.success[0]}).then(r=>(n=r,this.collection._runHooks("post","remove",t,this))).then(()=>this.collection._docCache.getCachedRxDocument(n))},incrementalRemove(){return this.incrementalModify(async e=>(await this.collection._runHooks("pre","remove",e,this),e._deleted=!0,e)).then(async e=>(await this.collection._runHooks("post","remove",e._data,e),e))},destroy(){throw le("DOC14")}};function Pb(e=du){var t=function(r,i){this.collection=r,this._data=i,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function vD(e,t,n){var r=new e(t,n);return Cr("createRxDocument",r),r}function Db(e,t,n){return t._meta=Object.assign({},n._meta,t._meta),zt.isDevMode()&&e.schema.validateChange(n,t),e._runHooks("pre","save",t,n)}var ho="collection",nm="storage-token",yD="rx-migration-status",gD="RxInternalDocument",rm=Np({version:0,title:gD,primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[ho,nm,yD,"OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Xs(e,t){return Ki(rm,{key:e,context:t})}async function Tb(e){var t=Rc(e.schema,{selector:{context:ho,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0}),n=await e.query(t),r=n.documents;return r}var Ib="storageToken",wD=Xs(Ib,nm);async function _D(e){var t=qi(10),n=e.password?await e.hashFunction(JSON.stringify(e.password)):void 0,r={id:wD,context:nm,key:Ib,data:{rxdbVersion:e.rxdbVersion,token:t,instanceToken:e.token,passwordHash:n},_deleted:!1,_meta:ou(),_rev:Er(),_attachments:{}},i=await e.internalStore.bulkWrite([{document:r}],"internal-add-storage-token");if(i.success[0])return i.success[0];var o=$e(i.error[0]);if(o.isError&&Ec(o)){var a=o;if(!bD(a.documentInDb.data.rxdbVersion,e.rxdbVersion))throw le("DM5",{args:{database:e.name,databaseStateVersion:a.documentInDb.data.rxdbVersion,codeVersion:e.rxdbVersion}});if(n&&n!==a.documentInDb.data.passwordHash)throw le("DB1",{passwordHash:n,existingPasswordHash:a.documentInDb.data.passwordHash});var s=a.documentInDb;return $e(s)}throw o}function bD(e,t){if(!e||t.includes("beta")&&t!==e)return!1;var n=e.split(".")[0],r=t.split(".")[0];return n===r}async function SD(e,t,n){if(e.schema.version!==n.version)throw le("SNH",{schema:n,version:e.schema.version,name:e.name,collection:e,args:{storageCollectionName:t}});for(var r=Hl(e.name,e.schema.jsonSchema),i=Xs(r,ho);;){var o=await em(e.database.internalStore,i),a=ur($e(o)),s=a.data.connectedStorages.find(u=>u.collectionName===t&&u.schema.version===n.version);if(s)return;a.data.connectedStorages.push({collectionName:t,schema:n});try{await xb(e.database.internalStore,{previous:$e(o),document:a},"add-connected-storage-to-collection")}catch(u){if(!Ec(u))throw u}}}async function ED(e,t,n){if(e.schema.version!==n.version)throw le("SNH",{schema:n,version:e.schema.version,name:e.name,collection:e,args:{storageCollectionName:t}});for(var r=Hl(e.name,e.schema.jsonSchema),i=Xs(r,ho);;){var o=await em(e.database.internalStore,i),a=ur($e(o)),s=a.data.connectedStorages.find(u=>u.collectionName===t&&u.schema.version===n.version);if(!s)return;a.data.connectedStorages=a.data.connectedStorages.filter(u=>u.collectionName!==t);try{await xb(e.database.internalStore,{previous:$e(o),document:a},"remove-connected-storage-from-collection")}catch(u){if(!Ec(u))throw u}}}function Hl(e,t){return e+"-"+t.version}function Qf(e,t){return t=dt(t),t=$k(e,t),t=c_(e.primaryPath,e.jsonSchema,t),t._meta=ou(),Object.prototype.hasOwnProperty.call(t,"_deleted")||(t._deleted=!1),Object.prototype.hasOwnProperty.call(t,"_attachments")||(t._attachments={}),Object.prototype.hasOwnProperty.call(t,"_rev")||(t._rev=Er()),t}async function CD(e,t){t.multiInstance=e.multiInstance;var n=await e.storage.createStorageInstance(t);return n}async function Ab(e,t,n,r,i,o,a){var s=await Tb(t),u=s.filter(p=>p.data.name===i),d=[];u.forEach(p=>{d.push({collectionName:p.data.name,schema:p.data.schema,isCollection:!0}),p.data.connectedStorages.forEach(w=>d.push({collectionName:w.collectionName,isCollection:!1,schema:w.schema}))});var m=new Set;if(d=d.filter(p=>{var w=p.collectionName+"||"+p.schema.version;return m.has(w)?!1:(m.add(w),!0)}),await Promise.all(d.map(async p=>{var w=await e.createStorageInstance({collectionName:p.collectionName,databaseInstanceToken:n,databaseName:r,multiInstance:!1,options:{},schema:p.schema,password:o,devMode:zt.isDevMode()});await w.remove(),p.isCollection&&await So("postRemoveRxCollection",{storage:e,databaseName:r,collectionName:i})})),a){var h=u.map(p=>{var w=tm(p);return w._deleted=!0,w._meta.lwt=Jt(),w._rev=ti(n,p),{previous:p,document:w}});await t.bulkWrite(h,"rx-database-remove-collection-all")}}var xD=function(){function e(n){this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=n,this.subs.push(this.collection.$.pipe(rt(r=>!r.isLocal)).subscribe(r=>this._handleChangeEvent(r)))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var i=this.buffer[0],o=this.eventCounterMap.get(i);if(r<o)return null;var a=r-o;return a},t.getFrom=function(r){var i=[],o=this.getArrayIndexByPointer(r);if(o===null)return null;for(;;){var a=this.buffer[o];if(o++,a)i.push(a);else return i}},t.runFrom=function(r,i){var o=this.getFrom(r);if(o===null)throw new Error("out of bounds");o.forEach(a=>i(a))},t.reduceByLastOfDoc=function(r){return r.slice(0)},t.destroy=function(){this.subs.forEach(r=>r.unsubscribe())},e}();function kD(e){return new xD(e)}var RD=new WeakMap;function OD(e){var t=e.schema.getDocumentPrototype(),n=TD(e),r=du,i={};return[t,n,r].forEach(o=>{var a=Object.getOwnPropertyNames(o);a.forEach(s=>{var u=Object.getOwnPropertyDescriptor(o,s),d=!0;(s.startsWith("_")||s.endsWith("_")||s.startsWith("$")||s.endsWith("$"))&&(d=!1),typeof u.value=="function"?Object.defineProperty(i,s,{get(){return u.value.bind(this)},enumerable:d,configurable:!1}):(u.enumerable=d,u.configurable=!1,u.writable&&(u.writable=!1),Object.defineProperty(i,s,u))})}),i}function PD(e){return jr(RD,e,()=>Pb(OD(e)))}function DD(e,t){var n=vD(PD(e),e,zt.deepFreezeWhenDevMode(t));return e._runHooksSync("post","create",t,n),Cr("postCreateRxDocument",n),n}function TD(e){var t={};return Object.entries(e.methods).forEach(([n,r])=>{t[n]=r}),t}async function Vl(e,t){var n=Ki(e.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),r=await e.input.metaInstance.findDocumentsById([n],!1),i=r[0];if(e.lastCheckpointDoc[t]=i,i)return i.checkpointData}async function Ql(e,t,n){e.checkpointQueue=e.checkpointQueue.then(async()=>{var r=e.lastCheckpointDoc[t];if(n&&!e.events.canceled.getValue()&&(!r||JSON.stringify(r.checkpointData)!==JSON.stringify(n))){var i={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:n,_meta:ou(),_rev:Er()};for(i.id=Ki(e.input.metaInstance.schema,i);!e.events.canceled.getValue();){if(r&&(i.checkpointData=Js([r.checkpointData,i.checkpointData])),i._meta.lwt=Jt(),i._rev=ti(await e.checkpointKey,r),e.events.canceled.getValue())return;var o=await e.input.metaInstance.bulkWrite([{previous:r,document:i}],"replication-set-checkpoint"),a=o.success[0];if(a){e.lastCheckpointDoc[t]=a;return}else{var s=o.error[0];if(s.status!==409)throw s;r=$e(s.documentInDb),i._rev=ti(await e.checkpointKey,r)}}}}),await e.checkpointQueue}async function ID(e){var t=await e.hashFunction([e.identifier,e.forkInstance.databaseName,e.forkInstance.collectionName].join("||"));return"rx_storage_replication_"+t}function Vy(e,t,n,r,i){var o=Object.assign({},r,{_attachments:t&&r._attachments?r._attachments:{},_meta:n?r._meta:{lwt:Jt()},_rev:n?r._rev:Er()});return o._rev||(o._rev=ti(e,i)),o}function wi(e,t,n){var r=dt(e);return t||delete r._attachments,n||(delete r._meta,delete r._rev),r}function xh(e,t){return e.hasAttachments?t.map(n=>{var r=ur(n.document);return r.docData=ki(r.docData),{document:r,previous:n.previous}}):t}function kh(e){for(;;)if(e.underlyingPersistentStorage)e=e.underlyingPersistentStorage;else return e}var AD="RxReplicationProtocolMetaData";function LD(e,t){var n=Nk(e),r={title:AD,primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:e.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:n+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:n>4?n:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:e.properties},isResolvedConflict:{type:"string"}},keyCompression:e.keyCompression,required:["id","isCheckpoint","itemId"]};t&&(r.encrypted=["docData"]);var i=Np(r);return i}function Lb(e,t){return e.input.metaInstance.findDocumentsById(t.map(n=>{var r=Ki(e.input.metaInstance.schema,{itemId:n,isCheckpoint:"0"});return r}),!0).then(n=>{var r={};return Object.values(n).forEach(i=>{r[i.itemId]={docData:i.docData,metaDocument:i}}),r})}async function Yl(e,t,n,r){var i=t[e.primaryPath],o=n?tm(n):{id:"",isCheckpoint:"0",itemId:i,docData:t,_attachments:{},_deleted:!1,_rev:Er(),_meta:{lwt:0}};o.docData=t,r&&(o.isResolvedConflict=r),o._meta.lwt=Jt(),o.id=Ki(e.input.metaInstance.schema,o),o._rev=ti(await e.checkpointKey,n);var a={previous:n,document:o};return a}async function MD(e){if(e.input.initialCheckpoint&&e.input.initialCheckpoint.downstream){var t=await Vl(e,"down");t||await Ql(e,"down",e.input.initialCheckpoint.downstream)}var n=await e.input.hashFunction(e.input.identifier),r=e.input.replicationHandler,i=0,o=[];function a(g){e.stats.down.addNewTask=e.stats.down.addNewTask+1;var E={time:i++,task:g};o.push(E),e.streamQueue.down=e.streamQueue.down.then(()=>{for(var I=[];o.length>0;){e.events.active.down.next(!0);var S=$e(o.shift());if(!(S.time<u)){if(S.task==="RESYNC")if(I.length===0){I.push(S.task);break}else break;I.push(S.task)}}if(I.length!==0)return I[0]==="RESYNC"?d():m(I)}).then(()=>{e.events.active.down.next(!1),!e.firstSyncDone.down.getValue()&&!e.events.canceled.getValue()&&e.firstSyncDone.down.next(!0)})}if(a("RESYNC"),!e.events.canceled.getValue()){var s=r.masterChangeStream$.pipe(Hi(async g=>(await ri(e.events.active.up.pipe(rt(E=>!E))),g))).subscribe(g=>{e.stats.down.masterChangeStreamEmit=e.stats.down.masterChangeStreamEmit+1,a(g)});ri(e.events.canceled.pipe(rt(g=>!!g))).then(()=>s.unsubscribe())}var u=-1;async function d(){if(e.stats.down.downstreamResyncOnce=e.stats.down.downstreamResyncOnce+1,!e.events.canceled.getValue()){e.checkpointQueue=e.checkpointQueue.then(()=>Vl(e,"down"));for(var g=await e.checkpointQueue,E=[];!e.events.canceled.getValue();){u=i++;var I=await r.masterChangesSince(g,e.input.pullBatchSize);if(I.documents.length===0||(g=Js([g,I.checkpoint]),E.push(w(I.documents,g)),I.documents.length<e.input.pullBatchSize))break}await Promise.all(E)}}function m(g){e.stats.down.downstreamProcessChanges=e.stats.down.downstreamProcessChanges+1;var E=[],I=null;return g.forEach(S=>{if(S==="RESYNC")throw new Error("SNH");bo(E,S.documents),I=Js([I,S.checkpoint])}),w(E,$e(I))}var h=bn,p={docs:{}};function w(g,E){var I=e.primaryPath;return e.stats.down.persistFromMaster=e.stats.down.persistFromMaster+1,g.forEach(S=>{var C=S[I];p.docs[C]=S}),p.checkpoint=E,h=h.then(()=>{var S=p.docs;p.docs={};var C=p.checkpoint,y=Object.keys(S);if(e.events.canceled.getValue()||y.length===0)return bn;var R=[],D={},k={},P=[];return Promise.all([e.input.forkInstance.findDocumentsById(y,!0),Lb(e,y)]).then(([L,B])=>{var N=new Map;return L.forEach(F=>N.set(F[I],F)),Promise.all(y.map(async F=>{var Z=N.get(F),ue=Z?wi(Z,e.hasAttachments,!1):void 0,Ee=S[F],Re=B[F];if(Re&&Z&&Re.metaDocument.isResolvedConflict===Z._rev)return bn;var Ce=!Re||!ue?!1:await e.input.conflictHandler({realMasterState:Re.docData,newDocumentState:ue},"downstream-check-if-equal-0").then(Ne=>Ne.isEqual);if(!Ce&&Re&&Re.docData._rev&&Z&&Z._meta[e.input.identifier]&&Ea(Z._rev).height===Z._meta[e.input.identifier]&&(Ce=!0),Z&&Re&&Ce===!1||Z&&!Re)return bn;var Ie=ue?await e.input.conflictHandler({realMasterState:Ee,newDocumentState:ue},"downstream-check-if-equal-1").then(Ne=>Ne.isEqual):!1;if(ue&&Ie)return(!Re||Ce===!1)&&P.push(await Yl(e,ue,Re?Re.metaDocument:void 0)),bn;var fe=Object.assign({},Ee,Z?{_meta:dt(Z._meta),_attachments:e.hasAttachments&&Ee._attachments?Ee._attachments:{},_rev:Er()}:{_meta:{lwt:Jt()},_rev:Er(),_attachments:e.hasAttachments&&Ee._attachments?Ee._attachments:{}});if(Ee._rev){var se=Z?Ea(Z._rev).height+1:1;fe._meta[e.input.identifier]=se,e.input.keepMeta&&(fe._rev=Ee._rev)}e.input.keepMeta&&Ee._meta&&(fe._meta=Ee._meta);var we={previous:Z,document:fe};we.document._rev=we.document._rev?we.document._rev:ti(n,we.previous),R.push(we),D[F]=we,k[F]=await Yl(e,Ee,Re?Re.metaDocument:void 0)}))}).then(async()=>{if(R.length>0)return e.input.forkInstance.bulkWrite(R,await e.downstreamBulkWriteFlag).then(L=>{L.success.forEach(B=>{var N=B[I];e.events.processed.down.next(D[N]),P.push(k[N])}),L.error.forEach(B=>{B.status!==409&&e.events.error.next(le("RC_PULL",{writeError:B}))})})}).then(()=>{if(P.length>0)return e.input.metaInstance.bulkWrite(xh(e,P),"replication-down-write-meta").then(L=>{L.error.forEach(B=>{e.events.error.next(le("RC_PULL",{id:B.documentId,writeError:B}))})})}).then(()=>{Ql(e,"down",C)})}).catch(S=>e.events.error.next(S)),h}}var Mb=function(e,t){var n=ki(e.newDocumentState),r=ki(e.realMasterState);return Hs(n,r)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:e.realMasterState})};async function ND(e,t,n){var r=e.input.conflictHandler,i=await r(t,"replication-resolve-conflict");if(!i.isEqual){var o=Object.assign({},i.documentData,{_meta:dt(n._meta),_rev:Er(),_attachments:dt(n._attachments)});return o._meta.lwt=Jt(),o._rev=ti(await e.checkpointKey,n),{resolvedDoc:o,output:i}}}async function Rh(e,t,n,r){if(!n._attachments||r&&!r._attachments)throw new Error("_attachments missing");var i=n[e],o=new Set(r&&r._attachments?Object.keys(r._attachments):[]);return await Promise.all(Object.entries(n._attachments).map(async([a,s])=>{if((!o.has(a)||r&&$e(r._attachments)[a].digest!==s.digest)&&!s.data){var u=await t.getAttachmentData(i,a,s.digest);s.data=u}})),n}async function jD(e){if(e.input.initialCheckpoint&&e.input.initialCheckpoint.upstream){var t=await Vl(e,"up");t||await Ql(e,"up",e.input.initialCheckpoint.upstream)}var n=e.input.replicationHandler;e.streamQueue.up=e.streamQueue.up.then(()=>d().then(()=>{m()}));var r=0,i=-1,o=[],a=wr,s={docs:{}},u=e.input.forkInstance.changeStream().subscribe(async p=>{if(p.context!==await e.downstreamBulkWriteFlag)return e.stats.up.forkChangeStreamEmit=e.stats.up.forkChangeStreamEmit+1,o.push({task:p,time:r++}),e.events.active.up.getValue()||e.events.active.up.next(!0),e.input.waitBeforePersist?e.input.waitBeforePersist().then(()=>m()):m()});ri(e.events.canceled.pipe(rt(p=>!!p))).then(()=>u.unsubscribe());async function d(){if(e.stats.up.upstreamInitialSync=e.stats.up.upstreamInitialSync+1,!e.events.canceled.getValue()){e.checkpointQueue=e.checkpointQueue.then(()=>Vl(e,"up"));for(var p=await e.checkpointQueue,w=new Set,g=async function(){i=r++,w.size>3&&await Promise.race(Array.from(w));var S=await Ob(e.input.forkInstance,e.input.pushBatchSize,p);if(S.documents.length===0)return 1;p=Js([p,S.checkpoint]);var C=h(S.documents,$e(p));w.add(C),C.catch().then(()=>w.delete(C))};!e.events.canceled.getValue()&&!await g(););var E=await Promise.all(w),I=E.find(S=>!!S);I?await d():!e.firstSyncDone.up.getValue()&&!e.events.canceled.getValue()&&e.firstSyncDone.up.next(!0)}}function m(){if(e.events.canceled.getValue()||o.length===0){e.events.active.up.next(!1);return}e.stats.up.processTasks=e.stats.up.processTasks+1,e.events.active.up.next(!0),e.streamQueue.up=e.streamQueue.up.then(()=>{for(var p=[],w={};o.length>0;){var g=$e(o.shift());g.time<i||(bo(p,g.task.events.map(I=>I.documentData)),w=Js([w,g.task.checkpoint]))}var E=p.length===0?wr:h(p,w);return E.then(()=>{o.length===0?e.events.active.up.next(!1):m()})})}function h(p,w){return e.stats.up.persistToMaster=e.stats.up.persistToMaster+1,p.forEach(g=>{var E=g[e.primaryPath];s.docs[E]=g}),s.checkpoint=w,a=a.then(async()=>{if(e.events.canceled.getValue())return!1;var g=s.docs;s.docs={};var E=s.checkpoint,I=Object.keys(g);if(I.length===0)return!1;var S=await Lb(e,I),C={},y=[],R={},D={};if(await Promise.all(I.map(async Ce=>{var Ie=g[Ce];D[Ce]=Ie;var fe=wi(Ie,e.hasAttachments,!!e.input.keepMeta),se=S[Ce];se&&se.metaDocument.isResolvedConflict!==Ie._rev&&(await e.input.conflictHandler({realMasterState:se.docData,newDocumentState:fe},"upstream-check-if-equal")).isEqual||se&&se.docData._rev&&Ea(Ie._rev).height===Ie._meta[e.input.identifier]||(y.push(Ce),C[Ce]={assumedMasterState:se?se.docData:void 0,newDocumentState:fe},R[Ce]=await Yl(e,fe,se?se.metaDocument:void 0))})),y.length===0)return!1;var k=Object.values(C),P=new Set,L={},B=rk(k,e.input.pushBatchSize);await Promise.all(B.map(async Ce=>{e.hasAttachments&&await Promise.all(Ce.map(async fe=>{fe.newDocumentState=await Rh(e.primaryPath,e.input.forkInstance,ur(fe.newDocumentState),fe.assumedMasterState)}));var Ie=await n.masterWrite(Ce);Ie.forEach(fe=>{var se=fe[e.primaryPath];P.add(se),L[se]=fe})}));var N=[];if(y.forEach(Ce=>{P.has(Ce)||(e.events.processed.up.next(C[Ce]),N.push(R[Ce]))}),e.events.canceled.getValue())return!1;N.length>0&&await e.input.metaInstance.bulkWrite(xh(e,N),"replication-up-write-meta");var F=!1;if(P.size>0){e.stats.up.persistToMasterHadConflicts=e.stats.up.persistToMasterHadConflicts+1;var Z=[],ue={};if(await Promise.all(Object.entries(L).map(([Ce,Ie])=>{var fe=C[Ce],se={newDocumentState:fe.newDocumentState,assumedMasterState:fe.assumedMasterState,realMasterState:Ie};return ND(e,se,D[Ce]).then(async we=>{if(we){e.events.resolvedConflicts.next({input:se,output:we.output}),Z.push({previous:D[Ce],document:we.resolvedDoc});var Ne=S[Ce];ue[Ce]=await Yl(e,$e(Ie),Ne?Ne.metaDocument:void 0,we.resolvedDoc._rev)}})})),Z.length>0){F=!0,e.stats.up.persistToMasterConflictWrites=e.stats.up.persistToMasterConflictWrites+1;var Ee=await e.input.forkInstance.bulkWrite(Z,"replication-up-write-conflict"),Re=[];Ee.success.forEach(Ce=>{var Ie=Ce[e.primaryPath];Re.push(ue[Ie])}),Re.length>0&&await e.input.metaInstance.bulkWrite(xh(e,Re),"replication-up-write-conflict-meta")}}return Ql(e,"up",E),F}).catch(g=>(e.events.error.next(g),!1)),a}}function FD(e){e=dt(e),e.forkInstance=kh(e.forkInstance),e.metaInstance=kh(e.metaInstance);var t=ID(e),n={primaryPath:Tn(e.forkInstance.schema.primaryKey),hasAttachments:!!e.forkInstance.schema.attachments,input:e,checkpointKey:t,downstreamBulkWriteFlag:t.then(r=>"replication-downstream-"+r),events:{canceled:new Ir(!1),active:{down:new Ir(!0),up:new Ir(!0)},processed:{down:new yt,up:new yt},resolvedConflicts:new yt,error:new yt},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new Ir(!1),up:new Ir(!1)},streamQueue:{down:bn,up:bn},checkpointQueue:bn,lastCheckpointDoc:{}};return MD(n),jD(n),n}function Yf(e){return ri(L_([e.firstSyncDone.down.pipe(rt(t=>!!t)),e.firstSyncDone.up.pipe(rt(t=>!!t))])).then(()=>{})}function Qy(e){return Promise.all([e.streamQueue.up,e.streamQueue.down,e.checkpointQueue])}function Nb(e,t,n,r=!1){e=kh(e);var i=!!e.schema.attachments,o=Tn(e.schema.primaryKey),a={masterChangeStream$:e.changeStream().pipe(Hi(async s=>{var u={checkpoint:s.checkpoint,documents:await Promise.all(s.events.map(async d=>{var m=wi(d.documentData,i,r);return i&&(m=await Rh(o,e,ur(m),void 0)),m}))};return u})),masterChangesSince(s,u){return Ob(e,u,s).then(async d=>({checkpoint:d.documents.length>0?d.checkpoint:s,documents:await Promise.all(d.documents.map(async m=>{var h=wi(m,i,r);return i&&(h=await Rh(o,e,ur(h),void 0)),h}))}))},async masterWrite(s){var u={};s.forEach(E=>{var I=E.newDocumentState[o];u[I]=E});var d=Object.keys(u),m=await e.findDocumentsById(d,!0),h=new Map;m.forEach(E=>h.set(E[o],E));var p=[],w=[];if(await Promise.all(Object.entries(u).map(async([E,I])=>{var S=h.get(E);S?S&&!I.assumedMasterState?p.push(wi(S,i,r)):(await t({realMasterState:wi(S,i,r),newDocumentState:$e(I.assumedMasterState)},"rxStorageInstanceToReplicationHandler-masterWrite")).isEqual===!0?w.push({previous:S,document:Vy(n,i,r,I.newDocumentState,S)}):p.push(wi(S,i,r)):w.push({document:Vy(n,i,r,I.newDocumentState)})})),w.length>0){var g=await e.bulkWrite(w,"replication-master-write");g.error.forEach(E=>{if(E.status!==409)throw new Error("non conflict error");p.push(wi($e(E.documentInDb),i,r))})}return p}};return a}async function BD(e){e.events.canceled.next(!0),e.events.active.up.complete(),e.events.active.down.complete(),e.events.processed.up.complete(),e.events.processed.down.complete(),e.events.resolvedConflicts.complete(),e.events.canceled.complete(),await e.checkpointQueue}var jb=["pre","post"],Fb=["insert","save","remove","create"],Yy=!1,im=function(){function e(n,r,i,o,a={},s={},u={},d={},m={},h=_b,p={},w=Mb){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=qP(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.database=n,this.name=r,this.schema=i,this.internalStorageInstance=o,this.instanceCreationOptions=a,this.migrationStrategies=s,this.methods=u,this.attachments=d,this.options=m,this.cacheReplacementPolicy=h,this.statics=p,this.conflictHandler=w,$D(this.asRxCollection)}var t=e.prototype;return t.prepare=async function(){this.storageInstance=kb(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new pD(this.storageInstance,this.schema.primaryPath,(a,s)=>Db(this,a,s),a=>this._runHooks("post","save",a));var r=this.database.eventBulks$.pipe(rt(a=>a.collectionName===this.name));this.$=r.pipe(Hi(a=>a.events)),this.checkpoint$=r.pipe(Bn(a=>a.checkpoint)),this._changeEventBuffer=kD(this.asRxCollection),this._docCache=new YP(this.schema.primaryPath,this.$.pipe(rt(a=>!a.isLocal)),a=>DD(this.asRxCollection,a));var i=await this.database.storageToken,o=this.storageInstance.changeStream().subscribe(a=>{var s={id:a.id,internal:!1,collectionName:this.name,storageToken:i,events:a.events.map(u=>uD(!1,u,this)),databaseToken:this.database.token,checkpoint:a.checkpoint,context:a.context,endTime:a.endTime,startTime:a.startTime};this.database.$emit(s)});return this._subs.push(o),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(a=>{this.conflictHandler(a.input,a.context).then(s=>{this.storageInstance.resolveConflictResultionTask({id:a.id,output:s})})})),bn},t.cleanup=function(r){throw _t("cleanup")},t.migrationNeeded=function(){throw _t("migration-schema")},t.getMigrationState=function(){throw _t("migration-schema")},t.startMigration=function(r=10){return this.getMigrationState().startMigration(r)},t.migratePromise=function(r=10){return this.getMigrationState().migratePromise(r)},t.insert=async function(r){var i=await this.bulkInsert([r]),o=i.error[0];Wl(this,r[this.schema.primaryPath],r,o);var a=$e(i.success[0]);return a},t.bulkInsert=async function(r){if(r.length===0)return{success:[],error:[]};var i=this.schema.primaryPath,o=r.map(h=>{var p=Qf(this.schema,h);return p}),a=this.hasHooks("pre","insert")?await Promise.all(o.map(h=>this._runHooks("pre","insert",h).then(()=>h))):o,s=a.map(h=>{var p={document:h};return p}),u=await this.storageInstance.bulkWrite(s,"rx-collection-bulk-insert"),d=bb(this._docCache,u.success);if(this.hasHooks("post","insert")){var m=new Map;a.forEach(h=>{m.set(h[i],h)}),await Promise.all(d.map(h=>this._runHooks("post","insert",m.get(h.primary),h)))}return{success:d,error:u.error}},t.bulkRemove=async function(r){var i=this.schema.primaryPath;if(r.length===0)return{success:[],error:[]};var o=await this.findByIds(r).exec(),a=[],s=new Map;Array.from(o.values()).forEach(p=>{var w=p.toMutableJSON(!0);a.push(w),s.set(p.primary,w)}),await Promise.all(a.map(p=>{var w=p[this.schema.primaryPath];return this._runHooks("pre","remove",p,o.get(w))}));var u=a.map(p=>{var w=dt(p);return w._deleted=!0,{previous:p,document:w}}),d=await this.storageInstance.bulkWrite(u,"rx-collection-bulk-remove"),m=d.success.map(p=>p[i]);await Promise.all(m.map(p=>this._runHooks("post","remove",s.get(p),o.get(p))));var h=m.map(p=>ni(o,p));return{success:h,error:d.error}},t.bulkUpsert=async function(r){var i=[],o=new Map;r.forEach(d=>{var m=Qf(this.schema,d),h=m[this.schema.primaryPath];if(!h)throw le("COL3",{primaryPath:this.schema.primaryPath,data:m,schema:this.schema.jsonSchema});o.set(h,m),i.push(m)});var a=await this.bulkInsert(i),s=a.success.slice(0),u=[];return await Promise.all(a.error.map(async d=>{if(d.status!==409)u.push(d);else{var m=d.documentId,h=ni(o,m),p=$e(d.documentInDb),w=this._docCache.getCachedRxDocument(p),g=await w.incrementalModify(()=>h);s.push(g)}})),{error:u,success:s}},t.upsert=async function(r){var i=await this.bulkUpsert([r]);return Wl(this.asRxCollection,r[this.schema.primaryPath],r,i.error[0]),i.success[0]},t.incrementalUpsert=function(r){var i=Qf(this.schema,r),o=i[this.schema.primaryPath];if(!o)throw le("COL4",{data:r});var a=this._incrementalUpsertQueues.get(o);return a||(a=bn),a=a.then(()=>zD(this,o,i)).then(s=>s.inserted?s.doc:UD(s.doc,i)),this._incrementalUpsertQueues.set(o,a),a},t.find=function(r){if(typeof r=="string")throw le("COL5",{queryObj:r});r||(r=Ss());var i=Ko("find",r,this);return i},t.findOne=function(r){if(typeof r=="number"||Array.isArray(r))throw or("COL6",{queryObj:r});var i;if(typeof r=="string")i=Ko("findOne",{selector:{[this.schema.primaryPath]:r},limit:1},this);else{if(r||(r=Ss()),r.limit)throw le("QU6");r=dt(r),r.limit=1,i=Ko("findOne",r,this)}return i},t.count=function(r){r||(r=Ss());var i=Ko("count",r,this);return i},t.findByIds=function(r){var i={selector:{[this.schema.primaryPath]:{$in:r.slice(0)}}},o=Ko("findByIds",i,this);return o},t.exportJSON=function(){throw _t("json-dump")},t.importJSON=function(r){throw _t("json-dump")},t.insertCRDT=function(r){throw _t("crdt")},t.addHook=function(r,i,o,a=!1){if(typeof o!="function")throw or("COL7",{key:i,when:r});if(!jb.includes(r))throw or("COL8",{key:i,when:r});if(!Fb.includes(i))throw le("COL9",{key:i});if(r==="post"&&i==="create"&&a===!0)throw le("COL10",{when:r,key:i,parallel:a});var s=o.bind(this),u=a?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][r]=this.hooks[i][r]||{series:[],parallel:[]},this.hooks[i][r][u].push(s)},t.getHooks=function(r,i){return!this.hooks[i]||!this.hooks[i][r]?{series:[],parallel:[]}:this.hooks[i][r]},t.hasHooks=function(r,i){var o=this.getHooks(r,i);return o?o.series.length>0||o.parallel.length>0:!1},t._runHooks=function(r,i,o,a){var s=this.getHooks(r,i);if(!s)return bn;var u=s.series.map(d=>()=>d(o,a));return xk(u).then(()=>Promise.all(s.parallel.map(d=>d(o,a))))},t._runHooksSync=function(r,i,o,a){var s=this.getHooks(r,i);s&&s.series.forEach(u=>u(o,a))},t.promiseWait=function(r){var i=new Promise(o=>{var a=setTimeout(()=>{this.timeouts.delete(a),o()},r);this.timeouts.add(a)});return i},t.destroy=function(){return this.destroyed?wr:(this.destroyed=!0,Array.from(this.timeouts).forEach(r=>clearTimeout(r)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(r=>r.unsubscribe()),delete this.database.collections[this.name],So("postDestroyRxCollection",this).then(()=>!0))))},t.remove=async function(){await this.destroy(),await Ab(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)},zi(e,[{key:"insert$",get:function(){return this.$.pipe(rt(n=>n.operation==="INSERT"))}},{key:"update$",get:function(){return this.$.pipe(rt(n=>n.operation==="UPDATE"))}},{key:"remove$",get:function(){return this.$.pipe(rt(n=>n.operation==="DELETE"))}},{key:"asRxCollection",get:function(){return this}}])}();function $D(e){if(!Yy){Yy=!0;var t=Object.getPrototypeOf(e);Fb.forEach(n=>{jb.map(r=>{var i=r+e_(n);t[i]=function(o,a){return this.addHook(r,n,o,a)}})})}}function UD(e,t){return e.incrementalModify(n=>t)}function zD(e,t,n){var r=e._docCache.getLatestDocumentDataIfExists(t);return r?Promise.resolve({doc:e._docCache.getCachedRxDocument(r),inserted:!1}):e.findOne(t).exec().then(i=>i?{doc:i,inserted:!1}:e.insert(n).then(o=>({doc:o,inserted:!0})))}function qD({database:e,name:t,schema:n,instanceCreationOptions:r={},migrationStrategies:i={},autoMigrate:o=!0,statics:a={},methods:s={},attachments:u={},options:d={},localDocuments:m=!1,cacheReplacementPolicy:h=_b,conflictHandler:p=Mb}){var w={databaseInstanceToken:e.token,databaseName:e.name,collectionName:t,schema:n.jsonSchema,options:r,multiInstance:e.multiInstance,password:e.password,devMode:zt.isDevMode()};return Cr("preCreateRxStorageInstance",w),CD(e,w).then(g=>{var E=new im(e,t,n,g,r,i,s,u,d,h,a,p);return E.prepare().then(()=>{Object.entries(a).forEach(([S,C])=>{Object.defineProperty(E,S,{get:()=>C.bind(E)})});var I=bn;return o&&E.schema.version!==0&&(I=E.migratePromise()),I}).then(()=>(Cr("createRxCollection",{collection:E,creator:{name:t,schema:n,storageInstance:g,instanceCreationOptions:r,migrationStrategies:i,methods:s,attachments:u,options:d,cacheReplacementPolicy:h,localDocuments:m,statics:a}}),E)).catch(I=>g.close().then(()=>Promise.reject(I)))})}var Bb=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};Bb.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Oh(this)},wrapCall:function(t){var n=this;this.lock();var r;try{r=t()}catch(i){throw this.unlock(),i}return!r.then||typeof r.then!="function"?(this.unlock(),r):r.then(function(i){return n.unlock(),i}).catch(function(i){throw n.unlock(),i})},requestIdlePromise:function(t){var n=this;t=t||{};var r,i=new Promise(function(s){return r=s}),o=function(){Gf(n,i),r()};if(i._manRes=o,t.timeout){var a=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=a}return this._iC.add(i),Oh(this),i},cancelIdlePromise:function(t){Gf(this,t)},requestIdleCallback:function(t,n){var r=this._lHN++,i=this.requestIdlePromise(n);return this._hPM.set(r,i),this._pHM.set(i,r),i.then(function(){return t()}),r},cancelIdleCallback:function(t){var n=this._hPM.get(t);this.cancelIdlePromise(n)},clear:function(){var t=this;this._iC.forEach(function(n){return Gf(t,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};function KD(e){if(e._iC.size!==0){var t=e._iC.values(),n=t.next().value;n._manRes(),setTimeout(function(){return Oh(e)},0)}}function Gf(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function Oh(e){e._tryIR||e._iC.size===0||(e._tryIR=!0,setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}setTimeout(function(){if(!e.isIdle()){e._tryIR=!1;return}KD(e),e._tryIR=!1},0)},0))}class om{constructor(t){zr(this,"ttl");zr(this,"map",new Map);zr(this,"_to",!1);this.ttl=t}has(t){return this.map.has(t)}add(t){this.map.set(t,$b()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,WD(this)},0))}clear(){this.map.clear()}}function WD(e){const t=$b()-e.ttl,n=e.map[Symbol.iterator]();for(;;){const r=n.next().value;if(!r)return;const i=r[0];if(r[1]<t)e.map.delete(i);else return}}function $b(){return Date.now()}var Gl=new Set,am=function(){function e(n,r,i,o,a,s,u=!1,d={},m,h,p,w,g){this.idleQueue=new Bb,this.rxdbVersion=a_,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new yt,this.observable$=this.eventBulks$.pipe(Hi(E=>E.events)),this.storageToken=wr,this.storageTokenDocument=wr,this.emittedEventBulkIds=new om(60*1e3),this.name=n,this.token=r,this.storage=i,this.instanceCreationOptions=o,this.password=a,this.multiInstance=s,this.eventReduce=u,this.options=d,this.internalStore=m,this.hashFunction=h,this.cleanupPolicy=p,this.allowSlowCount=w,this.reactivity=g,this.name!=="pseudoInstance"&&(this.internalStore=kb(this.asRxDatabase,m,rm),this.storageTokenDocument=_D(this.asRxDatabase).catch(E=>this.startupErrors.push(E)),this.storageToken=this.storageTokenDocument.then(E=>E.data.token).catch(E=>this.startupErrors.push(E)))}var t=e.prototype;return t.getReactivityFactory=function(){if(!this.reactivity)throw le("DB14",{database:this.name});return this.reactivity},t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r))},t.removeCollectionDoc=async function(r,i){var o=await em(this.internalStore,Xs(Hl(r,i),ho));if(!o)throw le("SNH",{name:r,schema:i});var a=tm(o);a._deleted=!0,await this.internalStore.bulkWrite([{document:a,previous:o}],"rx-database-remove-collection")},t.addCollections=async function(r){var i={},o={},a=[],s={};await Promise.all(Object.entries(r).map(async([m,h])=>{var p=m,w=h.schema;i[p]=w;var g=qk(w,this.hashFunction);if(o[p]=g,this.collections[m])throw le("DB3",{name:m});var E=Hl(m,w),I={id:Xs(E,ho),key:E,context:ho,data:{name:p,schemaHash:await g.hash,schema:g.jsonSchema,version:g.version,connectedStorages:[]},_deleted:!1,_meta:ou(),_rev:Er(),_attachments:{}};a.push({document:I});var S=Object.assign({},h,{name:p,schema:g,database:this}),C=dt(h);C.database=this,C.name=m,Cr("preCreateRxCollection",C),S.conflictHandler=C.conflictHandler,s[p]=S}));var u=await this.internalStore.bulkWrite(a,"rx-database-add-collection");await VD(this),await Promise.all(u.error.map(async m=>{if(m.status!==409)throw le("DB12",{database:this.name,writeError:m});var h=$e(m.documentInDb),p=h.data.name,w=o[p];if(h.data.schemaHash!==await w.hash)throw le("DB6",{database:this.name,collection:p,previousSchemaHash:h.data.schemaHash,schemaHash:await w.hash,previousSchema:h.data.schema,schema:$e(i[p])})}));var d={};return await Promise.all(Object.keys(r).map(async m=>{var h=s[m],p=await qD(h);d[m]=p,this.collections[m]=p,this[m]||Object.defineProperty(this,m,{get:()=>this.collections[m]})})),d},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(r){throw _t("json-dump")},t.addState=function(r){throw _t("state")},t.importJSON=function(r){throw _t("json-dump")},t.backup=function(r){throw _t("backup")},t.leaderElector=function(){throw _t("leader-election")},t.isLeader=function(){throw _t("leader-election")},t.waitForLeadership=function(){throw _t("leader-election")},t.migrationStates=function(){throw _t("migration-schema")},t.destroy=async function(){return this.destroyed||(this.destroyed=!0,await So("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(r=>r.unsubscribe()),this.name==="pseudoInstance")?wr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(r=>r()))).then(()=>Promise.all(Object.keys(this.collections).map(r=>this.collections[r]).map(r=>r.destroy()))).then(()=>this.internalStore.close()).then(()=>Gl.delete(this.storage.name+"|"+this.name)).then(()=>!0)},t.remove=function(){return this.destroy().then(()=>sm(this.name,this.storage,this.password))},zi(e,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function HD(e,t){var n=t.name+"|"+e;if(Gl.has(n))throw le("DB8",{name:e,storage:t.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}async function Ub(e,t,n,r,i,o){var a=await t.createStorageInstance({databaseInstanceToken:e,databaseName:n,collectionName:sD,schema:rm,options:r,multiInstance:i,password:o,devMode:zt.isDevMode()});return a}function zb({storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i=!0,eventReduce:o=!0,ignoreDuplicate:a=!1,options:s={},cleanupPolicy:u,allowSlowCount:d=!1,localDocuments:m=!1,hashFunction:h=_k,reactivity:p}){Cr("preCreateRxDatabase",{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:m}),a||HD(n,e),Gl.add(e.name+"|"+n);var w=qi(10);return Ub(w,e,n,t,i,r).catch(g=>{throw Gl.delete(e.name+"|"+n),g}).then(g=>{var E=new am(n,w,e,t,r,i,o,s,g,h,u,d,p);return So("createRxDatabase",{database:E,creator:{storage:e,instanceCreationOptions:t,name:n,password:r,multiInstance:i,eventReduce:o,ignoreDuplicate:a,options:s,localDocuments:m}}).then(()=>E)})}async function sm(e,t,n){var r=qi(10),i=await Ub(r,t,e,{},!1,n),o=await Tb(i),a=new Set;o.forEach(u=>a.add(u.data.name));var s=Array.from(a);return await Promise.all(s.map(u=>Ab(t,i,r,e,u,n))),await So("postRemoveRxDatabase",{databaseName:e,storage:t}),await i.remove(),s}async function VD(e){if(await e.storageToken,e.startupErrors[0])throw e.startupErrors[0]}var QD={RxSchema:d_.prototype,RxDocument:du,RxQuery:Sb.prototype,RxCollection:im.prototype,RxDatabase:am.prototype},Jf=new Set,Gy=new Set;function Vn(e){if(Cr("preAddRxPlugin",{plugin:e,plugins:Jf}),!Jf.has(e)){{if(Gy.has(e.name))throw le("PL3",{name:e.name,plugin:e});Jf.add(e),Gy.add(e.name)}if(!e.rxdb)throw or("PL1",{plugin:e});e.init&&e.init(),e.prototypes&&Object.entries(e.prototypes).forEach(([t,n])=>n(QD[t])),e.overwritable&&Object.assign(zt,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(([t,n])=>{n.after&&Qs[t].push(n.after),n.before&&Qs[t].unshift(n.before)})}}function YD(e){return e&&typeof e.then=="function"}Promise.resolve(!1);var GD=Promise.resolve(!0),Gr=Promise.resolve();function so(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function JD(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function hu(){return Math.random().toString(36).substring(2)}var Xf=0;function pu(){var e=Date.now()*1e3;return e<=Xf&&(e=Xf+1),Xf=e,e}function XD(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&typeof navigator.locks.request=="function"}var ZD=pu,eT="native";function tT(e){var t={time:pu(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function nT(e){e.bc.close(),e.subFns=[]}function rT(e,t){try{return e.bc.postMessage(t,!1),Gr}catch(n){return Promise.reject(n)}}function iT(e,t){e.messagesCallback=t}function oT(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function aT(){return 150}var sT={create:tT,close:nT,onMessage:iT,postMessage:rT,canBeUsed:oT,type:eT,averageResponseTime:aT,microSeconds:ZD};function um(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var uT=pu,lT="pubkey.broadcast-channel-0-",ui="messages",Oc={durability:"relaxed"},cT="idb";function qb(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function lm(e){e.commit&&e.commit()}function fT(e){var t=qb(),n=lT+e,r=t.open(n);return r.onupgradeneeded=function(i){var o=i.target.result;o.createObjectStore(ui,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,o){r.onerror=function(a){return o(a)},r.onsuccess=function(){i(r.result)}})}function dT(e,t,n){var r=Date.now(),i={uuid:t,time:r,data:n},o=e.transaction([ui],"readwrite",Oc);return new Promise(function(a,s){o.oncomplete=function(){return a()},o.onerror=function(d){return s(d)};var u=o.objectStore(ui);u.add(i),lm(o)})}function hT(e,t){var n=e.transaction(ui,"readonly",Oc),r=n.objectStore(ui),i=[],o=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var a=r.getAll(o);return new Promise(function(u,d){a.onerror=function(m){return d(m)},a.onsuccess=function(m){u(m.target.result)}})}function s(){try{return o=IDBKeyRange.bound(t+1,1/0),r.openCursor(o)}catch{return r.openCursor()}}return new Promise(function(u,d){var m=s();m.onerror=function(h){return d(h)},m.onsuccess=function(h){var p=h.target.result;p?p.value.id<t+1?p.continue(t+1):(i.push(p.value),p.continue()):(lm(n),u(i))}})}function pT(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(ui,"readwrite",Oc),r=n.objectStore(ui);return Promise.all(t.map(function(i){var o=r.delete(i);return new Promise(function(a){o.onsuccess=function(){return a()}})}))}function mT(e,t){var n=Date.now()-t,r=e.transaction(ui,"readonly",Oc),i=r.objectStore(ui),o=[];return new Promise(function(a){i.openCursor().onsuccess=function(s){var u=s.target.result;if(u){var d=u.value;d.time<n?(o.push(d),u.continue()):(lm(r),a(o))}else a(o)}})}function vT(e){return mT(e.db,e.options.idb.ttl).then(function(t){return pT(e,t.map(function(n){return n.id}))})}function yT(e,t){return t=um(t),fT(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:hu(),eMIs:new om(t.idb.ttl*2),writeBlockPromise:Gr,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},Kb(r),r})}function Kb(e){e.closed||Wb(e).then(function(){return so(e.options.idb.fallbackInterval)}).then(function(){return Kb(e)})}function gT(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function Wb(e){return e.closed||!e.messagesCallback?Gr:hT(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return gT(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Gr})}function wT(e){e.closed=!0,e.db.close()}function _T(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return dT(e.db,e.uuid,t)}).then(function(){JD(0,10)===0&&vT(e)}),e.writeBlockPromise}function bT(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Wb(e)}function ST(){return!!qb()}function ET(e){return e.idb.fallbackInterval*2}var CT={create:yT,close:wT,onMessage:bT,postMessage:_T,canBeUsed:ST,type:cT,averageResponseTime:ET,microSeconds:uT},xT=pu,kT="pubkey.broadcastChannel-",RT="localstorage";function Hb(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Vb(e){return kT+e}function OT(e,t){return new Promise(function(n){so().then(function(){var r=Vb(e.channelName),i={token:hu(),time:Date.now(),data:t,uuid:e.uuid},o=JSON.stringify(i);Hb().setItem(r,o);var a=document.createEvent("Event");a.initEvent("storage",!0,!0),a.key=r,a.newValue=o,window.dispatchEvent(a),n()})})}function PT(e,t){var n=Vb(e),r=function(o){o.key===n&&t(JSON.parse(o.newValue))};return window.addEventListener("storage",r),r}function DT(e){window.removeEventListener("storage",e)}function TT(e,t){if(t=um(t),!Qb())throw new Error("BroadcastChannel: localstorage cannot be used");var n=hu(),r=new om(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=PT(e,function(o){i.messagesCallback&&o.uuid!==n&&(!o.token||r.has(o.token)||o.data.time&&o.data.time<i.messagesCallbackTime||(r.add(o.token),i.messagesCallback(o.data)))}),i}function IT(e){DT(e.listener)}function AT(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function Qb(){var e=Hb();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function LT(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var MT={create:TT,close:IT,onMessage:AT,postMessage:OT,canBeUsed:Qb,type:RT,averageResponseTime:LT,microSeconds:xT},Yb=pu,NT="simulate",cm=new Set;function jT(e){var t={time:Yb(),name:e,messagesCallback:null};return cm.add(t),t}function FT(e){cm.delete(e)}var Gb=5;function BT(e,t){return new Promise(function(n){return setTimeout(function(){var r=Array.from(cm);r.forEach(function(i){i.name===e.name&&i!==e&&i.messagesCallback&&i.time<t.time&&i.messagesCallback(t)}),n()},Gb)})}function $T(e,t){e.messagesCallback=t}function UT(){return!0}function zT(){return Gb}var qT={create:jT,close:FT,onMessage:$T,postMessage:BT,canBeUsed:UT,type:NT,averageResponseTime:zT,microSeconds:Yb},Jy=[sT,CT,MT];function KT(e){var t=[].concat(e.methods,Jy).filter(Boolean);if(e.type){if(e.type==="simulate")return qT;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(i){return i.type!=="idb"}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(Jy.map(function(i){return i.type})))}var Jb=new Set,WT=0,fm=function(t,n){this.id=WT++,Jb.add(this),this.name=t,Xy&&(n=Xy),this.options=um(n),this.method=KT(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,HT(this)};fm._pubkey=!0;var Xy;fm.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Zy(this,"message",t)},postInternal:function(t){return Zy(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};tg(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,eg(this,"message",n)):this._onML=null},addEventListener:function(t,n){var r=this.method.microSeconds(),i={time:r,fn:n};eg(this,t,i)},removeEventListener:function(t,n){var r=this._addEL[t].find(function(i){return i.fn===n});tg(this,t,r)},close:function(){var t=this;if(!this.closed){Jb.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Gr;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Zy(e,t,n){var r=e.method.microSeconds(),i={time:r,type:t,data:n},o=e._prepP?e._prepP:Gr;return o.then(function(){var a=e.method.postMessage(e._state,i);return e._uMP.add(a),a.catch().then(function(){return e._uMP.delete(a)}),a})}function HT(e){var t=e.method.create(e.name,e.options);YD(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function Xb(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function eg(e,t,n){e._addEL[t].push(n),VT(e)}function tg(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),QT(e)}function VT(e){if(!e._iL&&Xb(e)){var t=function(i){e._addEL[i.type].forEach(function(o){i.time>=o.time&&o.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function QT(e){if(e._iL&&!Xb(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}function YT(e){if(typeof WorkerGlobalScope=="function"&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return e(),t()}}else{if(typeof window.addEventListener!="function")return;window.addEventListener("beforeunload",function(){e()},!0),window.addEventListener("unload",function(){e()},!0)}}function GT(e){process.on("exit",function(){return e()}),process.on("beforeExit",function(){return e().then(function(){return process.exit()})}),process.on("SIGINT",function(){return e().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return e().then(function(){console.trace(t),process.exit(101)})})}var JT=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",XT=JT?GT:YT,Es=new Set,ng=!1;function ZT(){ng||(ng=!0,XT(tI))}function eI(e){if(ZT(),typeof e!="function")throw new Error("Listener is no function");Es.add(e);var t={remove:function(){return Es.delete(e)},run:function(){return Es.delete(e),e()}};return t}function tI(){var e=[];return Es.forEach(function(t){e.push(t()),Es.delete(t)}),Promise.all(e)}function po(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function Zb(e){e.isLeader=!0,e._hasLeader=!0;var t=eI(function(){return e.die()});e._unl.push(t);var n=function(i){i.context==="leader"&&i.action==="apply"&&po(e,"tell"),i.context==="leader"&&i.action==="tell"&&!e._dpLC&&(e._dpLC=!0,e._dpL(),po(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),po(e,"tell")}var e1=function(t,n){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=n,this.isLeader=!1,this.isDead=!1,this.token=hu(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};e1.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(n){var r=n.held?n.held.filter(function(i){return i.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var n=new Promise(function(r,i){t._wKMC.res=r,t._wKMC.rej=i});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,Zb(t),r(),n}).catch(function(){})})}return this._wLMP},set onduplicate(e){},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),po(this,"death")}};var t1=function(t,n){var r=this;this.broadcastChannel=t,this._options=n,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=hu(),this._aplQ=Gr,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(a){a.context==="leader"&&(a.action==="death"&&(r._hasLeader=!1),a.action==="tell"&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};t1.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var n=this;if(this.isLeader)return so(0,!0);if(this.isDead)return so(0,!1);if(this._aplQC>1)return this._aplQ;var r=function(){if(n.isLeader)return GD;var o=!1,a,s=new Promise(function(m){a=function(){o=!0,m()}}),u=function(h){h.context==="leader"&&h.token!=n.token&&(h.action==="apply"&&h.token>n.token&&a(),h.action==="tell"&&(a(),n._hasLeader=!0))};n.broadcastChannel.addEventListener("internal",u);var d=t?n._options.responseTime*4:n._options.responseTime;return po(n,"apply").then(function(){return Promise.race([so(d),s.then(function(){return Promise.reject(new Error)})])}).then(function(){return po(n,"apply")}).then(function(){return Promise.race([so(d),s.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return n.broadcastChannel.removeEventListener("internal",u),o?!1:Zb(n).then(function(){return!0})})};return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return r()}).then(function(){n._aplQC=n._aplQC-1}),this._aplQ.then(function(){return n.isLeader})},awaitLeadership:function(){return this._aLP||(this._aLP=nI(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var t=this;return this._lstns.forEach(function(n){return t.broadcastChannel.removeEventListener("internal",n)}),this._lstns=[],this._unl.forEach(function(n){return n.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,po(this,"death")}};function nI(e){return e.isLeader?Gr:new Promise(function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",o),t(!0))}e.applyOnce().then(function(){e.isLeader&&r()});var i=function a(){return so(e._options.fallbackInterval).then(function(){if(!(e.isDead||n))if(e.isLeader)r();else return e.applyOnce(!0).then(function(){e.isLeader?r():a()})})};i();var o=function(s){s.context==="leader"&&s.action==="death"&&(e._hasLeader=!1,e.applyOnce().then(function(){e.isLeader&&r()}))};e.broadcastChannel.addEventListener("internal",o),e._lstns.push(o)})}function rI(e,t){return e||(e={}),e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options)),e}function iI(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=rI(t,e);var n=XD()?new e1(e,t):new t1(e,t);return e._befC.push(function(){return n.die()}),e._leaderElector=n,n}var Jl=new Map;function n1(e,t,n,r){var i=Jl.get(t);return i||(i={bc:new fm(["RxDB:",e,n].join("|")),refs:new Set},Jl.set(t,i)),i.refs.add(r),i.bc}function Ph(e,t){var n=Jl.get(e);if(n&&(n.refs.delete(t),n.refs.size===0))return Jl.delete(e),n.bc.close()}function oI(e,t,n,r){if(t.multiInstance){var i=r||n1(e,t.databaseInstanceToken,n.databaseName,n),o=new yt,a=p=>{p.storageName===e&&p.databaseName===t.databaseName&&p.collectionName===t.collectionName&&p.version===t.schema.version&&o.next(p.eventBulk)};i.addEventListener("message",a);var s=n.changeStream(),u=!1,d=s.subscribe(p=>{u||i.postMessage({storageName:e,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:p})});n.changeStream=function(){return o.asObservable().pipe(jR(s))};var m=n.close.bind(n);n.close=async function(){return u=!0,d.unsubscribe(),i.removeEventListener("message",a),r||await Ph(t.databaseInstanceToken,n),m()};var h=n.remove.bind(n);n.remove=async function(){return u=!0,d.unsubscribe(),i.removeEventListener("message",a),r||await Ph(t.databaseInstanceToken,n),h()}}}var rg={UT1:"given name is no string or empty",UT2:`collection- and database-names must match the regex to be compatible with couchdb databases.
    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/
    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'`,UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html#cant-change-the-schema",DB8:`createRxDatabase(): A RxDatabase with the same name and adapter already exists.
Make sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-
This often happens in react projects with hot reload that reloads the code without reloading the process.`,DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See see https://rxdb.info/migration-storage.html",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"},Zf;function aI(){if(!Zf){var e=new im,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Zf=[...t,...n]}return Zf}var ed;function sI(){if(!ed){var e=new am("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));ed=[...t,...n],e.destroy()}return ed}var uI=Pb(du),lI=new uI,td;function r1(){if(!td){var e=["deleted","synced"],t=Object.getOwnPropertyNames(lI),n=Object.getOwnPropertyNames(du);td=[...t,...n,...e]}return td}function cI(e){if(e!=="_deleted"){if(["properties"].includes(e))throw le("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(t);if(e!=="_id"&&!e.match(n))throw le("SC1",{regex:t,fieldName:e})}}function fI(e){var t=Tn(e.primaryKey);function n(i,o,a){if(typeof i=="string"&&typeof o=="object"&&!Array.isArray(o)&&a.split(".").pop()!=="patternProperties"&&cI(i),Object.prototype.hasOwnProperty.call(o,"item")&&o.type!=="array")throw le("SC2",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"required")&&typeof o.required=="boolean")throw le("SC24",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"$ref"))throw le("SC40",{fieldName:i});if(Object.prototype.hasOwnProperty.call(o,"ref"))if(Array.isArray(o.type)){if(o.type.length>2||!o.type.includes("string")||!o.type.includes("null"))throw le("SC4",{fieldName:i})}else switch(o.type){case"string":break;case"array":if(!o.items||!o.items.type||o.items.type!=="string")throw le("SC3",{fieldName:i});break;default:throw le("SC4",{fieldName:i})}var s=a.split(".").length>=2;if(s&&o.default)throw le("SC7",{path:a});if(!s){if(i==="_id"&&t!=="_id")throw le("COL2",{fieldName:i});if(i.charAt(0)==="_"){if(i==="_id"||i==="_deleted")return;throw le("SC8",{fieldName:i})}}}function r(i,o){!i||typeof i!="object"||Object.keys(i).forEach(a=>{var s=i[a];!i.properties&&s&&typeof s=="object"&&!Array.isArray(i)&&n(a,s,o);var u=o;a!=="properties"&&(u=u+"."+a),r(s,u)})}return r(e,""),!0}function dI(e){if(!e.primaryKey)throw le("SC30",{schema:e});function t(u){if(!u)throw le("SC33",{schema:e});var d=u.type;if(!d||!["string","number","integer"].includes(d))throw le("SC32",{schema:e,args:{schemaPart:u}})}if(typeof e.primaryKey=="string"){var n=e.primaryKey,r=e.properties[n];t(r)}else{var i=e.primaryKey,o=Fr(e,i.key);t(o),i.fields.forEach(u=>{var d=Fr(e,u);t(d)})}var a=Tn(e.primaryKey),s=e.properties[a];if(s.maxLength){if(!isFinite(s.maxLength))throw le("SC41",{schema:e,args:{primaryPathSchemaPart:s}})}else throw le("SC39",{schema:e,args:{primaryPathSchemaPart:s}})}function ig(e){for(var t=e.split("."),n="",r=0;r<t.length;r+=1)t[r]!=="[]"?n=n.concat(".properties.".concat(t[r])):n=n.concat(".items");return Ci(n)}function hI(e){if(!e.primaryKey)throw le("SC30",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"properties"))throw le("SC29",{schema:e});if(e.properties._rev)throw le("SC10",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"version")||typeof e.version!="number"||e.version<0)throw le("SC11",{version:e.version});if(fI(e),dI(e),Object.keys(e.properties).forEach(t=>{var n=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw le("SC13",{value:n,schema:e});if(n.unique)throw le("SC14",{value:n,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw le("SC15",{value:n,schema:e});if(n.type!=="string")throw le("SC16",{value:n,schema:e})}if(r1().includes(t))throw le("SC17",{key:t,schema:e})}),e.indexes){if(!fa(e.indexes))throw le("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(t=>{if(!(typeof t=="string"||Array.isArray(t)))throw le("SC19",{index:t,schema:e});if(Array.isArray(t)){for(var n=0;n<t.length;n+=1)if(typeof t[n]!="string")throw le("SC20",{index:t,schema:e})}var r=fa(t)?t:[t];r.forEach(i=>{var o=Fr(e,i),a=o.type;switch(a){case"string":var s=o.maxLength;if(!s)throw le("SC34",{index:t,field:i,schema:e});break;case"number":case"integer":var u=o.multipleOf;if(!u)throw le("SC35",{index:t,field:i,schema:e});var d=o.maximum,m=o.minimum;if(typeof d>"u"||typeof m>"u")throw le("SC37",{index:t,field:i,schema:e});if(!isFinite(d)||!isFinite(m))throw le("SC41",{index:t,field:i,schema:e});break;case"boolean":var h="",p=i;if(i.includes(".")){var w=i.split(".");p=w.pop(),h=w.join(".")}var g=h===""?e:Fr(e,h);if(!g.required||!g.required.includes(p))throw le("SC38",{index:t,field:i,schema:e});break;default:throw le("SC36",{fieldName:i,type:o.type,schema:e})}})})}Object.keys(lh(e)).map(t=>{var n=t.split(".");return n.pop(),n.join(".")}).filter(t=>t!=="").filter((t,n,r)=>r.indexOf(t)===n).filter(t=>{var n=Ar(e,t);return n&&!!n.index}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),le("SC26",{index:Ci(t),schema:e})}),(e.indexes||[]).reduce((t,n)=>(fa(n)?bo(t,n):t.push(n),t),[]).filter((t,n,r)=>r.indexOf(t)===n).map(t=>{var n=ig(t),r=Ar(e,n);if(!r||typeof r!="object")throw le("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}}).filter(t=>t.schemaObj.type!=="string"&&t.schemaObj.type!=="integer"&&t.schemaObj.type!=="number"&&t.schemaObj.type!=="boolean").forEach(t=>{throw le("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(lh(e)).map(t=>{var n=t.split(".");return n.pop(),n.join(".")}).filter(t=>t!==""&&t!=="attachments").filter((t,n,r)=>r.indexOf(t)===n).filter(t=>{var n=Ar(e,t);return n&&!!n.encrypted}).forEach(t=>{throw t=t.replace("properties.",""),t=t.replace(/\.properties\./g,"."),le("SC27",{index:Ci(t),schema:e})}),e.encrypted&&e.encrypted.forEach(t=>{var n=ig(t),r=Ar(e,n);if(!r||typeof r!="object")throw le("SC28",{field:t,schema:e})})}function nd(e){e&&Object.entries(e).forEach(([t,n])=>{if(typeof t!="string")throw or("COL14",{name:t});if(t.startsWith("_"))throw or("COL15",{name:t});if(typeof n!="function")throw or("COL16",{name:t,type:typeof t});if(aI().includes(t)||r1().includes(t))throw le("COL17",{name:t})})}function pI(e,t){var n=Object.keys(e.properties);t&&Object.keys(t).filter(r=>n.includes(r)).forEach(r=>{throw le("COL18",{funName:r})})}function mI(e,t){if(typeof t!="object"||Array.isArray(t))throw or("COL11",{schema:e});var n=zk(e);if(n.length!==Object.keys(t).length)throw le("COL12",{have:Object.keys(t),should:n});return n.map(r=>({v:r,s:t[r+1]})).filter(r=>typeof r.s!="function").forEach(r=>{throw or("COL13",{version:r.v,type:typeof r,schema:e})}),!0}function vI(e){if(sI().includes(e.name))throw le("DB5",{name:e.name});o1(e.name)}function yI(e){if(o1(e.name),e.name.includes("$"))throw le("DB13",{name:e.name});if(t_(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw le("DB11",{name:e.name})}var i1="^[a-z][_$a-z0-9\\-]*$",gI=new RegExp(i1);function o1(e){if(typeof e!="string"||e.length===0)throw or("UT1",{name:e});if(t_(e))return!0;if(!e.match(gI)&&e!==":memory:")throw le("UT2",{regex:i1,givenName:e});return!0}function wI(e){var t=Object.prototype.toString.call(e.queryObj)==="[object Object]";if(!t)throw or("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var n=["selector","limit","skip","sort","index"];if(Object.keys(e.queryObj).forEach(r=>{if(!n.includes(r))throw or("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:r,args:{validKeys:n}})}),e.op==="count"&&(e.queryObj.limit||e.queryObj.skip))throw le("QU15",{collection:e.collection.name,query:e.queryObj});Xl(e.queryObj)}function _I(e){var t=e.rxQuery.collection.schema.jsonSchema,n=e.mangoQuery.selector,r=Object.keys(t.properties);Object.keys(n).filter(s=>!s.startsWith("$")).filter(s=>!s.includes(".")).forEach(s=>{if(!r.includes(s))throw le("QU13",{schema:t,field:s,query:e.mangoQuery})});var i=t.indexes?t.indexes:[],o=e.mangoQuery.index;if(o){var a=i.find(s=>Hs(s,o));if(!a)throw le("QU12",{collection:e.rxQuery.collection.name,query:e.mangoQuery,schema:t})}if(e.rxQuery.op==="count"&&!bI(e.rxQuery.collection.schema.jsonSchema,e.mangoQuery)&&!e.rxQuery.collection.database.allowSlowCount)throw le("QU14",{collection:e.rxQuery.collection,query:e.mangoQuery});e.mangoQuery.sort&&e.mangoQuery.sort.map(s=>Object.keys(s)[0]).filter(s=>!s.includes(".")).forEach(s=>{if(!r.includes(s))throw le("QU13",{schema:t,field:s,query:e.mangoQuery})}),Xl(e.mangoQuery)}function bI(e,t){var n=Rc(e,t);return n.queryPlan.selectorSatisfiedByIndex}function Xl(e){if(!(typeof e!="object"||e===null)){var t=Object.keys(e);t.forEach(n=>{var r=e[n];if(r instanceof RegExp)throw le("QU16",{field:n,query:e});Array.isArray(r)?r.forEach(i=>Xl(i)):Xl(r)})}}function SI(e,t){if(!e)throw le("DOC20",{primaryKey:e,document:t});if(e!==e.trim())throw le("DOC21",{primaryKey:e,document:t});if(e.includes("\r")||e.includes(`
`))throw le("DOC22",{primaryKey:e,document:t});if(e.includes('"'))throw le("DOC23",{primaryKey:e,document:t})}function EI(e){return!e||typeof e=="string"||typeof e=="number"?e:Xw(e)}var CI="dev-mode",a1={name:CI,rxdb:!0,init:()=>{console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","🤗 Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join(`
`))},overwritable:{isDevMode(){return!0},deepFreezeWhenDevMode:EI,tunnelErrorMessage(e){if(!rg[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Code "+e+" not known, contact the maintainer");return rg[e]}},hooks:{preCreateRxSchema:{after:hI},preCreateRxDatabase:{after:function(e){yI(e)}},preCreateRxCollection:{after:function(e){if(vI(e),pI(e.schema,e.methods),e.name.charAt(0)==="_")throw le("DB2",{name:e.name});if(!e.schema)throw le("DB4",{name:e.name,args:e})}},createRxDocument:{before:function(e){SI(e.primary,e.toJSON(!0))}},preCreateRxQuery:{after:function(e){wI(e)}},prePrepareQuery:{after:e=>{_I(e)}},createRxCollection:{after:e=>{nd(e.creator.statics),nd(e.creator.methods),nd(e.creator.attachments),e.creator.schema&&e.creator.migrationStrategies&&mI(e.creator.schema,e.creator.migrationStrategies)}}}};const Pc=e=>pn((t,n,r)=>{let i=0;if(n instanceof Array)for(const o of n)i=i|1<<o;else i=n;return e(t&i,i)}),xI=Pc((e,t)=>e==0),kI=Pc((e,t)=>e==t),RI=Pc((e,t)=>e<t),OI=Pc((e,t)=>e>0),PI=Object.freeze(Object.defineProperty({__proto__:null,$all:NP,$and:nb,$bitsAllClear:xI,$bitsAllSet:kI,$bitsAnyClear:RI,$bitsAnySet:OI,$elemMatch:mb,$eq:ob,$exists:yb,$expr:AP,$gt:ab,$gte:sb,$in:ub,$jsonSchema:LP,$lt:lb,$lte:cb,$mod:hb,$ne:fb,$nin:db,$nor:rb,$not:ib,$or:Xp,$regex:pb,$size:vb,$type:gb,$where:MP},Symbol.toStringTag,{value:"Module"})),dm=(e,t)=>{switch(e){case"deep":return vh(t);case"copy":return yh(t)?new Date(t):Wt(t)?[...t]:Rt(t)?Object.assign({},t):t;default:return t}},DI=/^[a-z]+[a-zA-Z0-9]*$/;function s1(e){if(!e.includes(".$"))return[{parent:e,selector:e},[]];const t=e.indexOf(".$"),n=e.indexOf("]"),r=e.substring(0,t),i=e.substring(t+3,n);Kt(i===""||DI.test(i),"The filter <identifier> must begin with a lowercase letter and contain only alphanumeric characters.");const o=e.substring(n+2),[a,s]=o?s1(o):[];return[{selector:e,parent:r,child:i||"$",next:a},[i,...s||[]].filter(Boolean)]}const In=(e,t,n,r,i)=>{const{parent:o,child:a,next:s}=t;if(!a){let d=!1;return Gs(e,o,(h,p)=>d=!!r(h,p)||d,i),d}const u=Ma(e,o);return Wt(u)?u.map((d,m)=>n[a]&&!n[a].test({[a]:d})?!1:s?In(d,s,n,r,i):r(u,m)).some(Boolean):!1};function Qn(e,t,n,r){const i=[];for(const[o,a]of Object.entries(e)){const[s,u]=s1(o);if(!u.length)r(a,s,{})&&i.push(s.parent);else{const d={};t.forEach(h=>{Object.keys(h).forEach(p=>{u.forEach(w=>{(p===w||p.startsWith(w+"."))&&(d[w]=d[w]||{},Object.assign(d[w],{[p]:h[p]}))})})});const m={};for(const[h,p]of Object.entries(d))m[h]=new si(p,n.queryOptions);r(a,s,m)&&i.push(s.parent)}}return i}const TI=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>{const s={$each:[i]};return Rt(i)&&Un(i,"$each")&&Object.assign(s,i),In(e,o,a,(u,d)=>{const m=u[d]||(u[d]=[]);return Gp([m,s.$each]).length===s.$each.length?!1:(u[d]=dm(r.cloneMode,VO(m.concat(s.$each))),!0)},{buildGraph:!0})}),II=new Set(["and","or","xor"]),AI=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>{const s=Object.keys(i);return Kt(s.length===1&&II.has(s[0]),`Invalid bit operator '${s[0]}'. Must be one of 'and', 'or', or 'xor'.`),In(e,o,a,(u,d)=>{let m=u[d];const h=i[s[0]];if(m!==void 0&&!(jn(m)&&jn(h)))return!1;switch(m=m||0,s[0]){case"and":u[d]=m&h;break;case"or":u[d]=m|h;break;case"xor":u[d]=m^h;break}return u[d]!==m},{buildGraph:!0})}),LI=(e,t,n=[],r={})=>{const i=Date.now();return Qn(t,n,r,(o,a,s)=>In(e,a,s,(u,d)=>(u[d]=i,!0),{buildGraph:!0}))},MI=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>{if(!o.child){const s=Ma(e,o.parent);Kt(s===void 0||jn(s),"cannot apply $inc to a value of non-numeric type")}return In(e,o,a,(s,u)=>(s[u]=(s[u]||(s[u]=0))+i,!0),{buildGraph:!0})}),NI=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>s[u]!==void 0&&Dn(s[u],i)>-1?!1:(s[u]=i,!0),{buildGraph:!0})),jI=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>s[u]!==void 0&&Dn(s[u],i)<1?!1:(s[u]=i,!0),{buildGraph:!0})),FI=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>{const d=s[u];return s[u]=s[u]===void 0?0:s[u]*i,s[u]!==d},{buildGraph:!0})),BI=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>{const d=s[u];return Kt(Wt(d),`path '${o.selector}' contains an element of non-array type.`),d.length?(i===-1?d.splice(0,1):d.pop(),!0):!1})),u1=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>{const s=!Rt(i)||Object.keys(i).some(Mo),u=new si(s?{k:i}:i,r.queryOptions),d=s?m=>u.test({k:m}):m=>u.test(m);return In(e,o,a,(m,h)=>{const p=m[h],w=new Array;return p.map(E=>{const I=d(E);return I||w.push(E),I}).some(Boolean)?(m[h]=w,!0):!1})}),$I=(e,t,n=[],r={})=>{const i={};return Object.entries(t).forEach(([o,a])=>{i[o]={$in:a}}),u1(e,i,n,r)},UI=Object.freeze(["$each","$slice","$sort","$position"]),zI=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>{const s={$each:[i]};return Rt(i)&&UI.some(u=>Un(i,u))&&Object.assign(s,i),In(e,o,a,(u,d)=>{const m=u[d]||(u[d]=[]),h=m.slice(0,s.$slice||m.length),p=m.length,w=jn(s.$position)?s.$position:m.length;if(m.splice(w,0,...dm(r.cloneMode,s.$each)),s.$sort){const g=Rt(s.$sort)?Object.keys(s.$sort||{}).pop():"",E=g?s.$sort[g]:s.$sort,I=g?S=>Ma(S,g):S=>S;m.sort((S,C)=>E*Dn(I(S),I(C)))}return jn(s.$slice)&&(s.$slice<0?m.splice(0,m.length+s.$slice):m.splice(s.$slice)),p!=m.length||!ai(h,m)},{descendArray:!0,buildGraph:!0})}),l1=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>ai(s[u],i)?!1:(s[u]=dm(r.cloneMode,i),!0),{buildGraph:!0})),qI=(e,t,n=[],r={})=>{const i=[],o=Qn(t,n,r,(a,s,u)=>In(e,s,u,(d,m)=>Un(d,m)?(i.push(...l1(e,{[a]:d[m]},n,r)),delete d[m],!0):!1));return Array.from(new Set(o.concat(i)))},KI=(e,t,n=[],r={})=>Qn(t,n,r,(i,o,a)=>In(e,o,a,(s,u)=>Un(s,u)?(Wt(s)?s[u]=null:delete s[u],!0):!1)),og=Object.freeze(Object.defineProperty({__proto__:null,$addToSet:TI,$bit:AI,$currentDate:LI,$inc:MI,$max:NI,$min:jI,$mul:FI,$pop:BI,$pull:u1,$pullAll:$I,$push:zI,$rename:qI,$set:l1,$unset:KI},Symbol.toStringTag,{value:"Module"}));function c1(e){return e=Object.assign(Object.assign({},e),{queryOptions:ql(e.queryOptions)}),e.queryOptions.context.addQueryOps(PI).addExpressionOps(bP).addExpressionOps(PP),(t,n,r=[],i={},o={})=>{const a=Object.assign({cloneMode:"copy"},e,o);Object.assign(a,{queryOptions:ql(Object.assign({useStrictMode:!1},a==null?void 0:a.queryOptions))}),r=r||[],i=i||{};const s=Object.entries(n);Kt(s.length===1,"Update expression must contain only one operator.");const[u,d]=s[0];Kt(Un(og,u),`Update operator '${u}' is not supported.`);const m=og[u];return Object.keys(i).length&&!(i instanceof si?i:new si(i,a.queryOptions)).test(t)?[]:m(t,d,r,a)}}c1({});var rd;function f1(e,t){if(!rd){var n=c1({cloneMode:"none"});rd=(r,i)=>{var o=ur(r);return n(o,i),o}}return rd(e,t)}function WI(e){return this.incrementalModify(t=>{var n=f1(t,e);return n})}function HI(e){var t=this._data,n=f1(t,e);return this._saveData(n,t)}function VI(e){return this.exec().then(t=>t?Array.isArray(t)?Promise.all(t.map(n=>n.update(e))).then(()=>t):t.update(e).then(()=>t):null)}var d1={name:"update",rxdb:!0,prototypes:{RxDocument:e=>{e.update=HI,e.incrementalUpdate=WI},RxQuery:e=>{e.update=VI}}};function QI(e){var t={name:this.name,instanceToken:this.token,collections:[]},n=Object.keys(this.collections).filter(r=>!e||e.includes(r)).filter(r=>r.charAt(0)!=="_").map(r=>this.collections[r]);return Promise.all(n.map(r=>r.exportJSON())).then(r=>(t.collections=r,t))}var YI=function(e){var t=e.collections.filter(n=>!this.collections[n.name]).map(n=>n.name);if(t.length>0)throw le("JD1",{missingCollections:t});return Promise.all(e.collections.map(n=>this.collections[n.name].importJSON(n)))},GI=async function(){var e={name:this.name,schemaHash:await this.schema.hash,docs:[]},t=Ko("find",Ss(),this);return Cb(t).then(n=>(e.docs=n.map(r=>(r=dt(r),delete r._rev,delete r._attachments,r)),e))};async function JI(e){if(e.schemaHash!==await this.schema.hash)throw le("JD2",{schemaHash:e.schemaHash,own:this.schema.hash});var t=e.docs;return this.storageInstance.bulkWrite(t.map(n=>{var r=Object.assign({},n,{_meta:{lwt:Jt()},_rev:Er(),_attachments:{},_deleted:!1});return{document:r}}),"json-dump-import")}var h1={name:"json-dump",rxdb:!0,prototypes:{RxDatabase:e=>{e.exportJSON=QI,e.importJSON=YI},RxCollection:e=>{e.exportJSON=GI,e.importJSON=JI}},overwritable:{}},hm={minimumDeletedTime:1e3*60*60*24*31,minimumCollectionAge:1e3*60,runEach:1e3*60*5,awaitReplicationsInSync:!0,waitForLeadership:!0},p1=new WeakMap,XI=new WeakMap;function ag(e){return jr(XI,e,()=>iI(e))}function ZI(){var e=n1(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return Ph(this.token,this),t()};var n=ag(e);return n||(n=ag(e),p1.set(this,n)),this.leaderElector=()=>n,n}function e2(){return this.multiInstance?this.leaderElector().isLeader:!0}function t2(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):Sc}function n2(e){var t=p1.get(e);t&&t.die()}var r2=!0,i2={RxDatabase:e=>{e.leaderElector=ZI,e.isLeader=e2,e.waitForLeadership=t2}},mu={name:"leader-election",rxdb:r2,prototypes:i2,hooks:{preDestroyRxDatabase:{after:n2}}},sg=e=>Promise.resolve(e);function ug(e,t){if(e==="_deleted")return t;t=dt(t);var n=!!t._deleted;return t[e]=n,delete t._deleted,t}function id(e,t,n){return n.map(r=>{var i=dt(r);if(t!=="_deleted"){var o=!!i[t];i._deleted=o,delete i[t]}else i._deleted=!!i._deleted;var a=e.schema.primaryPath;return i[a]=Ki(e.schema.jsonSchema,i),i})}function lg(e,t){if(typeof window>"u"||typeof window!="object"||typeof window.addEventListener>"u"||navigator.onLine)return e.promiseWait(t);var n,r=new Promise(i=>{n=()=>{window.removeEventListener("online",n),i()},window.addEventListener("online",n)});return Promise.race([r,e.promiseWait(t)]).then(()=>{window.removeEventListener("online",n)})}var pm=new WeakMap,o2=function(){function e(n,r,i,o,a,s,u,d){this.subs=[],this.subjects={received:new yt,sent:new yt,error:new yt,canceled:new Ir(!1),active:new Ir(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.onCancel=[],this.callOnStart=void 0,this.remoteEvents$=new yt,this.replicationIdentifier=n,this.collection=r,this.deletedField=i,this.pull=o,this.push=a,this.live=s,this.retryTime=u,this.autoStart=d,this.metaInfoPromise=(async()=>{var p="rx-replication-meta-"+await r.database.hashFunction([this.collection.name,this.replicationIdentifier].join("-")),w=LD(this.collection.schema.jsonSchema,Rb(this.collection.schema.jsonSchema));return{collectionName:p,schema:w}})();var m=jr(pm,r,()=>[]);m.push(this),this.collection.onDestroy.push(()=>this.cancel()),Object.keys(this.subjects).forEach(p=>{Object.defineProperty(this,p+"$",{get:function(){return this.subjects[p].asObservable()}})});var h=new Promise(p=>{this.callOnStart=p});this.startPromise=h}var t=e.prototype;return t.start=async function(){if(!this.isStopped()){var r=this.pull&&this.pull.modifier?this.pull.modifier:sg,i=this.push&&this.push.modifier?this.push.modifier:sg,o=this.collection.database,a=await this.metaInfoPromise,[s]=await Promise.all([this.collection.database.storage.createStorageInstance({databaseName:o.name,collectionName:a.collectionName,databaseInstanceToken:o.token,multiInstance:o.multiInstance,options:{},schema:a.schema,password:o.password,devMode:zt.isDevMode()}),SD(this.collection,a.collectionName,a.schema)]);this.metaInstance=s,this.internalReplicationState=FD({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:o.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe(rt(u=>!!this.pull),Hi(async u=>{if(u==="RESYNC")return u;var d=dt(u);return d.documents=id(this.collection,this.deletedField,d.documents),d.documents=await Promise.all(d.documents.map(m=>r(m))),d})),masterChangesSince:async(u,d)=>{if(!this.pull)return{checkpoint:null,documents:[]};for(var m=!1,h={};!m&&!this.isStopped();)try{h=await this.pull.handler(u,d),m=!0}catch(g){var p=le("RC_PULL",{checkpoint:u,errors:Ws(g).map(E=>wy(E)),direction:"pull"});this.subjects.error.next(p),await lg(this.collection,$e(this.retryTime))}if(this.isStopped())return{checkpoint:null,documents:[]};var w=dt(h);return w.documents=id(this.collection,this.deletedField,w.documents),w.documents=await Promise.all(w.documents.map(g=>r(g))),w},masterWrite:async u=>{if(!this.push)return[];var d=!1;await So("preReplicationMasterWrite",{rows:u,collection:this.collection});var m=await Promise.all(u.map(async E=>(E.newDocumentState=await i(E.newDocumentState),E.newDocumentState===null?null:(E.assumedMasterState&&(E.assumedMasterState=await i(E.assumedMasterState)),this.deletedField!=="_deleted"&&(E.newDocumentState=ug(this.deletedField,E.newDocumentState),E.assumedMasterState&&(E.assumedMasterState=ug(this.deletedField,E.assumedMasterState))),E)))),h=m.filter(Jw),p=null;for(h.length===0&&(d=!0,p=[]);!d&&!this.isStopped();)try{if(p=await this.push.handler(h),!Array.isArray(p))throw le("RC_PUSH_NO_AR",{pushRows:u,direction:"push",args:{result:p}});d=!0}catch(E){var w=E.rxdb?E:le("RC_PUSH",{pushRows:u,errors:Ws(E).map(I=>wy(I)),direction:"push"});this.subjects.error.next(w),await lg(this.collection,$e(this.retryTime))}if(this.isStopped())return[];await So("preReplicationMasterWriteDocumentsHandle",{result:p,collection:this.collection});var g=id(this.collection,this.deletedField,$e(p));return g}}}),this.subs.push(this.internalReplicationState.events.error.subscribe(u=>{this.subjects.error.next(u)}),this.internalReplicationState.events.processed.down.subscribe(u=>this.subjects.received.next(u.document)),this.internalReplicationState.events.processed.up.subscribe(u=>{this.subjects.sent.next(u.newDocumentState)}),L_([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([u,d])=>{var m=u||d;this.subjects.active.next(m)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:u=>{this.remoteEvents$.next(u)},error:u=>{this.subjects.error.next(u)}})),this.live||(await Yf(this.internalReplicationState),await Qy(this.internalReplicationState),await this.cancel()),this.callOnStart()}},t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.awaitInitialReplication=async function(){return await this.startPromise,Yf($e(this.internalReplicationState))},t.awaitInSync=async function(){await this.startPromise,await Yf($e(this.internalReplicationState));for(var r=2;r>0;)r--,await this.collection.database.requestIdlePromise(),await Qy($e(this.internalReplicationState));return!0},t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(r){this.remoteEvents$.next(r)},t.cancel=async function(){if(this.isStopped())return wr;var r=this.onCancel.map(i=>Sk(i()));return this.internalReplicationState&&await BD(this.internalReplicationState),this.metaInstance&&r.push($e(this.internalReplicationState).checkpointQueue.then(()=>$e(this.metaInstance).close())),this.subs.forEach(i=>i.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(r)},t.remove=async function(){await $e(this.metaInstance).remove();var r=await this.metaInfoPromise;await this.cancel(),await ED(this.collection,r.collectionName,r.schema)},e}();function m1({replicationIdentifier:e,collection:t,deletedField:n="_deleted",pull:r,push:i,live:o=!0,retryTime:a=1e3*5,waitForLeadership:s=!0,autoStart:u=!0}){if(Vn(mu),!r&&!i)throw le("UT3",{collection:t.name,args:{replicationIdentifier:e}});var d=new o2(e,t,n,r,i,o,a,u);return a2(s,d),d}function a2(e,t){var n=e&&t.collection.database.multiInstance,r=n?t.collection.database.waitForLeadership():Sc;return r.then(()=>{t.isStopped()||t.autoStart&&t.start()})}var od=Sc;async function s2(e){var t=e.database,n=Object.assign({},hm,t.cleanupPolicy?t.cleanupPolicy:{});await v1(e,n),!e.destroyed&&(await y1(e,n),await u2(e,n))}async function v1(e,t){await e.promiseWait(t.minimumCollectionAge),!e.destroyed&&t.waitForLeadership&&await e.database.waitForLeadership()}async function y1(e,t){for(var n=e.database,r=e.storageInstance,i=!1;!i&&!e.destroyed;){if(t.awaitReplicationsInSync){var o=pm.get(e);o&&await Promise.all(o.map(a=>{if(!a.isStopped())return a.awaitInSync()}))}if(e.destroyed)return;od=od.then(async()=>e.destroyed?!0:(await n.requestIdlePromise(),r.cleanup(t.minimumDeletedTime))),i=await od}}async function u2(e,t){for(;!e.destroyed;){if(await e.promiseWait(t.runEach),e.destroyed)return;await y1(e,t)}}var ad=Sc;async function l2(e){var t=e.collection,n=t.database,r=Object.assign({},hm,n.cleanupPolicy?n.cleanupPolicy:{});await v1(t,r),!t.destroyed&&(await g1(e,r),await c2(e,r))}async function g1(e,t){for(var n=e.collection,r=n.database,i=!1;!i&&!n.destroyed;){if(t.awaitReplicationsInSync){var o=pm.get(n);o&&await Promise.all(o.map(a=>{if(!a.isStopped())return a.awaitInSync()}))}if(n.destroyed)return;ad=ad.then(async()=>n.destroyed?!0:(await r.requestIdlePromise(),e._cleanup())),i=await ad}}async function c2(e,t){for(var n=e.collection;!n.destroyed;){if(await n.promiseWait(t.runEach),n.destroyed)return;await g1(e,t)}}var w1={name:"cleanup",rxdb:!0,prototypes:{RxCollection:e=>{e.cleanup=async function(t){var n=Object.assign({},hm,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof t>"u"&&(t=n.minimumDeletedTime);for(var r=!1;!r&&!this.destroyed;)r=await this.storageInstance.cleanup(t)}}},hooks:{createRxCollection:{after:e=>{s2(e.collection)}},createRxState:{after:e=>{l2(e.state)}}}},_1={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Zn,function(){var n=function(l,c){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,b){v.__proto__=b}||function(v,b){for(var x in b)Object.prototype.hasOwnProperty.call(b,x)&&(v[x]=b[x])})(l,c)},r=function(){return(r=Object.assign||function(l){for(var c,v=1,b=arguments.length;v<b;v++)for(var x in c=arguments[v])Object.prototype.hasOwnProperty.call(c,x)&&(l[x]=c[x]);return l}).apply(this,arguments)};function i(l,c,v){if(v||arguments.length===2)for(var b,x=0,T=c.length;x<T;x++)!b&&x in c||((b=b||Array.prototype.slice.call(c,0,x))[x]=c[x]);return l.concat(b||Array.prototype.slice.call(c))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Zn,a=Object.keys,s=Array.isArray;function u(l,c){return typeof c!="object"||a(c).forEach(function(v){l[v]=c[v]}),l}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var d=Object.getPrototypeOf,m={}.hasOwnProperty;function h(l,c){return m.call(l,c)}function p(l,c){typeof c=="function"&&(c=c(d(l))),(typeof Reflect>"u"?a:Reflect.ownKeys)(c).forEach(function(v){g(l,v,c[v])})}var w=Object.defineProperty;function g(l,c,v,b){w(l,c,u(v&&h(v,"get")&&typeof v.get=="function"?{get:v.get,set:v.set,configurable:!0}:{value:v,configurable:!0,writable:!0},b))}function E(l){return{from:function(c){return l.prototype=Object.create(c.prototype),g(l.prototype,"constructor",l),{extend:p.bind(null,l.prototype)}}}}var I=Object.getOwnPropertyDescriptor,S=[].slice;function C(l,c,v){return S.call(l,c,v)}function y(l,c){return c(l)}function R(l){if(!l)throw new Error("Assertion Failed")}function D(l){o.setImmediate?setImmediate(l):setTimeout(l,0)}function k(l,c){if(typeof c=="string"&&h(l,c))return l[c];if(!c)return l;if(typeof c!="string"){for(var v=[],b=0,x=c.length;b<x;++b){var T=k(l,c[b]);v.push(T)}return v}var A=c.indexOf(".");if(A!==-1){var j=l[c.substr(0,A)];return j==null?void 0:k(j,c.substr(A+1))}}function P(l,c,v){if(l&&c!==void 0&&!("isFrozen"in Object&&Object.isFrozen(l)))if(typeof c!="string"&&"length"in c){R(typeof v!="string"&&"length"in v);for(var b=0,x=c.length;b<x;++b)P(l,c[b],v[b])}else{var T,A,j=c.indexOf(".");j!==-1?(T=c.substr(0,j),(A=c.substr(j+1))===""?v===void 0?s(l)&&!isNaN(parseInt(T))?l.splice(T,1):delete l[T]:l[T]=v:P(j=!(j=l[T])||!h(l,T)?l[T]={}:j,A,v)):v===void 0?s(l)&&!isNaN(parseInt(c))?l.splice(c,1):delete l[c]:l[c]=v}}function L(l){var c,v={};for(c in l)h(l,c)&&(v[c]=l[c]);return v}var B=[].concat;function N(l){return B.apply([],l)}var $r="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(N([8,16,32,64].map(function(l){return["Int","Uint","Float"].map(function(c){return c+l+"Array"})}))).filter(function(l){return o[l]}),F=new Set($r.map(function(l){return o[l]})),Z=null;function ue(l){return Z=new WeakMap,l=function c(v){if(!v||typeof v!="object")return v;var b=Z.get(v);if(b)return b;if(s(v)){b=[],Z.set(v,b);for(var x=0,T=v.length;x<T;++x)b.push(c(v[x]))}else if(F.has(v.constructor))b=v;else{var A,j=d(v);for(A in b=j===Object.prototype?{}:Object.create(j),Z.set(v,b),v)h(v,A)&&(b[A]=c(v[A]))}return b}(l),Z=null,l}var Ee={}.toString;function Re(l){return Ee.call(l).slice(8,-1)}var Ce=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ie=typeof Ce=="symbol"?function(l){var c;return l!=null&&(c=l[Ce])&&c.apply(l)}:function(){return null};function fe(l,c){return c=l.indexOf(c),0<=c&&l.splice(c,1),0<=c}var se={};function we(l){var c,v,b,x;if(arguments.length===1){if(s(l))return l.slice();if(this===se&&typeof l=="string")return[l];if(x=Ie(l)){for(v=[];!(b=x.next()).done;)v.push(b.value);return v}if(l==null)return[l];if(typeof(c=l.length)!="number")return[l];for(v=new Array(c);c--;)v[c]=l[c];return v}for(c=arguments.length,v=new Array(c);c--;)v[c]=arguments[c];return v}var Ne=typeof Symbol<"u"?function(l){return l[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},re=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Xn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(re),Ze={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function je(l,c){this.name=l,this.message=c}function Le(l,c){return l+". Errors: "+Object.keys(c).map(function(v){return c[v].toString()}).filter(function(v,b,x){return x.indexOf(v)===b}).join(`
`)}function ot(l,c,v,b){this.failures=c,this.failedKeys=b,this.successCount=v,this.message=Le(l,c)}function at(l,c){this.name="BulkError",this.failures=Object.keys(c).map(function(v){return c[v]}),this.failuresByPos=c,this.message=Le(l,this.failures)}E(je).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(ot).from(je),E(at).from(je);var Mt=Xn.reduce(function(l,c){return l[c]=c+"Error",l},{}),Br=je,Ae=Xn.reduce(function(l,c){var v=c+"Error";function b(x,T){this.name=v,x?typeof x=="string"?(this.message="".concat(x).concat(T?`
 `+T:""),this.inner=T||null):typeof x=="object"&&(this.message="".concat(x.name," ").concat(x.message),this.inner=x):(this.message=Ze[c]||v,this.inner=null)}return E(b).from(Br),l[c]=b,l},{});Ae.Syntax=SyntaxError,Ae.Type=TypeError,Ae.Range=RangeError;var Yn=re.reduce(function(l,c){return l[c+"Error"]=Ae[c],l},{}),xt=Xn.reduce(function(l,c){return["Syntax","Type","Range"].indexOf(c)===-1&&(l[c+"Error"]=Ae[c]),l},{});function Qe(){}function Bt(l){return l}function mn(l,c){return l==null||l===Bt?c:function(v){return c(l(v))}}function X(l,c){return function(){l.apply(this,arguments),c.apply(this,arguments)}}function ie(l,c){return l===Qe?c:function(){var v=l.apply(this,arguments);v!==void 0&&(arguments[0]=v);var b=this.onsuccess,x=this.onerror;this.onsuccess=null,this.onerror=null;var T=c.apply(this,arguments);return b&&(this.onsuccess=this.onsuccess?X(b,this.onsuccess):b),x&&(this.onerror=this.onerror?X(x,this.onerror):x),T!==void 0?T:v}}function me(l,c){return l===Qe?c:function(){l.apply(this,arguments);var v=this.onsuccess,b=this.onerror;this.onsuccess=this.onerror=null,c.apply(this,arguments),v&&(this.onsuccess=this.onsuccess?X(v,this.onsuccess):v),b&&(this.onerror=this.onerror?X(b,this.onerror):b)}}function Me(l,c){return l===Qe?c:function(v){var b=l.apply(this,arguments);u(v,b);var x=this.onsuccess,T=this.onerror;return this.onsuccess=null,this.onerror=null,v=c.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?X(x,this.onsuccess):x),T&&(this.onerror=this.onerror?X(T,this.onerror):T),b===void 0?v===void 0?void 0:v:u(b,v)}}function M(l,c){return l===Qe?c:function(){return c.apply(this,arguments)!==!1&&l.apply(this,arguments)}}function f(l,c){return l===Qe?c:function(){var v=l.apply(this,arguments);if(v&&typeof v.then=="function"){for(var b=this,x=arguments.length,T=new Array(x);x--;)T[x]=arguments[x];return v.then(function(){return c.apply(b,T)})}return c.apply(this,arguments)}}xt.ModifyError=ot,xt.DexieError=je,xt.BulkError=at;var _=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function O(l){_=l}var $={},V=100,$r=typeof Promise>"u"?[]:function(){var l=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[l,d(l),l];var c=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[c,d(c),l]}(),re=$r[0],Xn=$r[1],$r=$r[2],Xn=Xn&&Xn.then,De=re&&re.constructor,Ke=!!$r,ut=function(l,c){yn.push([l,c]),We&&(queueMicrotask(ye),We=!1)},ze=!0,We=!0,mt=[],vn=[],Gn=Bt,Xt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Qe,pgp:!1,env:{},finalize:Qe},Oe=Xt,yn=[],lr=0,No=[];function xe(l){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var c=this._PSD=Oe;if(typeof l!="function"){if(l!==$)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Ba(this,this._value))}this._state=null,this._value=null,++c.ref,function v(b,x){try{x(function(T){if(b._state===null){if(T===b)throw new TypeError("A promise cannot be resolved with itself.");var A=b._lib&&Pe();T&&typeof T.then=="function"?v(b,function(j,K){T instanceof xe?T._then(j,K):T.then(j,K)}):(b._state=!0,b._value=T,Y(b)),A&&He()}},Ba.bind(null,b))}catch(T){Ba(b,T)}}(this,l)}var ja={get:function(){var l=Oe,c=Tt;function v(b,x){var T=this,A=!l.global&&(l!==Oe||c!==Tt),j=A&&!Jn(),K=new xe(function(z,Q){te(T,new Fa(Fo(b,l,A,j),Fo(x,l,A,j),z,Q,l))});return this._consoleTask&&(K._consoleTask=this._consoleTask),K}return v.prototype=$,v},set:function(l){g(this,"then",l&&l.prototype===$?ja:{get:function(){return l},set:ja.set})}};function Fa(l,c,v,b,x){this.onFulfilled=typeof l=="function"?l:null,this.onRejected=typeof c=="function"?c:null,this.resolve=v,this.reject=b,this.psd=x}function Ba(l,c){var v,b;vn.push(c),l._state===null&&(v=l._lib&&Pe(),c=Gn(c),l._state=!1,l._value=c,b=l,mt.some(function(x){return x._value===b._value})||mt.push(b),Y(l),v&&He())}function Y(l){var c=l._listeners;l._listeners=[];for(var v=0,b=c.length;v<b;++v)te(l,c[v]);var x=l._PSD;--x.ref||x.finalize(),lr===0&&(++lr,ut(function(){--lr==0&&Ue()},[]))}function te(l,c){if(l._state!==null){var v=l._state?c.onFulfilled:c.onRejected;if(v===null)return(l._state?c.resolve:c.reject)(l._value);++c.psd.ref,++lr,ut(ce,[v,l,c])}else l._listeners.push(c)}function ce(l,c,v){try{var b,x=c._value;!c._state&&vn.length&&(vn=[]),b=_&&c._consoleTask?c._consoleTask.run(function(){return l(x)}):l(x),c._state||vn.indexOf(x)!==-1||function(T){for(var A=mt.length;A;)if(mt[--A]._value===T._value)return mt.splice(A,1)}(c),v.resolve(b)}catch(T){v.reject(T)}finally{--lr==0&&Ue(),--v.psd.ref||v.psd.finalize()}}function ye(){Ln(Xt,function(){Pe()&&He()})}function Pe(){var l=ze;return We=ze=!1,l}function He(){var l,c,v;do for(;0<yn.length;)for(l=yn,yn=[],v=l.length,c=0;c<v;++c){var b=l[c];b[0].apply(null,b[1])}while(0<yn.length);We=ze=!0}function Ue(){var l=mt;mt=[],l.forEach(function(b){b._PSD.onunhandled.call(null,b._value,b)});for(var c=No.slice(0),v=c.length;v;)c[--v]()}function Fe(l){return new xe($,!1,l)}function _e(l,c){var v=Oe;return function(){var b=Pe(),x=Oe;try{return rn(v,!0),l.apply(this,arguments)}catch(T){c&&c(T)}finally{rn(x,!1),b&&He()}}}p(xe.prototype,{then:ja,_then:function(l,c){te(this,new Fa(null,null,l,c,Oe))},catch:function(l){if(arguments.length===1)return this.then(null,l);var c=l,v=arguments[1];return typeof c=="function"?this.then(null,function(b){return(b instanceof c?v:Fe)(b)}):this.then(null,function(b){return(b&&b.name===c?v:Fe)(b)})},finally:function(l){return this.then(function(c){return xe.resolve(l()).then(function(){return c})},function(c){return xe.resolve(l()).then(function(){return Fe(c)})})},timeout:function(l,c){var v=this;return l<1/0?new xe(function(b,x){var T=setTimeout(function(){return x(new Ae.Timeout(c))},l);v.then(b,x).finally(clearTimeout.bind(null,T))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&g(xe.prototype,Symbol.toStringTag,"Dexie.Promise"),Xt.env=jo(),p(xe,{all:function(){var l=we.apply(null,arguments).map(cr);return new xe(function(c,v){l.length===0&&c([]);var b=l.length;l.forEach(function(x,T){return xe.resolve(x).then(function(A){l[T]=A,--b||c(l)},v)})})},resolve:function(l){return l instanceof xe?l:l&&typeof l.then=="function"?new xe(function(c,v){l.then(c,v)}):new xe($,!0,l)},reject:Fe,race:function(){var l=we.apply(null,arguments).map(cr);return new xe(function(c,v){l.map(function(b){return xe.resolve(b).then(c,v)})})},PSD:{get:function(){return Oe},set:function(l){return Oe=l}},totalEchoes:{get:function(){return Tt}},newPSD:gt,usePSD:Ln,scheduler:{get:function(){return ut},set:function(l){ut=l}},rejectionMapper:{get:function(){return Gn},set:function(l){Gn=l}},follow:function(l,c){return new xe(function(v,b){return gt(function(x,T){var A=Oe;A.unhandleds=[],A.onunhandled=T,A.finalize=X(function(){var j,K=this;j=function(){K.unhandleds.length===0?x():T(K.unhandleds[0])},No.push(function z(){j(),No.splice(No.indexOf(z),1)}),++lr,ut(function(){--lr==0&&Ue()},[])},A.finalize),l()},c,v,b)})}}),De&&(De.allSettled&&g(xe,"allSettled",function(){var l=we.apply(null,arguments).map(cr);return new xe(function(c){l.length===0&&c([]);var v=l.length,b=new Array(v);l.forEach(function(x,T){return xe.resolve(x).then(function(A){return b[T]={status:"fulfilled",value:A}},function(A){return b[T]={status:"rejected",reason:A}}).then(function(){return--v||c(b)})})})}),De.any&&typeof AggregateError<"u"&&g(xe,"any",function(){var l=we.apply(null,arguments).map(cr);return new xe(function(c,v){l.length===0&&v(new AggregateError([]));var b=l.length,x=new Array(b);l.forEach(function(T,A){return xe.resolve(T).then(function(j){return c(j)},function(j){x[A]=j,--b||v(new AggregateError(x))})})})}));var Be={awaits:0,echoes:0,id:0},$t=0,Ve=[],ct=0,Tt=0,gn=0;function gt(l,c,v,b){var x=Oe,T=Object.create(x);return T.parent=x,T.ref=0,T.global=!1,T.id=++gn,Xt.env,T.env=Ke?{Promise:xe,PromiseProp:{value:xe,configurable:!0,writable:!0},all:xe.all,race:xe.race,allSettled:xe.allSettled,any:xe.any,resolve:xe.resolve,reject:xe.reject}:{},c&&u(T,c),++x.ref,T.finalize=function(){--this.parent.ref||this.parent.finalize()},b=Ln(T,l,v,b),T.ref===0&&T.finalize(),b}function An(){return Be.id||(Be.id=++$t),++Be.awaits,Be.echoes+=V,Be.id}function Jn(){return!!Be.awaits&&(--Be.awaits==0&&(Be.id=0),Be.echoes=Be.awaits*V,!0)}function cr(l){return Be.echoes&&l&&l.constructor===De?(An(),l.then(function(c){return Jn(),c},function(c){return Jn(),wt(c)})):l}function xr(){var l=Ve[Ve.length-1];Ve.pop(),rn(l,!1)}function rn(l,c){var v,b=Oe;(c?!Be.echoes||ct++&&l===Oe:!ct||--ct&&l===Oe)||queueMicrotask(c?(function(x){++Tt,Be.echoes&&--Be.echoes!=0||(Be.echoes=Be.awaits=Be.id=0),Ve.push(Oe),rn(x,!0)}).bind(null,l):xr),l!==Oe&&(Oe=l,b===Xt&&(Xt.env=jo()),Ke&&(v=Xt.env.Promise,c=l.env,(b.global||l.global)&&(Object.defineProperty(o,"Promise",c.PromiseProp),v.all=c.all,v.race=c.race,v.resolve=c.resolve,v.reject=c.reject,c.allSettled&&(v.allSettled=c.allSettled),c.any&&(v.any=c.any))))}function jo(){var l=o.Promise;return Ke?{Promise:l,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:l.all,race:l.race,allSettled:l.allSettled,any:l.any,resolve:l.resolve,reject:l.reject}:{}}function Ln(l,c,v,b,x){var T=Oe;try{return rn(l,!0),c(v,b,x)}finally{rn(T,!1)}}function Fo(l,c,v,b){return typeof l!="function"?l:function(){var x=Oe;v&&An(),rn(c,!0);try{return l.apply(this,arguments)}finally{rn(x,!1),b&&queueMicrotask(Jn)}}}function kr(l){Promise===De&&Be.echoes===0?ct===0?l():enqueueNativeMicroTask(l):setTimeout(l,0)}(""+Xn).indexOf("[native code]")===-1&&(An=Jn=Qe);var wt=xe.reject,Ye="￿",et="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Zt="String expected.",fr=[],Bo="__dbnames",Dc="readonly",Tc="readwrite";function Vi(l,c){return l?c?function(){return l.apply(this,arguments)&&c.apply(this,arguments)}:l:c}var mm={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function yu(l){return typeof l!="string"||/\./.test(l)?function(c){return c}:function(c){return c[l]===void 0&&l in c&&delete(c=ue(c))[l],c}}function vm(){throw Ae.Type()}function ft(l,c){try{var v=ym(l),b=ym(c);if(v!==b)return v==="Array"?1:b==="Array"?-1:v==="binary"?1:b==="binary"?-1:v==="string"?1:b==="string"?-1:v==="Date"?1:b!=="Date"?NaN:-1;switch(v){case"number":case"Date":case"string":return c<l?1:l<c?-1:0;case"binary":return function(x,T){for(var A=x.length,j=T.length,K=A<j?A:j,z=0;z<K;++z)if(x[z]!==T[z])return x[z]<T[z]?-1:1;return A===j?0:A<j?-1:1}(gm(l),gm(c));case"Array":return function(x,T){for(var A=x.length,j=T.length,K=A<j?A:j,z=0;z<K;++z){var Q=ft(x[z],T[z]);if(Q!==0)return Q}return A===j?0:A<j?-1:1}(l,c)}}catch{}return NaN}function ym(l){var c=typeof l;return c!="object"?c:ArrayBuffer.isView(l)?"binary":(l=Re(l),l==="ArrayBuffer"?"binary":l)}function gm(l){return l instanceof Uint8Array?l:ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):new Uint8Array(l)}var wm=(St.prototype._trans=function(l,c,v){var b=this._tx||Oe.trans,x=this.name,T=_&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(l==="readonly"?"read":"write"," ").concat(this.name));function A(z,Q,U){if(!U.schema[x])throw new Ae.NotFound("Table "+x+" not part of transaction");return c(U.idbtrans,U)}var j=Pe();try{var K=b&&b.db._novip===this.db._novip?b===Oe.trans?b._promise(l,A,v):gt(function(){return b._promise(l,A,v)},{trans:b,transless:Oe.transless||Oe}):function z(Q,U,G,q){if(Q.idbdb&&(Q._state.openComplete||Oe.letThrough||Q._vip)){var H=Q._createTransaction(U,G,Q._dbSchema);try{H.create(),Q._state.PR1398_maxLoop=3}catch(J){return J.name===Mt.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,G,q)})):wt(J)}return H._promise(U,function(J,W){return gt(function(){return Oe.trans=H,q(J,W,H)})}).then(function(J){if(U==="readwrite")try{H.idbtrans.commit()}catch{}return U==="readonly"?J:H._completion.then(function(){return J})})}if(Q._state.openComplete)return wt(new Ae.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return wt(new Ae.DatabaseClosed);Q.open().catch(Qe)}return Q._state.dbReadyPromise.then(function(){return z(Q,U,G,q)})}(this.db,l,[this.name],A);return T&&(K._consoleTask=T,K=K.catch(function(z){return console.trace(z),wt(z)})),K}finally{j&&He()}},St.prototype.get=function(l,c){var v=this;return l&&l.constructor===Object?this.where(l).first(c):l==null?wt(new Ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(b){return v.core.get({trans:b,key:l}).then(function(x){return v.hook.reading.fire(x)})}).then(c)},St.prototype.where=function(l){if(typeof l=="string")return new this.db.WhereClause(this,l);if(s(l))return new this.db.WhereClause(this,"[".concat(l.join("+"),"]"));var c=a(l);if(c.length===1)return this.where(c[0]).equals(l[c[0]]);var v=this.schema.indexes.concat(this.schema.primKey).filter(function(K){if(K.compound&&c.every(function(Q){return 0<=K.keyPath.indexOf(Q)})){for(var z=0;z<c.length;++z)if(c.indexOf(K.keyPath[z])===-1)return!1;return!0}return!1}).sort(function(K,z){return K.keyPath.length-z.keyPath.length})[0];if(v&&this.db._maxKey!==Ye){var A=v.keyPath.slice(0,c.length);return this.where(A).equals(A.map(function(z){return l[z]}))}!v&&_&&console.warn("The query ".concat(JSON.stringify(l)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(c.join("+"),"]"));var b=this.schema.idxByName,x=this.db._deps.indexedDB;function T(K,z){return x.cmp(K,z)===0}var j=c.reduce(function(G,z){var Q=G[0],U=G[1],G=b[z],q=l[z];return[Q||G,Q||!G?Vi(U,G&&G.multi?function(H){return H=k(H,z),s(H)&&H.some(function(J){return T(q,J)})}:function(H){return T(q,k(H,z))}):U]},[null,null]),A=j[0],j=j[1];return A?this.where(A.name).equals(l[A.keyPath]).filter(j):v?this.filter(j):this.where(c).equals("")},St.prototype.filter=function(l){return this.toCollection().and(l)},St.prototype.count=function(l){return this.toCollection().count(l)},St.prototype.offset=function(l){return this.toCollection().offset(l)},St.prototype.limit=function(l){return this.toCollection().limit(l)},St.prototype.each=function(l){return this.toCollection().each(l)},St.prototype.toArray=function(l){return this.toCollection().toArray(l)},St.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},St.prototype.orderBy=function(l){return new this.db.Collection(new this.db.WhereClause(this,s(l)?"[".concat(l.join("+"),"]"):l))},St.prototype.reverse=function(){return this.toCollection().reverse()},St.prototype.mapToClass=function(l){var c,v=this.db,b=this.name;function x(){return c!==null&&c.apply(this,arguments)||this}(this.schema.mappedClass=l).prototype instanceof vm&&(function(K,z){if(typeof z!="function"&&z!==null)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");function Q(){this.constructor=K}n(K,z),K.prototype=z===null?Object.create(z):(Q.prototype=z.prototype,new Q)}(x,c=l),Object.defineProperty(x.prototype,"db",{get:function(){return v},enumerable:!1,configurable:!0}),x.prototype.table=function(){return b},l=x);for(var T=new Set,A=l.prototype;A;A=d(A))Object.getOwnPropertyNames(A).forEach(function(K){return T.add(K)});function j(K){if(!K)return K;var z,Q=Object.create(l.prototype);for(z in K)if(!T.has(z))try{Q[z]=K[z]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=j,this.hook("reading",j),l},St.prototype.defineClass=function(){return this.mapToClass(function(l){u(this,l)})},St.prototype.add=function(l,c){var v=this,b=this.schema.primKey,x=b.auto,T=b.keyPath,A=l;return T&&x&&(A=yu(T)(l)),this._trans("readwrite",function(j){return v.core.mutate({trans:j,type:"add",keys:c!=null?[c]:null,values:[A]})}).then(function(j){return j.numFailures?xe.reject(j.failures[0]):j.lastResult}).then(function(j){if(T)try{P(l,T,j)}catch{}return j})},St.prototype.update=function(l,c){return typeof l!="object"||s(l)?this.where(":id").equals(l).modify(c):(l=k(l,this.schema.primKey.keyPath),l===void 0?wt(new Ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(l).modify(c))},St.prototype.put=function(l,c){var v=this,b=this.schema.primKey,x=b.auto,T=b.keyPath,A=l;return T&&x&&(A=yu(T)(l)),this._trans("readwrite",function(j){return v.core.mutate({trans:j,type:"put",values:[A],keys:c!=null?[c]:null})}).then(function(j){return j.numFailures?xe.reject(j.failures[0]):j.lastResult}).then(function(j){if(T)try{P(l,T,j)}catch{}return j})},St.prototype.delete=function(l){var c=this;return this._trans("readwrite",function(v){return c.core.mutate({trans:v,type:"delete",keys:[l]})}).then(function(v){return v.numFailures?xe.reject(v.failures[0]):void 0})},St.prototype.clear=function(){var l=this;return this._trans("readwrite",function(c){return l.core.mutate({trans:c,type:"deleteRange",range:mm})}).then(function(c){return c.numFailures?xe.reject(c.failures[0]):void 0})},St.prototype.bulkGet=function(l){var c=this;return this._trans("readonly",function(v){return c.core.getMany({keys:l,trans:v}).then(function(b){return b.map(function(x){return c.hook.reading.fire(x)})})})},St.prototype.bulkAdd=function(l,c,v){var b=this,x=Array.isArray(c)?c:void 0,T=(v=v||(x?void 0:c))?v.allKeys:void 0;return this._trans("readwrite",function(A){var z=b.schema.primKey,j=z.auto,z=z.keyPath;if(z&&x)throw new Ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(x&&x.length!==l.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var K=l.length,z=z&&j?l.map(yu(z)):l;return b.core.mutate({trans:A,type:"add",keys:x,values:z,wantResults:T}).then(function(H){var U=H.numFailures,G=H.results,q=H.lastResult,H=H.failures;if(U===0)return T?G:q;throw new at("".concat(b.name,".bulkAdd(): ").concat(U," of ").concat(K," operations failed"),H)})})},St.prototype.bulkPut=function(l,c,v){var b=this,x=Array.isArray(c)?c:void 0,T=(v=v||(x?void 0:c))?v.allKeys:void 0;return this._trans("readwrite",function(A){var z=b.schema.primKey,j=z.auto,z=z.keyPath;if(z&&x)throw new Ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(x&&x.length!==l.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var K=l.length,z=z&&j?l.map(yu(z)):l;return b.core.mutate({trans:A,type:"put",keys:x,values:z,wantResults:T}).then(function(H){var U=H.numFailures,G=H.results,q=H.lastResult,H=H.failures;if(U===0)return T?G:q;throw new at("".concat(b.name,".bulkPut(): ").concat(U," of ").concat(K," operations failed"),H)})})},St.prototype.bulkUpdate=function(l){var c=this,v=this.core,b=l.map(function(A){return A.key}),x=l.map(function(A){return A.changes}),T=[];return this._trans("readwrite",function(A){return v.getMany({trans:A,keys:b,cache:"clone"}).then(function(j){var K=[],z=[];l.forEach(function(U,G){var q=U.key,H=U.changes,J=j[G];if(J){for(var W=0,ee=Object.keys(H);W<ee.length;W++){var ne=ee[W],oe=H[ne];if(ne===c.schema.primKey.keyPath){if(ft(oe,q)!==0)throw new Ae.Constraint("Cannot update primary key in bulkUpdate()")}else P(J,ne,oe)}T.push(G),K.push(q),z.push(J)}});var Q=K.length;return v.mutate({trans:A,type:"put",keys:K,values:z,updates:{keys:b,changeSpecs:x}}).then(function(U){var G=U.numFailures,q=U.failures;if(G===0)return Q;for(var H=0,J=Object.keys(q);H<J.length;H++){var W,ee=J[H],ne=T[Number(ee)];ne!=null&&(W=q[ee],delete q[ee],q[ne]=W)}throw new at("".concat(c.name,".bulkUpdate(): ").concat(G," of ").concat(Q," operations failed"),q)})})})},St.prototype.bulkDelete=function(l){var c=this,v=l.length;return this._trans("readwrite",function(b){return c.core.mutate({trans:b,type:"delete",keys:l})}).then(function(A){var x=A.numFailures,T=A.lastResult,A=A.failures;if(x===0)return T;throw new at("".concat(c.name,".bulkDelete(): ").concat(x," of ").concat(v," operations failed"),A)})},St);function St(){}function $a(l){function c(A,j){if(j){for(var K=arguments.length,z=new Array(K-1);--K;)z[K-1]=arguments[K];return v[A].subscribe.apply(null,z),l}if(typeof A=="string")return v[A]}var v={};c.addEventType=T;for(var b=1,x=arguments.length;b<x;++b)T(arguments[b]);return c;function T(A,j,K){if(typeof A!="object"){var z;j=j||M;var Q={subscribers:[],fire:K=K||Qe,subscribe:function(U){Q.subscribers.indexOf(U)===-1&&(Q.subscribers.push(U),Q.fire=j(Q.fire,U))},unsubscribe:function(U){Q.subscribers=Q.subscribers.filter(function(G){return G!==U}),Q.fire=Q.subscribers.reduce(j,K)}};return v[A]=c[A]=Q}a(z=A).forEach(function(U){var G=z[U];if(s(G))T(U,z[U][0],z[U][1]);else{if(G!=="asap")throw new Ae.InvalidArgument("Invalid event config");var q=T(U,Bt,function(){for(var H=arguments.length,J=new Array(H);H--;)J[H]=arguments[H];q.subscribers.forEach(function(W){D(function(){W.apply(null,J)})})})}})}}function Ua(l,c){return E(c).from({prototype:l}),c}function $o(l,c){return!(l.filter||l.algorithm||l.or)&&(c?l.justLimit:!l.replayFilter)}function Ic(l,c){l.filter=Vi(l.filter,c)}function Ac(l,c,v){var b=l.replayFilter;l.replayFilter=b?function(){return Vi(b(),c())}:c,l.justLimit=v&&!b}function gu(l,c){if(l.isPrimKey)return c.primaryKey;var v=c.getIndexByKeyPath(l.index);if(!v)throw new Ae.Schema("KeyPath "+l.index+" on object store "+c.name+" is not indexed");return v}function _m(l,c,v){var b=gu(l,c.schema);return c.openCursor({trans:v,values:!l.keysOnly,reverse:l.dir==="prev",unique:!!l.unique,query:{index:b,range:l.range}})}function wu(l,c,v,b){var x=l.replayFilter?Vi(l.filter,l.replayFilter()):l.filter;if(l.or){var T={},A=function(j,K,z){var Q,U;x&&!x(K,z,function(G){return K.stop(G)},function(G){return K.fail(G)})||((U=""+(Q=K.primaryKey))=="[object ArrayBuffer]"&&(U=""+new Uint8Array(Q)),h(T,U)||(T[U]=!0,c(j,K,z)))};return Promise.all([l.or._iterate(A,v),bm(_m(l,b,v),l.algorithm,A,!l.keysOnly&&l.valueMapper)])}return bm(_m(l,b,v),Vi(l.algorithm,x),c,!l.keysOnly&&l.valueMapper)}function bm(l,c,v,b){var x=_e(b?function(T,A,j){return v(b(T),A,j)}:v);return l.then(function(T){if(T)return T.start(function(){var A=function(){return T.continue()};c&&!c(T,function(j){return A=j},function(j){T.stop(j),A=Qe},function(j){T.fail(j),A=Qe})||x(T.value,T,function(j){return A=j}),A()})})}var $r=Symbol(),Lc=(Sm.prototype.execute=function(l){var c=(c=this.replacePrefix)===null||c===void 0?void 0:c[0];return c&&typeof l=="string"&&l.startsWith(c)?this.replacePrefix[1]+l.substring(c.length):l},Sm);function Sm(l){Object.assign(this,l)}var T1=(lt.prototype._read=function(l,c){var v=this._ctx;return v.error?v.table._trans(null,wt.bind(null,v.error)):v.table._trans("readonly",l).then(c)},lt.prototype._write=function(l){var c=this._ctx;return c.error?c.table._trans(null,wt.bind(null,c.error)):c.table._trans("readwrite",l,"locked")},lt.prototype._addAlgorithm=function(l){var c=this._ctx;c.algorithm=Vi(c.algorithm,l)},lt.prototype._iterate=function(l,c){return wu(this._ctx,l,c,this._ctx.table.core)},lt.prototype.clone=function(l){var c=Object.create(this.constructor.prototype),v=Object.create(this._ctx);return l&&u(v,l),c._ctx=v,c},lt.prototype.raw=function(){return this._ctx.valueMapper=null,this},lt.prototype.each=function(l){var c=this._ctx;return this._read(function(v){return wu(c,l,v,c.table.core)})},lt.prototype.count=function(l){var c=this;return this._read(function(v){var b=c._ctx,x=b.table.core;if($o(b,!0))return x.count({trans:v,query:{index:gu(b,x.schema),range:b.range}}).then(function(A){return Math.min(A,b.limit)});var T=0;return wu(b,function(){return++T,!1},v,x).then(function(){return T})}).then(l)},lt.prototype.sortBy=function(l,c){var v=l.split(".").reverse(),b=v[0],x=v.length-1;function T(K,z){return z?T(K[v[z]],z-1):K[b]}var A=this._ctx.dir==="next"?1:-1;function j(K,z){return K=T(K,x),z=T(z,x),K<z?-A:z<K?A:0}return this.toArray(function(K){return K.sort(j)}).then(c)},lt.prototype.toArray=function(l){var c=this;return this._read(function(v){var b=c._ctx;if(b.dir==="next"&&$o(b,!0)&&0<b.limit){var x=b.valueMapper,T=gu(b,b.table.core.schema);return b.table.core.query({trans:v,limit:b.limit,values:!0,query:{index:T,range:b.range}}).then(function(j){return j=j.result,x?j.map(x):j})}var A=[];return wu(b,function(j){return A.push(j)},v,b.table.core).then(function(){return A})},l)},lt.prototype.offset=function(l){var c=this._ctx;return l<=0||(c.offset+=l,$o(c)?Ac(c,function(){var v=l;return function(b,x){return v===0||(v===1?--v:x(function(){b.advance(v),v=0}),!1)}}):Ac(c,function(){var v=l;return function(){return--v<0}})),this},lt.prototype.limit=function(l){return this._ctx.limit=Math.min(this._ctx.limit,l),Ac(this._ctx,function(){var c=l;return function(v,b,x){return--c<=0&&b(x),0<=c}},!0),this},lt.prototype.until=function(l,c){return Ic(this._ctx,function(v,b,x){return!l(v.value)||(b(x),c)}),this},lt.prototype.first=function(l){return this.limit(1).toArray(function(c){return c[0]}).then(l)},lt.prototype.last=function(l){return this.reverse().first(l)},lt.prototype.filter=function(l){var c;return Ic(this._ctx,function(v){return l(v.value)}),(c=this._ctx).isMatch=Vi(c.isMatch,l),this},lt.prototype.and=function(l){return this.filter(l)},lt.prototype.or=function(l){return new this.db.WhereClause(this._ctx.table,l,this)},lt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},lt.prototype.desc=function(){return this.reverse()},lt.prototype.eachKey=function(l){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(v,b){l(b.key,b)})},lt.prototype.eachUniqueKey=function(l){return this._ctx.unique="unique",this.eachKey(l)},lt.prototype.eachPrimaryKey=function(l){var c=this._ctx;return c.keysOnly=!c.isMatch,this.each(function(v,b){l(b.primaryKey,b)})},lt.prototype.keys=function(l){var c=this._ctx;c.keysOnly=!c.isMatch;var v=[];return this.each(function(b,x){v.push(x.key)}).then(function(){return v}).then(l)},lt.prototype.primaryKeys=function(l){var c=this._ctx;if(c.dir==="next"&&$o(c,!0)&&0<c.limit)return this._read(function(b){var x=gu(c,c.table.core.schema);return c.table.core.query({trans:b,values:!1,limit:c.limit,query:{index:x,range:c.range}})}).then(function(b){return b.result}).then(l);c.keysOnly=!c.isMatch;var v=[];return this.each(function(b,x){v.push(x.primaryKey)}).then(function(){return v}).then(l)},lt.prototype.uniqueKeys=function(l){return this._ctx.unique="unique",this.keys(l)},lt.prototype.firstKey=function(l){return this.limit(1).keys(function(c){return c[0]}).then(l)},lt.prototype.lastKey=function(l){return this.reverse().firstKey(l)},lt.prototype.distinct=function(){var l=this._ctx,l=l.index&&l.table.schema.idxByName[l.index];if(!l||!l.multi)return this;var c={};return Ic(this._ctx,function(x){var b=x.primaryKey.toString(),x=h(c,b);return c[b]=!0,!x}),this},lt.prototype.modify=function(l){var c=this,v=this._ctx;return this._write(function(b){var x,T,A;A=typeof l=="function"?l:(x=a(l),T=x.length,function(W){for(var ee=!1,ne=0;ne<T;++ne){var oe=x[ne],ae=l[oe],de=k(W,oe);ae instanceof Lc?(P(W,oe,ae.execute(de)),ee=!0):de!==ae&&(P(W,oe,ae),ee=!0)}return ee});function j(W,oe){var ne=oe.failures,oe=oe.numFailures;H+=W-oe;for(var ae=0,de=a(ne);ae<de.length;ae++){var be=de[ae];q.push(ne[be])}}var K=v.table.core,z=K.schema.primaryKey,Q=z.outbound,U=z.extractKey,G=c.db._options.modifyChunkSize||200,q=[],H=0,J=[];return c.clone().primaryKeys().then(function(W){function ee(ne){var oe=Math.min(G,W.length-ne);return K.getMany({trans:b,keys:W.slice(ne,ne+oe),cache:"immutable"}).then(function(ae){for(var de=[],be=[],ve=Q?[]:null,ge=[],Se=0;Se<oe;++Se){var ke=ae[Se],qe={value:ue(ke),primKey:W[ne+Se]};A.call(qe,qe.value,qe)!==!1&&(qe.value==null?ge.push(W[ne+Se]):Q||ft(U(ke),U(qe.value))===0?(be.push(qe.value),Q&&ve.push(W[ne+Se])):(ge.push(W[ne+Se]),de.push(qe.value)))}var Ge=$o(v)&&v.limit===1/0&&(typeof l!="function"||l===Mc)&&{index:v.index,range:v.range};return Promise.resolve(0<de.length&&K.mutate({trans:b,type:"add",values:de}).then(function(tt){for(var Je in tt.failures)ge.splice(parseInt(Je),1);j(de.length,tt)})).then(function(){return(0<be.length||Ge&&typeof l=="object")&&K.mutate({trans:b,type:"put",keys:ve,values:be,criteria:Ge,changeSpec:typeof l!="function"&&l}).then(function(tt){return j(be.length,tt)})}).then(function(){return(0<ge.length||Ge&&l===Mc)&&K.mutate({trans:b,type:"delete",keys:ge,criteria:Ge}).then(function(tt){return j(ge.length,tt)})}).then(function(){return W.length>ne+oe&&ee(ne+G)})})}return ee(0).then(function(){if(0<q.length)throw new ot("Error modifying one or more objects",q,H,J);return W.length})})})},lt.prototype.delete=function(){var l=this._ctx,c=l.range;return $o(l)&&(l.isPrimKey||c.type===3)?this._write(function(v){var b=l.table.core.schema.primaryKey,x=c;return l.table.core.count({trans:v,query:{index:b,range:x}}).then(function(T){return l.table.core.mutate({trans:v,type:"deleteRange",range:x}).then(function(A){var j=A.failures;if(A.lastResult,A.results,A=A.numFailures,A)throw new ot("Could not delete some values",Object.keys(j).map(function(K){return j[K]}),T-A);return T-A})})}):this.modify(Mc)},lt);function lt(){}var Mc=function(l,c){return c.value=null};function I1(l,c){return l<c?-1:l===c?0:1}function A1(l,c){return c<l?-1:l===c?0:1}function Mn(l,c,v){return l=l instanceof Cm?new l.Collection(l):l,l._ctx.error=new(v||TypeError)(c),l}function Uo(l){return new l.Collection(l,function(){return Em("")}).limit(0)}function _u(l,c,v,b){var x,T,A,j,K,z,Q,U=v.length;if(!v.every(function(H){return typeof H=="string"}))return Mn(l,Zt);function G(H){x=H==="next"?function(W){return W.toUpperCase()}:function(W){return W.toLowerCase()},T=H==="next"?function(W){return W.toLowerCase()}:function(W){return W.toUpperCase()},A=H==="next"?I1:A1;var J=v.map(function(W){return{lower:T(W),upper:x(W)}}).sort(function(W,ee){return A(W.lower,ee.lower)});j=J.map(function(W){return W.upper}),K=J.map(function(W){return W.lower}),Q=(z=H)==="next"?"":b}G("next"),l=new l.Collection(l,function(){return di(j[0],K[U-1]+b)}),l._ondirectionchange=function(H){G(H)};var q=0;return l._addAlgorithm(function(H,J,W){var ee=H.key;if(typeof ee!="string")return!1;var ne=T(ee);if(c(ne,K,q))return!0;for(var oe=null,ae=q;ae<U;++ae){var de=function(be,ve,ge,Se,ke,qe){for(var Ge=Math.min(be.length,Se.length),tt=-1,Je=0;Je<Ge;++Je){var dr=ve[Je];if(dr!==Se[Je])return ke(be[Je],ge[Je])<0?be.substr(0,Je)+ge[Je]+ge.substr(Je+1):ke(be[Je],Se[Je])<0?be.substr(0,Je)+Se[Je]+ge.substr(Je+1):0<=tt?be.substr(0,tt)+ve[tt]+ge.substr(tt+1):null;ke(be[Je],dr)<0&&(tt=Je)}return Ge<Se.length&&qe==="next"?be+ge.substr(be.length):Ge<be.length&&qe==="prev"?be.substr(0,ge.length):tt<0?null:be.substr(0,tt)+Se[tt]+ge.substr(tt+1)}(ee,ne,j[ae],K[ae],A,z);de===null&&oe===null?q=ae+1:(oe===null||0<A(oe,de))&&(oe=de)}return J(oe!==null?function(){H.continue(oe+Q)}:W),!1}),l}function di(l,c,v,b){return{type:2,lower:l,upper:c,lowerOpen:v,upperOpen:b}}function Em(l){return{type:1,lower:l,upper:l}}var Cm=(Object.defineProperty(Qt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Qt.prototype.between=function(l,c,v,b){v=v!==!1,b=b===!0;try{return 0<this._cmp(l,c)||this._cmp(l,c)===0&&(v||b)&&(!v||!b)?Uo(this):new this.Collection(this,function(){return di(l,c,!v,!b)})}catch{return Mn(this,et)}},Qt.prototype.equals=function(l){return l==null?Mn(this,et):new this.Collection(this,function(){return Em(l)})},Qt.prototype.above=function(l){return l==null?Mn(this,et):new this.Collection(this,function(){return di(l,void 0,!0)})},Qt.prototype.aboveOrEqual=function(l){return l==null?Mn(this,et):new this.Collection(this,function(){return di(l,void 0,!1)})},Qt.prototype.below=function(l){return l==null?Mn(this,et):new this.Collection(this,function(){return di(void 0,l,!1,!0)})},Qt.prototype.belowOrEqual=function(l){return l==null?Mn(this,et):new this.Collection(this,function(){return di(void 0,l)})},Qt.prototype.startsWith=function(l){return typeof l!="string"?Mn(this,Zt):this.between(l,l+Ye,!0,!0)},Qt.prototype.startsWithIgnoreCase=function(l){return l===""?this.startsWith(l):_u(this,function(c,v){return c.indexOf(v[0])===0},[l],Ye)},Qt.prototype.equalsIgnoreCase=function(l){return _u(this,function(c,v){return c===v[0]},[l],"")},Qt.prototype.anyOfIgnoreCase=function(){var l=we.apply(se,arguments);return l.length===0?Uo(this):_u(this,function(c,v){return v.indexOf(c)!==-1},l,"")},Qt.prototype.startsWithAnyOfIgnoreCase=function(){var l=we.apply(se,arguments);return l.length===0?Uo(this):_u(this,function(c,v){return v.some(function(b){return c.indexOf(b)===0})},l,Ye)},Qt.prototype.anyOf=function(){var l=this,c=we.apply(se,arguments),v=this._cmp;try{c.sort(v)}catch{return Mn(this,et)}if(c.length===0)return Uo(this);var b=new this.Collection(this,function(){return di(c[0],c[c.length-1])});b._ondirectionchange=function(T){v=T==="next"?l._ascending:l._descending,c.sort(v)};var x=0;return b._addAlgorithm(function(T,A,j){for(var K=T.key;0<v(K,c[x]);)if(++x===c.length)return A(j),!1;return v(K,c[x])===0||(A(function(){T.continue(c[x])}),!1)}),b},Qt.prototype.notEqual=function(l){return this.inAnyRange([[-1/0,l],[l,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Qt.prototype.noneOf=function(){var l=we.apply(se,arguments);if(l.length===0)return new this.Collection(this);try{l.sort(this._ascending)}catch{return Mn(this,et)}var c=l.reduce(function(v,b){return v?v.concat([[v[v.length-1][1],b]]):[[-1/0,b]]},null);return c.push([l[l.length-1],this.db._maxKey]),this.inAnyRange(c,{includeLowers:!1,includeUppers:!1})},Qt.prototype.inAnyRange=function(ee,c){var v=this,b=this._cmp,x=this._ascending,T=this._descending,A=this._min,j=this._max;if(ee.length===0)return Uo(this);if(!ee.every(function(ne){return ne[0]!==void 0&&ne[1]!==void 0&&x(ne[0],ne[1])<=0}))return Mn(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ae.InvalidArgument);var K=!c||c.includeLowers!==!1,z=c&&c.includeUppers===!0,Q,U=x;function G(ne,oe){return U(ne[0],oe[0])}try{(Q=ee.reduce(function(ne,oe){for(var ae=0,de=ne.length;ae<de;++ae){var be=ne[ae];if(b(oe[0],be[1])<0&&0<b(oe[1],be[0])){be[0]=A(be[0],oe[0]),be[1]=j(be[1],oe[1]);break}}return ae===de&&ne.push(oe),ne},[])).sort(G)}catch{return Mn(this,et)}var q=0,H=z?function(ne){return 0<x(ne,Q[q][1])}:function(ne){return 0<=x(ne,Q[q][1])},J=K?function(ne){return 0<T(ne,Q[q][0])}:function(ne){return 0<=T(ne,Q[q][0])},W=H,ee=new this.Collection(this,function(){return di(Q[0][0],Q[Q.length-1][1],!K,!z)});return ee._ondirectionchange=function(ne){U=ne==="next"?(W=H,x):(W=J,T),Q.sort(G)},ee._addAlgorithm(function(ne,oe,ae){for(var de,be=ne.key;W(be);)if(++q===Q.length)return oe(ae),!1;return!H(de=be)&&!J(de)||(v._cmp(be,Q[q][1])===0||v._cmp(be,Q[q][0])===0||oe(function(){U===x?ne.continue(Q[q][0]):ne.continue(Q[q][1])}),!1)}),ee},Qt.prototype.startsWithAnyOf=function(){var l=we.apply(se,arguments);return l.every(function(c){return typeof c=="string"})?l.length===0?Uo(this):this.inAnyRange(l.map(function(c){return[c,c+Ye]})):Mn(this,"startsWithAnyOf() only works with strings")},Qt);function Qt(){}function Rr(l){return _e(function(c){return za(c),l(c.target.error),!1})}function za(l){l.stopPropagation&&l.stopPropagation(),l.preventDefault&&l.preventDefault()}var qa="storagemutated",Nc="x-storagemutated-1",hi=$a(null,qa),L1=(Or.prototype._lock=function(){return R(!Oe.global),++this._reculock,this._reculock!==1||Oe.global||(Oe.lockOwnerFor=this),this},Or.prototype._unlock=function(){if(R(!Oe.global),--this._reculock==0)for(Oe.global||(Oe.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var l=this._blockedFuncs.shift();try{Ln(l[1],l[0])}catch{}}return this},Or.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},Or.prototype.create=function(l){var c=this;if(!this.mode)return this;var v=this.db.idbdb,b=this.db._state.dbOpenError;if(R(!this.idbtrans),!l&&!v)switch(b&&b.name){case"DatabaseClosedError":throw new Ae.DatabaseClosed(b);case"MissingAPIError":throw new Ae.MissingAPI(b.message,b);default:throw new Ae.OpenFailed(b)}if(!this.active)throw new Ae.TransactionInactive;return R(this._completion._state===null),(l=this.idbtrans=l||(this.db.core||v).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=_e(function(x){za(x),c._reject(l.error)}),l.onabort=_e(function(x){za(x),c.active&&c._reject(new Ae.Abort(l.error)),c.active=!1,c.on("abort").fire(x)}),l.oncomplete=_e(function(){c.active=!1,c._resolve(),"mutatedParts"in l&&hi.storagemutated.fire(l.mutatedParts)}),this},Or.prototype._promise=function(l,c,v){var b=this;if(l==="readwrite"&&this.mode!=="readwrite")return wt(new Ae.ReadOnly("Transaction is readonly"));if(!this.active)return wt(new Ae.TransactionInactive);if(this._locked())return new xe(function(T,A){b._blockedFuncs.push([function(){b._promise(l,c,v).then(T,A)},Oe])});if(v)return gt(function(){var T=new xe(function(A,j){b._lock();var K=c(A,j,b);K&&K.then&&K.then(A,j)});return T.finally(function(){return b._unlock()}),T._lib=!0,T});var x=new xe(function(T,A){var j=c(T,A,b);j&&j.then&&j.then(T,A)});return x._lib=!0,x},Or.prototype._root=function(){return this.parent?this.parent._root():this},Or.prototype.waitFor=function(l){var c,v=this._root(),b=xe.resolve(l);v._waitingFor?v._waitingFor=v._waitingFor.then(function(){return b}):(v._waitingFor=b,v._waitingQueue=[],c=v.idbtrans.objectStore(v.storeNames[0]),function T(){for(++v._spinCount;v._waitingQueue.length;)v._waitingQueue.shift()();v._waitingFor&&(c.get(-1/0).onsuccess=T)}());var x=v._waitingFor;return new xe(function(T,A){b.then(function(j){return v._waitingQueue.push(_e(T.bind(null,j)))},function(j){return v._waitingQueue.push(_e(A.bind(null,j)))}).finally(function(){v._waitingFor===x&&(v._waitingFor=null)})})},Or.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ae.Abort))},Or.prototype.table=function(l){var c=this._memoizedTables||(this._memoizedTables={});if(h(c,l))return c[l];var v=this.schema[l];if(!v)throw new Ae.NotFound("Table "+l+" not part of transaction");return v=new this.db.Table(l,v,this),v.core=this.db.core.table(l),c[l]=v},Or);function Or(){}function jc(l,c,v,b,x,T,A){return{name:l,keyPath:c,unique:v,multi:b,auto:x,compound:T,src:(v&&!A?"&":"")+(b?"*":"")+(x?"++":"")+xm(c)}}function xm(l){return typeof l=="string"?l:l?"["+[].join.call(l,"+")+"]":""}function Fc(l,c,v){return{name:l,primKey:c,indexes:v,mappedClass:null,idxByName:(b=function(x){return[x.name,x]},v.reduce(function(x,T,A){return A=b(T,A),A&&(x[A[0]]=A[1]),x},{}))};var b}var Ka=function(l){try{return l.only([[]]),Ka=function(){return[[]]},[[]]}catch{return Ka=function(){return Ye},Ye}};function Bc(l){return l==null?function(){}:typeof l=="string"?(c=l).split(".").length===1?function(v){return v[c]}:function(v){return k(v,c)}:function(v){return k(v,l)};var c}function km(l){return[].slice.call(l)}var M1=0;function Wa(l){return l==null?":id":typeof l=="string"?l:"[".concat(l.join("+"),"]")}function N1(l,c,K){function b(W){if(W.type===3)return null;if(W.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var q=W.lower,H=W.upper,J=W.lowerOpen,W=W.upperOpen;return q===void 0?H===void 0?null:c.upperBound(H,!!W):H===void 0?c.lowerBound(q,!!J):c.bound(q,H,!!J,!!W)}function x(G){var q,H=G.name;return{name:H,schema:G,mutate:function(J){var W=J.trans,ee=J.type,ne=J.keys,oe=J.values,ae=J.range;return new Promise(function(de,be){de=_e(de);var ve=W.objectStore(H),ge=ve.keyPath==null,Se=ee==="put"||ee==="add";if(!Se&&ee!=="delete"&&ee!=="deleteRange")throw new Error("Invalid operation type: "+ee);var ke,qe=(ne||oe||{length:1}).length;if(ne&&oe&&ne.length!==oe.length)throw new Error("Given keys array must have same length as given values array.");if(qe===0)return de({numFailures:0,failures:{},results:[],lastResult:void 0});function Ge(wn){++dr,za(wn)}var tt=[],Je=[],dr=0;if(ee==="deleteRange"){if(ae.type===4)return de({numFailures:dr,failures:Je,results:[],lastResult:void 0});ae.type===3?tt.push(ke=ve.clear()):tt.push(ke=ve.delete(b(ae)))}else{var ge=Se?ge?[oe,ne]:[oe,null]:[ne,null],Xe=ge[0],an=ge[1];if(Se)for(var sn=0;sn<qe;++sn)tt.push(ke=an&&an[sn]!==void 0?ve[ee](Xe[sn],an[sn]):ve[ee](Xe[sn])),ke.onerror=Ge;else for(sn=0;sn<qe;++sn)tt.push(ke=ve[ee](Xe[sn])),ke.onerror=Ge}function Au(wn){wn=wn.target.result,tt.forEach(function(Gi,of){return Gi.error!=null&&(Je[of]=Gi.error)}),de({numFailures:dr,failures:Je,results:ee==="delete"?ne:tt.map(function(Gi){return Gi.result}),lastResult:wn})}ke.onerror=function(wn){Ge(wn),Au(wn)},ke.onsuccess=Au})},getMany:function(J){var W=J.trans,ee=J.keys;return new Promise(function(ne,oe){ne=_e(ne);for(var ae,de=W.objectStore(H),be=ee.length,ve=new Array(be),ge=0,Se=0,ke=function(tt){tt=tt.target,ve[tt._pos]=tt.result,++Se===ge&&ne(ve)},qe=Rr(oe),Ge=0;Ge<be;++Ge)ee[Ge]!=null&&((ae=de.get(ee[Ge]))._pos=Ge,ae.onsuccess=ke,ae.onerror=qe,++ge);ge===0&&ne(ve)})},get:function(J){var W=J.trans,ee=J.key;return new Promise(function(ne,oe){ne=_e(ne);var ae=W.objectStore(H).get(ee);ae.onsuccess=function(de){return ne(de.target.result)},ae.onerror=Rr(oe)})},query:(q=z,function(J){return new Promise(function(W,ee){W=_e(W);var ne,oe,ae,ge=J.trans,de=J.values,be=J.limit,ke=J.query,ve=be===1/0?void 0:be,Se=ke.index,ke=ke.range,ge=ge.objectStore(H),Se=Se.isPrimaryKey?ge:ge.index(Se.name),ke=b(ke);if(be===0)return W({result:[]});q?((ve=de?Se.getAll(ke,ve):Se.getAllKeys(ke,ve)).onsuccess=function(qe){return W({result:qe.target.result})},ve.onerror=Rr(ee)):(ne=0,oe=!de&&"openKeyCursor"in Se?Se.openKeyCursor(ke):Se.openCursor(ke),ae=[],oe.onsuccess=function(qe){var Ge=oe.result;return Ge?(ae.push(de?Ge.value:Ge.primaryKey),++ne===be?W({result:ae}):void Ge.continue()):W({result:ae})},oe.onerror=Rr(ee))})}),openCursor:function(J){var W=J.trans,ee=J.values,ne=J.query,oe=J.reverse,ae=J.unique;return new Promise(function(de,be){de=_e(de);var Se=ne.index,ve=ne.range,ge=W.objectStore(H),ge=Se.isPrimaryKey?ge:ge.index(Se.name),Se=oe?ae?"prevunique":"prev":ae?"nextunique":"next",ke=!ee&&"openKeyCursor"in ge?ge.openKeyCursor(b(ve),Se):ge.openCursor(b(ve),Se);ke.onerror=Rr(be),ke.onsuccess=_e(function(qe){var Ge,tt,Je,dr,Xe=ke.result;Xe?(Xe.___id=++M1,Xe.done=!1,Ge=Xe.continue.bind(Xe),tt=(tt=Xe.continuePrimaryKey)&&tt.bind(Xe),Je=Xe.advance.bind(Xe),dr=function(){throw new Error("Cursor not stopped")},Xe.trans=W,Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=function(){throw new Error("Cursor not started")},Xe.fail=_e(be),Xe.next=function(){var an=this,sn=1;return this.start(function(){return sn--?an.continue():an.stop()}).then(function(){return an})},Xe.start=function(an){function sn(){if(ke.result)try{an()}catch(wn){Xe.fail(wn)}else Xe.done=!0,Xe.start=function(){throw new Error("Cursor behind last entry")},Xe.stop()}var Au=new Promise(function(wn,Gi){wn=_e(wn),ke.onerror=Rr(Gi),Xe.fail=Gi,Xe.stop=function(of){Xe.stop=Xe.continue=Xe.continuePrimaryKey=Xe.advance=dr,wn(of)}});return ke.onsuccess=_e(function(wn){ke.onsuccess=sn,sn()}),Xe.continue=Ge,Xe.continuePrimaryKey=tt,Xe.advance=Je,sn(),Au},de(Xe)):de(null)},be)})},count:function(J){var W=J.query,ee=J.trans,ne=W.index,oe=W.range;return new Promise(function(ae,de){var be=ee.objectStore(H),ve=ne.isPrimaryKey?be:be.index(ne.name),be=b(oe),ve=be?ve.count(be):ve.count();ve.onsuccess=_e(function(ge){return ae(ge.target.result)}),ve.onerror=Rr(de)})}}}var T,A,j,Q=(A=K,j=km((T=l).objectStoreNames),{schema:{name:T.name,tables:j.map(function(G){return A.objectStore(G)}).map(function(G){var q=G.keyPath,W=G.autoIncrement,H=s(q),J={},W={name:G.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:q==null,compound:H,keyPath:q,autoIncrement:W,unique:!0,extractKey:Bc(q)},indexes:km(G.indexNames).map(function(ee){return G.index(ee)}).map(function(ae){var ne=ae.name,oe=ae.unique,de=ae.multiEntry,ae=ae.keyPath,de={name:ne,compound:s(ae),keyPath:ae,unique:oe,multiEntry:de,extractKey:Bc(ae)};return J[Wa(ae)]=de}),getIndexByKeyPath:function(ee){return J[Wa(ee)]}};return J[":id"]=W.primaryKey,q!=null&&(J[Wa(q)]=W.primaryKey),W})},hasGetAll:0<j.length&&"getAll"in A.objectStore(j[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),K=Q.schema,z=Q.hasGetAll,Q=K.tables.map(x),U={};return Q.forEach(function(G){return U[G.name]=G}),{stack:"dbcore",transaction:l.transaction.bind(l),table:function(G){if(!U[G])throw new Error("Table '".concat(G,"' not found"));return U[G]},MIN_KEY:-1/0,MAX_KEY:Ka(c),schema:K}}function j1(l,c,v,b){var x=v.IDBKeyRange;return v.indexedDB,{dbcore:(b=N1(c,x,b),l.dbcore.reduce(function(T,A){return A=A.create,r(r({},T),A(T))},b))}}function bu(l,b){var v=b.db,b=j1(l._middlewares,v,l._deps,b);l.core=b.dbcore,l.tables.forEach(function(x){var T=x.name;l.core.schema.tables.some(function(A){return A.name===T})&&(x.core=l.core.table(T),l[T]instanceof l.Table&&(l[T].core=x.core))})}function Su(l,c,v,b){v.forEach(function(x){var T=b[x];c.forEach(function(A){var j=function K(z,Q){return I(z,Q)||(z=d(z))&&K(z,Q)}(A,x);(!j||"value"in j&&j.value===void 0)&&(A===l.Transaction.prototype||A instanceof l.Transaction?g(A,x,{get:function(){return this.table(x)},set:function(K){w(this,x,{value:K,writable:!0,configurable:!0,enumerable:!0})}}):A[x]=new l.Table(x,T))})})}function $c(l,c){c.forEach(function(v){for(var b in v)v[b]instanceof l.Table&&delete v[b]})}function F1(l,c){return l._cfg.version-c._cfg.version}function B1(l,c,v,b){var x=l._dbSchema;v.objectStoreNames.contains("$meta")&&!x.$meta&&(x.$meta=Fc("$meta",Om("")[0],[]),l._storeNames.push("$meta"));var T=l._createTransaction("readwrite",l._storeNames,x);T.create(v),T._completion.catch(b);var A=T._reject.bind(T),j=Oe.transless||Oe;gt(function(){return Oe.trans=T,Oe.transless=j,c!==0?(bu(l,v),z=c,((K=T).storeNames.includes("$meta")?K.table("$meta").get("version").then(function(Q){return Q??z}):xe.resolve(z)).then(function(Q){return G=Q,q=T,H=v,J=[],Q=(U=l)._versions,W=U._dbSchema=Cu(0,U.idbdb,H),(Q=Q.filter(function(ee){return ee._cfg.version>=G})).length!==0?(Q.forEach(function(ee){J.push(function(){var ne=W,oe=ee._cfg.dbschema;xu(U,ne,H),xu(U,oe,H),W=U._dbSchema=oe;var ae=Uc(ne,oe);ae.add.forEach(function(Se){zc(H,Se[0],Se[1].primKey,Se[1].indexes)}),ae.change.forEach(function(Se){if(Se.recreate)throw new Ae.Upgrade("Not yet support for changing primary key");var ke=H.objectStore(Se.name);Se.add.forEach(function(qe){return Eu(ke,qe)}),Se.change.forEach(function(qe){ke.deleteIndex(qe.name),Eu(ke,qe)}),Se.del.forEach(function(qe){return ke.deleteIndex(qe)})});var de=ee._cfg.contentUpgrade;if(de&&ee._cfg.version>G){bu(U,H),q._memoizedTables={};var be=L(oe);ae.del.forEach(function(Se){be[Se]=ne[Se]}),$c(U,[U.Transaction.prototype]),Su(U,[U.Transaction.prototype],a(be),be),q.schema=be;var ve,ge=Ne(de);return ge&&An(),ae=xe.follow(function(){var Se;(ve=de(q))&&ge&&(Se=Jn.bind(null,null),ve.then(Se,Se))}),ve&&typeof ve.then=="function"?xe.resolve(ve):ae.then(function(){return ve})}}),J.push(function(ne){var oe,ae,de=ee._cfg.dbschema;oe=de,ae=ne,[].slice.call(ae.db.objectStoreNames).forEach(function(be){return oe[be]==null&&ae.db.deleteObjectStore(be)}),$c(U,[U.Transaction.prototype]),Su(U,[U.Transaction.prototype],U._storeNames,U._dbSchema),q.schema=U._dbSchema}),J.push(function(ne){U.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(U.idbdb.version/10)===ee._cfg.version?(U.idbdb.deleteObjectStore("$meta"),delete U._dbSchema.$meta,U._storeNames=U._storeNames.filter(function(oe){return oe!=="$meta"})):ne.objectStore("$meta").put(ee._cfg.version,"version"))})}),function ee(){return J.length?xe.resolve(J.shift()(q.idbtrans)).then(ee):xe.resolve()}().then(function(){Rm(W,H)})):xe.resolve();var U,G,q,H,J,W}).catch(A)):(a(x).forEach(function(Q){zc(v,Q,x[Q].primKey,x[Q].indexes)}),bu(l,v),void xe.follow(function(){return l.on.populate.fire(T)}).catch(A));var K,z})}function $1(l,c){Rm(l._dbSchema,c),c.db.version%10!=0||c.objectStoreNames.contains("$meta")||c.db.createObjectStore("$meta").add(Math.ceil(c.db.version/10-1),"version");var v=Cu(0,l.idbdb,c);xu(l,l._dbSchema,c);for(var b=0,x=Uc(v,l._dbSchema).change;b<x.length;b++){var T=function(A){if(A.change.length||A.recreate)return console.warn("Unable to patch indexes of table ".concat(A.name," because it has changes on the type of index or primary key.")),{value:void 0};var j=c.objectStore(A.name);A.add.forEach(function(K){_&&console.debug("Dexie upgrade patch: Creating missing index ".concat(A.name,".").concat(K.src)),Eu(j,K)})}(x[b]);if(typeof T=="object")return T.value}}function Uc(l,c){var v,b={del:[],add:[],change:[]};for(v in l)c[v]||b.del.push(v);for(v in c){var x=l[v],T=c[v];if(x){var A={name:v,def:T,recreate:!1,del:[],add:[],change:[]};if(""+(x.primKey.keyPath||"")!=""+(T.primKey.keyPath||"")||x.primKey.auto!==T.primKey.auto)A.recreate=!0,b.change.push(A);else{var j=x.idxByName,K=T.idxByName,z=void 0;for(z in j)K[z]||A.del.push(z);for(z in K){var Q=j[z],U=K[z];Q?Q.src!==U.src&&A.change.push(U):A.add.push(U)}(0<A.del.length||0<A.add.length||0<A.change.length)&&b.change.push(A)}}else b.add.push([v,T])}return b}function zc(l,c,v,b){var x=l.db.createObjectStore(c,v.keyPath?{keyPath:v.keyPath,autoIncrement:v.auto}:{autoIncrement:v.auto});return b.forEach(function(T){return Eu(x,T)}),x}function Rm(l,c){a(l).forEach(function(v){c.db.objectStoreNames.contains(v)||(_&&console.debug("Dexie: Creating missing table",v),zc(c,v,l[v].primKey,l[v].indexes))})}function Eu(l,c){l.createIndex(c.name,c.keyPath,{unique:c.unique,multiEntry:c.multi})}function Cu(l,c,v){var b={};return C(c.objectStoreNames,0).forEach(function(x){for(var T=v.objectStore(x),A=jc(xm(z=T.keyPath),z||"",!0,!1,!!T.autoIncrement,z&&typeof z!="string",!0),j=[],K=0;K<T.indexNames.length;++K){var Q=T.index(T.indexNames[K]),z=Q.keyPath,Q=jc(Q.name,z,!!Q.unique,!!Q.multiEntry,!1,z&&typeof z!="string",!1);j.push(Q)}b[x]=Fc(x,A,j)}),b}function xu(l,c,v){for(var b=v.db.objectStoreNames,x=0;x<b.length;++x){var T=b[x],A=v.objectStore(T);l._hasGetAll="getAll"in A;for(var j=0;j<A.indexNames.length;++j){var K=A.indexNames[j],z=A.index(K).keyPath,Q=typeof z=="string"?z:"["+C(z).join("+")+"]";!c[T]||(z=c[T].idxByName[Q])&&(z.name=K,delete c[T].idxByName[Q],c[T].idxByName[K]=z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(l._hasGetAll=!1)}function Om(l){return l.split(",").map(function(c,v){var b=(c=c.trim()).replace(/([&*]|\+\+)/g,""),x=/^\[/.test(b)?b.match(/^\[(.*)\]$/)[1].split("+"):b;return jc(b,x||null,/\&/.test(c),/\*/.test(c),/\+\+/.test(c),s(x),v===0)})}var U1=(ku.prototype._parseStoresSpec=function(l,c){a(l).forEach(function(v){if(l[v]!==null){var b=Om(l[v]),x=b.shift();if(x.unique=!0,x.multi)throw new Ae.Schema("Primary key cannot be multi-valued");b.forEach(function(T){if(T.auto)throw new Ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!T.keyPath)throw new Ae.Schema("Index must have a name and cannot be an empty string")}),c[v]=Fc(v,x,b)}})},ku.prototype.stores=function(v){var c=this.db;this._cfg.storesSource=this._cfg.storesSource?u(this._cfg.storesSource,v):v;var v=c._versions,b={},x={};return v.forEach(function(T){u(b,T._cfg.storesSource),x=T._cfg.dbschema={},T._parseStoresSpec(b,x)}),c._dbSchema=x,$c(c,[c._allTables,c,c.Transaction.prototype]),Su(c,[c._allTables,c,c.Transaction.prototype,this._cfg.tables],a(x),x),c._storeNames=a(x),this},ku.prototype.upgrade=function(l){return this._cfg.contentUpgrade=f(this._cfg.contentUpgrade||Qe,l),this},ku);function ku(){}function qc(l,c){var v=l._dbNamesDB;return v||(v=l._dbNamesDB=new Ur(Bo,{addons:[],indexedDB:l,IDBKeyRange:c})).version(1).stores({dbnames:"name"}),v.table("dbnames")}function Kc(l){return l&&typeof l.databases=="function"}function Wc(l){return gt(function(){return Oe.letThrough=!0,l()})}function Hc(l){return!("from"in l)}var on=function(l,c){if(!this){var v=new on;return l&&"d"in l&&u(v,l),v}u(this,arguments.length?{d:1,from:l,to:1<arguments.length?c:l}:{d:0})};function Ha(l,c,v){var b=ft(c,v);if(!isNaN(b)){if(0<b)throw RangeError();if(Hc(l))return u(l,{from:c,to:v,d:1});var x=l.l,b=l.r;if(ft(v,l.from)<0)return x?Ha(x,c,v):l.l={from:c,to:v,d:1,l:null,r:null},Pm(l);if(0<ft(c,l.to))return b?Ha(b,c,v):l.r={from:c,to:v,d:1,l:null,r:null},Pm(l);ft(c,l.from)<0&&(l.from=c,l.l=null,l.d=b?b.d+1:1),0<ft(v,l.to)&&(l.to=v,l.r=null,l.d=l.l?l.l.d+1:1),v=!l.r,x&&!l.l&&Va(l,x),b&&v&&Va(l,b)}}function Va(l,c){Hc(c)||function v(b,K){var T=K.from,A=K.to,j=K.l,K=K.r;Ha(b,T,A),j&&v(b,j),K&&v(b,K)}(l,c)}function Ru(l,c){var v=Vc(c),b=v.next();if(b.done)return!1;for(var x=b.value,T=Vc(l),A=T.next(x.from),j=A.value;!b.done&&!A.done;){if(ft(j.from,x.to)<=0&&0<=ft(j.to,x.from))return!0;ft(x.from,j.from)<0?x=(b=v.next(j.from)).value:j=(A=T.next(x.from)).value}return!1}function Vc(l){var c=Hc(l)?null:{s:0,n:l};return{next:function(v){for(var b=0<arguments.length;c;)switch(c.s){case 0:if(c.s=1,b)for(;c.n.l&&ft(v,c.n.from)<0;)c={up:c,n:c.n.l,s:1};else for(;c.n.l;)c={up:c,n:c.n.l,s:1};case 1:if(c.s=2,!b||ft(v,c.n.to)<=0)return{value:c.n,done:!1};case 2:if(c.n.r){c.s=3,c={up:c,n:c.n.r,s:0};continue}case 3:c=c.up}return{done:!0}}}}function Pm(l){var c,v,b=(((c=l.r)===null||c===void 0?void 0:c.d)||0)-(((v=l.l)===null||v===void 0?void 0:v.d)||0),x=1<b?"r":b<-1?"l":"";x&&(c=x=="r"?"l":"r",v=r({},l),b=l[x],l.from=b.from,l.to=b.to,l[x]=b[x],v[x]=b[c],(l[c]=v).d=Dm(v)),l.d=Dm(l)}function Dm(v){var c=v.r,v=v.l;return(c?v?Math.max(c.d,v.d):c.d:v?v.d:0)+1}function Ou(l,c){return a(c).forEach(function(v){l[v]?Va(l[v],c[v]):l[v]=function b(x){var T,A,j={};for(T in x)h(x,T)&&(A=x[T],j[T]=!A||typeof A!="object"||F.has(A.constructor)?A:b(A));return j}(c[v])}),l}function Qc(l,c){return l.all||c.all||Object.keys(l).some(function(v){return c[v]&&Ru(c[v],l[v])})}p(on.prototype,((Xn={add:function(l){return Va(this,l),this},addKey:function(l){return Ha(this,l,l),this},addKeys:function(l){var c=this;return l.forEach(function(v){return Ha(c,v,v)}),this}})[Ce]=function(){return Vc(this)},Xn));var Qi={},Yc={},Gc=!1;function Pu(l){Ou(Yc,l),Gc||(Gc=!0,setTimeout(function(){Gc=!1,Jc(Yc,!(Yc={}))},0))}function Jc(l,c){c===void 0&&(c=!1);var v=new Set;if(l.all)for(var b=0,x=Object.values(Qi);b<x.length;b++)Tm(A=x[b],l,v,c);else for(var T in l){var A,j=/^idb\:\/\/(.*)\/(.*)\//.exec(T);j&&(T=j[1],j=j[2],(A=Qi["idb://".concat(T,"/").concat(j)])&&Tm(A,l,v,c))}v.forEach(function(K){return K()})}function Tm(l,c,v,b){for(var x=[],T=0,A=Object.entries(l.queries.query);T<A.length;T++){for(var j=A[T],K=j[0],z=[],Q=0,U=j[1];Q<U.length;Q++){var G=U[Q];Qc(c,G.obsSet)?G.subscribers.forEach(function(W){return v.add(W)}):b&&z.push(G)}b&&x.push([K,z])}if(b)for(var q=0,H=x;q<H.length;q++){var J=H[q],K=J[0],z=J[1];l.queries.query[K]=z}}function z1(l){var c=l._state,v=l._deps.indexedDB;if(c.isBeingOpened||l.idbdb)return c.dbReadyPromise.then(function(){return c.dbOpenError?wt(c.dbOpenError):l});c.isBeingOpened=!0,c.dbOpenError=null,c.openComplete=!1;var b=c.openCanceller,x=Math.round(10*l.verno),T=!1;function A(){if(c.openCanceller!==b)throw new Ae.DatabaseClosed("db.open() was cancelled")}function j(){return new xe(function(G,q){if(A(),!v)throw new Ae.MissingAPI;var H=l.name,J=c.autoSchema||!x?v.open(H):v.open(H,x);if(!J)throw new Ae.MissingAPI;J.onerror=Rr(q),J.onblocked=_e(l._fireOnBlocked),J.onupgradeneeded=_e(function(W){var ee;Q=J.transaction,c.autoSchema&&!l._options.allowEmptyDB?(J.onerror=za,Q.abort(),J.result.close(),(ee=v.deleteDatabase(H)).onsuccess=ee.onerror=_e(function(){q(new Ae.NoSuchDatabase("Database ".concat(H," doesnt exist")))})):(Q.onerror=Rr(q),W=W.oldVersion>Math.pow(2,62)?0:W.oldVersion,U=W<1,l.idbdb=J.result,T&&$1(l,Q),B1(l,W/10,Q,q))},q),J.onsuccess=_e(function(){Q=null;var W,ee,ne,oe,ae,de=l.idbdb=J.result,be=C(de.objectStoreNames);if(0<be.length)try{var ve=de.transaction((oe=be).length===1?oe[0]:oe,"readonly");if(c.autoSchema)ee=de,ne=ve,(W=l).verno=ee.version/10,ne=W._dbSchema=Cu(0,ee,ne),W._storeNames=C(ee.objectStoreNames,0),Su(W,[W._allTables],a(ne),ne);else if(xu(l,l._dbSchema,ve),((ae=Uc(Cu(0,(ae=l).idbdb,ve),ae._dbSchema)).add.length||ae.change.some(function(ge){return ge.add.length||ge.change.length}))&&!T)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),de.close(),x=de.version+1,T=!0,G(j());bu(l,ve)}catch{}fr.push(l),de.onversionchange=_e(function(ge){c.vcFired=!0,l.on("versionchange").fire(ge)}),de.onclose=_e(function(ge){l.on("close").fire(ge)}),U&&(ae=l._deps,ve=H,de=ae.indexedDB,ae=ae.IDBKeyRange,Kc(de)||ve===Bo||qc(de,ae).put({name:ve}).catch(Qe)),G()},q)}).catch(function(G){switch(G==null?void 0:G.name){case"UnknownError":if(0<c.PR1398_maxLoop)return c.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),j();break;case"VersionError":if(0<x)return x=0,j()}return xe.reject(G)})}var K,z=c.dbReadyResolve,Q=null,U=!1;return xe.race([b,(typeof navigator>"u"?xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(G){function q(){return indexedDB.databases().finally(G)}K=setInterval(q,100),q()}).finally(function(){return clearInterval(K)}):Promise.resolve()).then(j)]).then(function(){return A(),c.onReadyBeingFired=[],xe.resolve(Wc(function(){return l.on.ready.fire(l.vip)})).then(function G(){if(0<c.onReadyBeingFired.length){var q=c.onReadyBeingFired.reduce(f,Qe);return c.onReadyBeingFired=[],xe.resolve(Wc(function(){return q(l.vip)})).then(G)}})}).finally(function(){c.openCanceller===b&&(c.onReadyBeingFired=null,c.isBeingOpened=!1)}).catch(function(G){c.dbOpenError=G;try{Q&&Q.abort()}catch{}return b===c.openCanceller&&l._close(),wt(G)}).finally(function(){c.openComplete=!0,z()}).then(function(){var G;return U&&(G={},l.tables.forEach(function(q){q.schema.indexes.forEach(function(H){H.name&&(G["idb://".concat(l.name,"/").concat(q.name,"/").concat(H.name)]=new on(-1/0,[[[]]]))}),G["idb://".concat(l.name,"/").concat(q.name,"/")]=G["idb://".concat(l.name,"/").concat(q.name,"/:dels")]=new on(-1/0,[[[]]])}),hi(qa).fire(G),Jc(G,!0)),l})}function Xc(l){function c(T){return l.next(T)}var v=x(c),b=x(function(T){return l.throw(T)});function x(T){return function(K){var j=T(K),K=j.value;return j.done?K:K&&typeof K.then=="function"?K.then(v,b):s(K)?Promise.all(K).then(v,b):v(K)}}return x(c)()}function Du(l,c,v){for(var b=s(l)?l.slice():[l],x=0;x<v;++x)b.push(c);return b}var q1={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(l){return r(r({},l),{table:function(c){var v=l.table(c),b=v.schema,x={},T=[];function A(U,G,q){var H=Wa(U),J=x[H]=x[H]||[],W=U==null?0:typeof U=="string"?1:U.length,ee=0<G,ee=r(r({},q),{name:ee?"".concat(H,"(virtual-from:").concat(q.name,")"):q.name,lowLevelIndex:q,isVirtual:ee,keyTail:G,keyLength:W,extractKey:Bc(U),unique:!ee&&q.unique});return J.push(ee),ee.isPrimaryKey||T.push(ee),1<W&&A(W===2?U[0]:U.slice(0,W-1),G+1,q),J.sort(function(ne,oe){return ne.keyTail-oe.keyTail}),ee}c=A(b.primaryKey.keyPath,0,b.primaryKey),x[":id"]=[c];for(var j=0,K=b.indexes;j<K.length;j++){var z=K[j];A(z.keyPath,0,z)}function Q(U){var G,q=U.query.index;return q.isVirtual?r(r({},U),{query:{index:q.lowLevelIndex,range:(G=U.query.range,q=q.keyTail,{type:G.type===1?2:G.type,lower:Du(G.lower,G.lowerOpen?l.MAX_KEY:l.MIN_KEY,q),lowerOpen:!0,upper:Du(G.upper,G.upperOpen?l.MIN_KEY:l.MAX_KEY,q),upperOpen:!0})}}):U}return r(r({},v),{schema:r(r({},b),{primaryKey:c,indexes:T,getIndexByKeyPath:function(U){return(U=x[Wa(U)])&&U[0]}}),count:function(U){return v.count(Q(U))},query:function(U){return v.query(Q(U))},openCursor:function(U){var G=U.query.index,q=G.keyTail,H=G.isVirtual,J=G.keyLength;return H?v.openCursor(Q(U)).then(function(ee){return ee&&W(ee)}):v.openCursor(U);function W(ee){return Object.create(ee,{continue:{value:function(ne){ne!=null?ee.continue(Du(ne,U.reverse?l.MAX_KEY:l.MIN_KEY,q)):U.unique?ee.continue(ee.key.slice(0,J).concat(U.reverse?l.MIN_KEY:l.MAX_KEY,q)):ee.continue()}},continuePrimaryKey:{value:function(ne,oe){ee.continuePrimaryKey(Du(ne,l.MAX_KEY,q),oe)}},primaryKey:{get:function(){return ee.primaryKey}},key:{get:function(){var ne=ee.key;return J===1?ne[0]:ne.slice(0,J)}},value:{get:function(){return ee.value}}})}}})}})}};function Zc(l,c,v,b){return v=v||{},b=b||"",a(l).forEach(function(x){var T,A,j;h(c,x)?(T=l[x],A=c[x],typeof T=="object"&&typeof A=="object"&&T&&A?(j=Re(T))!==Re(A)?v[b+x]=c[x]:j==="Object"?Zc(T,A,v,b+x+"."):T!==A&&(v[b+x]=c[x]):T!==A&&(v[b+x]=c[x])):v[b+x]=void 0}),a(c).forEach(function(x){h(l,x)||(v[b+x]=c[x])}),v}function ef(l,c){return c.type==="delete"?c.keys:c.keys||c.values.map(l.extractKey)}var K1={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(l){return r(r({},l),{table:function(c){var v=l.table(c),b=v.schema.primaryKey;return r(r({},v),{mutate:function(x){var T=Oe.trans,A=T.table(c).hook,j=A.deleting,K=A.creating,z=A.updating;switch(x.type){case"add":if(K.fire===Qe)break;return T._promise("readwrite",function(){return Q(x)},!0);case"put":if(K.fire===Qe&&z.fire===Qe)break;return T._promise("readwrite",function(){return Q(x)},!0);case"delete":if(j.fire===Qe)break;return T._promise("readwrite",function(){return Q(x)},!0);case"deleteRange":if(j.fire===Qe)break;return T._promise("readwrite",function(){return function U(G,q,H){return v.query({trans:G,values:!1,query:{index:b,range:q},limit:H}).then(function(J){var W=J.result;return Q({type:"delete",keys:W,trans:G}).then(function(ee){return 0<ee.numFailures?Promise.reject(ee.failures[0]):W.length<H?{failures:[],numFailures:0,lastResult:void 0}:U(G,r(r({},q),{lower:W[W.length-1],lowerOpen:!0}),H)})})}(x.trans,x.range,1e4)},!0)}return v.mutate(x);function Q(U){var G,q,H,J=Oe.trans,W=U.keys||ef(b,U);if(!W)throw new Error("Keys missing");return(U=U.type==="add"||U.type==="put"?r(r({},U),{keys:W}):r({},U)).type!=="delete"&&(U.values=i([],U.values,!0)),U.keys&&(U.keys=i([],U.keys,!0)),G=v,H=W,((q=U).type==="add"?Promise.resolve([]):G.getMany({trans:q.trans,keys:H,cache:"immutable"})).then(function(ee){var ne=W.map(function(oe,ae){var de,be,ve,ge=ee[ae],Se={onerror:null,onsuccess:null};return U.type==="delete"?j.fire.call(Se,oe,ge,J):U.type==="add"||ge===void 0?(de=K.fire.call(Se,oe,U.values[ae],J),oe==null&&de!=null&&(U.keys[ae]=oe=de,b.outbound||P(U.values[ae],b.keyPath,oe))):(de=Zc(ge,U.values[ae]),(be=z.fire.call(Se,de,oe,ge,J))&&(ve=U.values[ae],Object.keys(be).forEach(function(ke){h(ve,ke)?ve[ke]=be[ke]:P(ve,ke,be[ke])}))),Se});return v.mutate(U).then(function(oe){for(var ae=oe.failures,de=oe.results,be=oe.numFailures,oe=oe.lastResult,ve=0;ve<W.length;++ve){var ge=(de||W)[ve],Se=ne[ve];ge==null?Se.onerror&&Se.onerror(ae[ve]):Se.onsuccess&&Se.onsuccess(U.type==="put"&&ee[ve]?U.values[ve]:ge)}return{failures:ae,results:de,numFailures:be,lastResult:oe}}).catch(function(oe){return ne.forEach(function(ae){return ae.onerror&&ae.onerror(oe)}),Promise.reject(oe)})})}}})}})}};function Im(l,c,v){try{if(!c||c.keys.length<l.length)return null;for(var b=[],x=0,T=0;x<c.keys.length&&T<l.length;++x)ft(c.keys[x],l[T])===0&&(b.push(v?ue(c.values[x]):c.values[x]),++T);return b.length===l.length?b:null}catch{return null}}var W1={stack:"dbcore",level:-1,create:function(l){return{table:function(c){var v=l.table(c);return r(r({},v),{getMany:function(b){if(!b.cache)return v.getMany(b);var x=Im(b.keys,b.trans._cache,b.cache==="clone");return x?xe.resolve(x):v.getMany(b).then(function(T){return b.trans._cache={keys:b.keys,values:b.cache==="clone"?ue(T):T},T})},mutate:function(b){return b.type!=="add"&&(b.trans._cache=null),v.mutate(b)}})}}}};function Am(l,c){return l.trans.mode==="readonly"&&!!l.subscr&&!l.trans.explicit&&l.trans.db._options.cache!=="disabled"&&!c.schema.primaryKey.outbound}function Lm(l,c){switch(l){case"query":return c.values&&!c.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var H1={stack:"dbcore",level:0,name:"Observability",create:function(l){var c=l.schema.name,v=new on(l.MIN_KEY,l.MAX_KEY);return r(r({},l),{transaction:function(b,x,T){if(Oe.subscr&&x!=="readonly")throw new Ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Oe.querier));return l.transaction(b,x,T)},table:function(b){var x=l.table(b),T=x.schema,A=T.primaryKey,U=T.indexes,j=A.extractKey,K=A.outbound,z=A.autoIncrement&&U.filter(function(q){return q.compound&&q.keyPath.includes(A.keyPath)}),Q=r(r({},x),{mutate:function(q){function H(ke){return ke="idb://".concat(c,"/").concat(b,"/").concat(ke),oe[ke]||(oe[ke]=new on)}var J,W,ee,ne=q.trans,oe=q.mutatedParts||(q.mutatedParts={}),ae=H(""),de=H(":dels"),be=q.type,Se=q.type==="deleteRange"?[q.range]:q.type==="delete"?[q.keys]:q.values.length<50?[ef(A,q).filter(function(ke){return ke}),q.values]:[],ve=Se[0],ge=Se[1],Se=q.trans._cache;return s(ve)?(ae.addKeys(ve),(Se=be==="delete"||ve.length===ge.length?Im(ve,Se):null)||de.addKeys(ve),(Se||ge)&&(J=H,W=Se,ee=ge,T.indexes.forEach(function(ke){var qe=J(ke.name||"");function Ge(Je){return Je!=null?ke.extractKey(Je):null}function tt(Je){return ke.multiEntry&&s(Je)?Je.forEach(function(dr){return qe.addKey(dr)}):qe.addKey(Je)}(W||ee).forEach(function(Je,an){var Xe=W&&Ge(W[an]),an=ee&&Ge(ee[an]);ft(Xe,an)!==0&&(Xe!=null&&tt(Xe),an!=null&&tt(an))})}))):ve?(ge={from:ve.lower,to:ve.upper},de.add(ge),ae.add(ge)):(ae.add(v),de.add(v),T.indexes.forEach(function(ke){return H(ke.name).add(v)})),x.mutate(q).then(function(ke){return!ve||q.type!=="add"&&q.type!=="put"||(ae.addKeys(ke.results),z&&z.forEach(function(qe){var Ge=q.values.map(function(Je){return qe.extractKey(Je)}),tt=qe.keyPath.findIndex(function(Je){return Je===A.keyPath});ke.results.forEach(function(Je){return Ge[tt]=Je}),H(qe.name).addKeys(Ge)})),ne.mutatedParts=Ou(ne.mutatedParts||{},oe),ke})}}),U=function(H){var J=H.query,H=J.index,J=J.range;return[H,new on((H=J.lower)!==null&&H!==void 0?H:l.MIN_KEY,(J=J.upper)!==null&&J!==void 0?J:l.MAX_KEY)]},G={get:function(q){return[A,new on(q.key)]},getMany:function(q){return[A,new on().addKeys(q.keys)]},count:U,query:U,openCursor:U};return a(G).forEach(function(q){Q[q]=function(H){var J=Oe.subscr,W=!!J,ee=Am(Oe,x)&&Lm(q,H)?H.obsSet={}:J;if(W){var ne=function(ge){return ge="idb://".concat(c,"/").concat(b,"/").concat(ge),ee[ge]||(ee[ge]=new on)},oe=ne(""),ae=ne(":dels"),J=G[q](H),W=J[0],J=J[1];if((q==="query"&&W.isPrimaryKey&&!H.values?ae:ne(W.name||"")).add(J),!W.isPrimaryKey){if(q!=="count"){var de=q==="query"&&K&&H.values&&x.query(r(r({},H),{values:!1}));return x[q].apply(this,arguments).then(function(ge){if(q==="query"){if(K&&H.values)return de.then(function(Ge){return Ge=Ge.result,oe.addKeys(Ge),ge});var Se=H.values?ge.result.map(j):ge.result;(H.values?oe:ae).addKeys(Se)}else if(q==="openCursor"){var ke=ge,qe=H.values;return ke&&Object.create(ke,{key:{get:function(){return ae.addKey(ke.primaryKey),ke.key}},primaryKey:{get:function(){var Ge=ke.primaryKey;return ae.addKey(Ge),Ge}},value:{get:function(){return qe&&oe.addKey(ke.primaryKey),ke.value}}})}return ge})}ae.add(v)}}return x[q].apply(this,arguments)}}),Q}})}};function Mm(l,c,v){if(v.numFailures===0)return c;if(c.type==="deleteRange")return null;var b=c.keys?c.keys.length:"values"in c&&c.values?c.values.length:1;return v.numFailures===b?null:(c=r({},c),s(c.keys)&&(c.keys=c.keys.filter(function(x,T){return!(T in v.failures)})),"values"in c&&s(c.values)&&(c.values=c.values.filter(function(x,T){return!(T in v.failures)})),c)}function tf(l,c){return v=l,((b=c).lower===void 0||(b.lowerOpen?0<ft(v,b.lower):0<=ft(v,b.lower)))&&(l=l,(c=c).upper===void 0||(c.upperOpen?ft(l,c.upper)<0:ft(l,c.upper)<=0));var v,b}function Nm(l,c,G,b,x,T){if(!G||G.length===0)return l;var A=c.query.index,j=A.multiEntry,K=c.query.range,z=b.schema.primaryKey.extractKey,Q=A.extractKey,U=(A.lowLevelIndex||A).extractKey,G=G.reduce(function(q,H){var J=q,W=H.type==="add"||H.type==="put"?H.values.filter(function(ae){return ae=Q(ae),j&&s(ae)?ae.some(function(de){return tf(de,K)}):tf(ae,K)}).map(function(ae){return ae=ue(ae),T&&Object.freeze(ae),ae}):[];switch(H.type){case"add":J=q.concat(c.values?W:W.map(function(de){return z(de)}));break;case"put":var ee=new on().addKeys(H.values.map(function(de){return z(de)})),J=q.filter(function(de){return de=c.values?z(de):de,!Ru(new on(de),ee)}).concat(c.values?W:W.map(function(de){return z(de)}));break;case"delete":var ne=new on().addKeys(H.keys);J=q.filter(function(de){return de=c.values?z(de):de,!Ru(new on(de),ne)});break;case"deleteRange":var oe=H.range;J=q.filter(function(de){return!tf(z(de),oe)})}return J},l);return G===l?l:(G.sort(function(q,H){return ft(U(q),U(H))||ft(z(q),z(H))}),c.limit&&c.limit<1/0&&(G.length>c.limit?G.length=c.limit:l.length===c.limit&&G.length<c.limit&&(x.dirty=!0)),T?Object.freeze(G):G)}function jm(l,c){return ft(l.lower,c.lower)===0&&ft(l.upper,c.upper)===0&&!!l.lowerOpen==!!c.lowerOpen&&!!l.upperOpen==!!c.upperOpen}function V1(l,c){return function(v,b,x,T){if(v===void 0)return b!==void 0?-1:0;if(b===void 0)return 1;if((b=ft(v,b))===0){if(x&&T)return 0;if(x)return 1;if(T)return-1}return b}(l.lower,c.lower,l.lowerOpen,c.lowerOpen)<=0&&0<=function(v,b,x,T){if(v===void 0)return b!==void 0?1:0;if(b===void 0)return-1;if((b=ft(v,b))===0){if(x&&T)return 0;if(x)return-1;if(T)return 1}return b}(l.upper,c.upper,l.upperOpen,c.upperOpen)}function Q1(l,c,v,b){l.subscribers.add(v),b.addEventListener("abort",function(){var x,T;l.subscribers.delete(v),l.subscribers.size===0&&(x=l,T=c,setTimeout(function(){x.subscribers.size===0&&fe(T,x)},3e3))})}var Y1={stack:"dbcore",level:0,name:"Cache",create:function(l){var c=l.schema.name;return r(r({},l),{transaction:function(v,b,x){var T,A,j=l.transaction(v,b,x);return b==="readwrite"&&(A=(T=new AbortController).signal,x=function(K){return function(){if(T.abort(),b==="readwrite"){for(var z=new Set,Q=0,U=v;Q<U.length;Q++){var G=U[Q],q=Qi["idb://".concat(c,"/").concat(G)];if(q){var H=l.table(G),J=q.optimisticOps.filter(function(qe){return qe.trans===j});if(j._explicit&&K&&j.mutatedParts)for(var W=0,ee=Object.values(q.queries.query);W<ee.length;W++)for(var ne=0,oe=(be=ee[W]).slice();ne<oe.length;ne++)Qc((ve=oe[ne]).obsSet,j.mutatedParts)&&(fe(be,ve),ve.subscribers.forEach(function(qe){return z.add(qe)}));else if(0<J.length){q.optimisticOps=q.optimisticOps.filter(function(qe){return qe.trans!==j});for(var ae=0,de=Object.values(q.queries.query);ae<de.length;ae++)for(var be,ve,ge,Se=0,ke=(be=de[ae]).slice();Se<ke.length;Se++)(ve=ke[Se]).res!=null&&j.mutatedParts&&(K&&!ve.dirty?(ge=Object.isFrozen(ve.res),ge=Nm(ve.res,ve.req,J,H,ve,ge),ve.dirty?(fe(be,ve),ve.subscribers.forEach(function(qe){return z.add(qe)})):ge!==ve.res&&(ve.res=ge,ve.promise=xe.resolve({result:ge}))):(ve.dirty&&fe(be,ve),ve.subscribers.forEach(function(qe){return z.add(qe)})))}}}z.forEach(function(qe){return qe()})}}},j.addEventListener("abort",x(!1),{signal:A}),j.addEventListener("error",x(!1),{signal:A}),j.addEventListener("complete",x(!0),{signal:A})),j},table:function(v){var b=l.table(v),x=b.schema.primaryKey;return r(r({},b),{mutate:function(T){var A=Oe.trans;if(x.outbound||A.db._options.cache==="disabled"||A.explicit)return b.mutate(T);var j=Qi["idb://".concat(c,"/").concat(v)];return j?(A=b.mutate(T),T.type!=="add"&&T.type!=="put"||!(50<=T.values.length||ef(x,T).some(function(K){return K==null}))?(j.optimisticOps.push(T),T.mutatedParts&&Pu(T.mutatedParts),A.then(function(K){0<K.numFailures&&(fe(j.optimisticOps,T),(K=Mm(0,T,K))&&j.optimisticOps.push(K),T.mutatedParts&&Pu(T.mutatedParts))}),A.catch(function(){fe(j.optimisticOps,T),T.mutatedParts&&Pu(T.mutatedParts)})):A.then(function(K){var z=Mm(0,r(r({},T),{values:T.values.map(function(q,U){var G,q=(G=x.keyPath)!==null&&G!==void 0&&G.includes(".")?ue(q):r({},q);return P(q,x.keyPath,K.results[U]),q})}),K);j.optimisticOps.push(z),queueMicrotask(function(){return T.mutatedParts&&Pu(T.mutatedParts)})}),A):b.mutate(T)},query:function(T){if(!Am(Oe,b)||!Lm("query",T))return b.query(T);var A=((z=Oe.trans)===null||z===void 0?void 0:z.db._options.cache)==="immutable",U=Oe,j=U.requery,K=U.signal,z=function(H,J,W,ee){var ne=Qi["idb://".concat(H,"/").concat(J)];if(!ne)return[];if(!(J=ne.queries[W]))return[null,!1,ne,null];var oe=J[(ee.query?ee.query.index.name:null)||""];if(!oe)return[null,!1,ne,null];switch(W){case"query":var ae=oe.find(function(de){return de.req.limit===ee.limit&&de.req.values===ee.values&&jm(de.req.query.range,ee.query.range)});return ae?[ae,!0,ne,oe]:[oe.find(function(de){return("limit"in de.req?de.req.limit:1/0)>=ee.limit&&(!ee.values||de.req.values)&&V1(de.req.query.range,ee.query.range)}),!1,ne,oe];case"count":return ae=oe.find(function(de){return jm(de.req.query.range,ee.query.range)}),[ae,!!ae,ne,oe]}}(c,v,"query",T),Q=z[0],U=z[1],G=z[2],q=z[3];return Q&&U?Q.obsSet=T.obsSet:(U=b.query(T).then(function(H){var J=H.result;if(Q&&(Q.res=J),A){for(var W=0,ee=J.length;W<ee;++W)Object.freeze(J[W]);Object.freeze(J)}else H.result=ue(J);return H}).catch(function(H){return q&&Q&&fe(q,Q),Promise.reject(H)}),Q={obsSet:T.obsSet,promise:U,subscribers:new Set,type:"query",req:T,dirty:!1},q?q.push(Q):(q=[Q],(G=G||(Qi["idb://".concat(c,"/").concat(v)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[T.query.index.name||""]=q)),Q1(Q,q,j,K),Q.promise.then(function(H){return{result:Nm(H.result,T,G==null?void 0:G.optimisticOps,b,Q,A)}})}})}})}};function Tu(l,c){return new Proxy(l,{get:function(v,b,x){return b==="db"?c:Reflect.get(v,b,x)}})}var Ur=(Nt.prototype.version=function(l){if(isNaN(l)||l<.1)throw new Ae.Type("Given version is not a positive number");if(l=Math.round(10*l)/10,this.idbdb||this._state.isBeingOpened)throw new Ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,l);var c=this._versions,v=c.filter(function(b){return b._cfg.version===l})[0];return v||(v=new this.Version(l),c.push(v),c.sort(F1),v.stores({}),this._state.autoSchema=!1,v)},Nt.prototype._whenReady=function(l){var c=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?l():new xe(function(v,b){if(c._state.openComplete)return b(new Ae.DatabaseClosed(c._state.dbOpenError));if(!c._state.isBeingOpened){if(!c._state.autoOpen)return void b(new Ae.DatabaseClosed);c.open().catch(Qe)}c._state.dbReadyPromise.then(v,b)}).then(l)},Nt.prototype.use=function(l){var c=l.stack,v=l.create,b=l.level,x=l.name;return x&&this.unuse({stack:c,name:x}),l=this._middlewares[c]||(this._middlewares[c]=[]),l.push({stack:c,create:v,level:b??10,name:x}),l.sort(function(T,A){return T.level-A.level}),this},Nt.prototype.unuse=function(l){var c=l.stack,v=l.name,b=l.create;return c&&this._middlewares[c]&&(this._middlewares[c]=this._middlewares[c].filter(function(x){return b?x.create!==b:!!v&&x.name!==v})),this},Nt.prototype.open=function(){var l=this;return Ln(Xt,function(){return z1(l)})},Nt.prototype._close=function(){var l=this._state,c=fr.indexOf(this);if(0<=c&&fr.splice(c,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}l.isBeingOpened||(l.dbReadyPromise=new xe(function(v){l.dbReadyResolve=v}),l.openCanceller=new xe(function(v,b){l.cancelOpen=b}))},Nt.prototype.close=function(v){var c=(v===void 0?{disableAutoOpen:!0}:v).disableAutoOpen,v=this._state;c?(v.isBeingOpened&&v.cancelOpen(new Ae.DatabaseClosed),this._close(),v.autoOpen=!1,v.dbOpenError=new Ae.DatabaseClosed):(this._close(),v.autoOpen=this._options.autoOpen||v.isBeingOpened,v.openComplete=!1,v.dbOpenError=null)},Nt.prototype.delete=function(l){var c=this;l===void 0&&(l={disableAutoOpen:!0});var v=0<arguments.length&&typeof arguments[0]!="object",b=this._state;return new xe(function(x,T){function A(){c.close(l);var j=c._deps.indexedDB.deleteDatabase(c.name);j.onsuccess=_e(function(){var K,z,Q;K=c._deps,z=c.name,Q=K.indexedDB,K=K.IDBKeyRange,Kc(Q)||z===Bo||qc(Q,K).delete(z).catch(Qe),x()}),j.onerror=Rr(T),j.onblocked=c._fireOnBlocked}if(v)throw new Ae.InvalidArgument("Invalid closeOptions argument to db.delete()");b.isBeingOpened?b.dbReadyPromise.then(A):A()})},Nt.prototype.backendDB=function(){return this.idbdb},Nt.prototype.isOpen=function(){return this.idbdb!==null},Nt.prototype.hasBeenClosed=function(){var l=this._state.dbOpenError;return l&&l.name==="DatabaseClosed"},Nt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Nt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Nt.prototype,"tables",{get:function(){var l=this;return a(this._allTables).map(function(c){return l._allTables[c]})},enumerable:!1,configurable:!0}),Nt.prototype.transaction=function(){var l=(function(c,v,b){var x=arguments.length;if(x<2)throw new Ae.InvalidArgument("Too few arguments");for(var T=new Array(x-1);--x;)T[x-1]=arguments[x];return b=T.pop(),[c,N(T),b]}).apply(this,arguments);return this._transaction.apply(this,l)},Nt.prototype._transaction=function(l,c,v){var b=this,x=Oe.trans;x&&x.db===this&&l.indexOf("!")===-1||(x=null);var T,A,j=l.indexOf("?")!==-1;l=l.replace("!","").replace("?","");try{if(A=c.map(function(z){if(z=z instanceof b.Table?z.name:z,typeof z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return z}),l=="r"||l===Dc)T=Dc;else{if(l!="rw"&&l!=Tc)throw new Ae.InvalidArgument("Invalid transaction mode: "+l);T=Tc}if(x){if(x.mode===Dc&&T===Tc){if(!j)throw new Ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");x=null}x&&A.forEach(function(z){if(x&&x.storeNames.indexOf(z)===-1){if(!j)throw new Ae.SubTransaction("Table "+z+" not included in parent transaction.");x=null}}),j&&x&&!x.active&&(x=null)}}catch(z){return x?x._promise(null,function(Q,U){U(z)}):wt(z)}var K=(function z(Q,U,G,q,H){return xe.resolve().then(function(){var J=Oe.transless||Oe,W=Q._createTransaction(U,G,Q._dbSchema,q);if(W.explicit=!0,J={trans:W,transless:J},q)W.idbtrans=q.idbtrans;else try{W.create(),W.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(oe){return oe.name===Mt.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return z(Q,U,G,null,H)})):wt(oe)}var ee,ne=Ne(H);return ne&&An(),J=xe.follow(function(){var oe;(ee=H.call(W,W))&&(ne?(oe=Jn.bind(null,null),ee.then(oe,oe)):typeof ee.next=="function"&&typeof ee.throw=="function"&&(ee=Xc(ee)))},J),(ee&&typeof ee.then=="function"?xe.resolve(ee).then(function(oe){return W.active?oe:wt(new Ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):J.then(function(){return ee})).then(function(oe){return q&&W._resolve(),W._completion.then(function(){return oe})}).catch(function(oe){return W._reject(oe),wt(oe)})})}).bind(null,this,T,A,x,v);return x?x._promise(T,K,"lock"):Oe.trans?Ln(Oe.transless,function(){return b._whenReady(K)}):this._whenReady(K)},Nt.prototype.table=function(l){if(!h(this._allTables,l))throw new Ae.InvalidTable("Table ".concat(l," does not exist"));return this._allTables[l]},Nt);function Nt(l,c){var v=this;this._middlewares={},this.verno=0;var b=Nt.dependencies;this._options=c=r({addons:Nt.addons,autoOpen:!0,indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange,cache:"cloned"},c),this._deps={indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange},b=c.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var x,T,A,j,K,z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Qe,dbReadyPromise:null,cancelOpen:Qe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:c.autoOpen};z.dbReadyPromise=new xe(function(U){z.dbReadyResolve=U}),z.openCanceller=new xe(function(U,G){z.cancelOpen=G}),this._state=z,this.name=l,this.on=$a(this,"populate","blocked","versionchange","close",{ready:[f,Qe]}),this.on.ready.subscribe=y(this.on.ready.subscribe,function(U){return function(G,q){Nt.vip(function(){var H,J=v._state;J.openComplete?(J.dbOpenError||xe.resolve().then(G),q&&U(G)):J.onReadyBeingFired?(J.onReadyBeingFired.push(G),q&&U(G)):(U(G),H=v,q||U(function W(){H.on.ready.unsubscribe(G),H.on.ready.unsubscribe(W)}))})}}),this.Collection=(x=this,Ua(T1.prototype,function(ee,W){this.db=x;var q=mm,H=null;if(W)try{q=W()}catch(ne){H=ne}var J=ee._ctx,W=J.table,ee=W.hook.reading.fire;this._ctx={table:W,index:J.index,isPrimKey:!J.index||W.schema.primKey.keyPath&&J.index===W.schema.primKey.name,range:q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:H,or:J.or,valueMapper:ee!==Bt?ee:null}})),this.Table=(T=this,Ua(wm.prototype,function(U,G,q){this.db=T,this._tx=q,this.name=U,this.schema=G,this.hook=T._allTables[U]?T._allTables[U].hook:$a(null,{creating:[ie,Qe],reading:[mn,Bt],updating:[Me,Qe],deleting:[me,Qe]})})),this.Transaction=(A=this,Ua(L1.prototype,function(U,G,q,H,J){var W=this;this.db=A,this.mode=U,this.storeNames=G,this.schema=q,this.chromeTransactionDurability=H,this.idbtrans=null,this.on=$a(this,"complete","error","abort"),this.parent=J||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new xe(function(ee,ne){W._resolve=ee,W._reject=ne}),this._completion.then(function(){W.active=!1,W.on.complete.fire()},function(ee){var ne=W.active;return W.active=!1,W.on.error.fire(ee),W.parent?W.parent._reject(ee):ne&&W.idbtrans&&W.idbtrans.abort(),wt(ee)})})),this.Version=(j=this,Ua(U1.prototype,function(U){this.db=j,this._cfg={version:U,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(K=this,Ua(Cm.prototype,function(U,G,q){if(this.db=K,this._ctx={table:U,index:G===":id"?null:G,or:q},this._cmp=this._ascending=ft,this._descending=function(H,J){return ft(J,H)},this._max=function(H,J){return 0<ft(H,J)?H:J},this._min=function(H,J){return ft(H,J)<0?H:J},this._IDBKeyRange=K._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ae.MissingAPI})),this.on("versionchange",function(U){0<U.newVersion?console.warn("Another connection wants to upgrade database '".concat(v.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(v.name,"'. Closing db now to resume the delete request.")),v.close({disableAutoOpen:!1})}),this.on("blocked",function(U){!U.newVersion||U.newVersion<U.oldVersion?console.warn("Dexie.delete('".concat(v.name,"') was blocked")):console.warn("Upgrade '".concat(v.name,"' blocked by other connection holding version ").concat(U.oldVersion/10))}),this._maxKey=Ka(c.IDBKeyRange),this._createTransaction=function(U,G,q,H){return new v.Transaction(U,G,q,v._options.chromeTransactionDurability,H)},this._fireOnBlocked=function(U){v.on("blocked").fire(U),fr.filter(function(G){return G.name===v.name&&G!==v&&!G._state.vcFired}).map(function(G){return G.on("versionchange").fire(U)})},this.use(W1),this.use(Y1),this.use(H1),this.use(q1),this.use(K1);var Q=new Proxy(this,{get:function(U,G,q){if(G==="_vip")return!0;if(G==="table")return function(J){return Tu(v.table(J),Q)};var H=Reflect.get(U,G,q);return H instanceof wm?Tu(H,Q):G==="tables"?H.map(function(J){return Tu(J,Q)}):G==="_createTransaction"?function(){return Tu(H.apply(this,arguments),Q)}:H}});this.vip=Q,b.forEach(function(U){return U(v)})}var Iu,Xn=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",G1=(nf.prototype.subscribe=function(l,c,v){return this._subscribe(l&&typeof l!="function"?l:{next:l,error:c,complete:v})},nf.prototype[Xn]=function(){return this},nf);function nf(l){this._subscribe=l}try{Iu={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch{Iu={indexedDB:null,IDBKeyRange:null}}function Fm(l){var c,v=!1,b=new G1(function(x){var T=Ne(l),A,j=!1,K={},z={},Q={get closed(){return j},unsubscribe:function(){j||(j=!0,A&&A.abort(),U&&hi.storagemutated.unsubscribe(q))}};x.start&&x.start(Q);var U=!1,G=function(){return kr(H)},q=function(J){Ou(K,J),Qc(z,K)&&G()},H=function(){var J,W,ee;!j&&Iu.indexedDB&&(K={},J={},A&&A.abort(),A=new AbortController,ee=function(ne){var oe=Pe();try{T&&An();var ae=gt(l,ne);return ae=T?ae.finally(Jn):ae}finally{oe&&He()}}(W={subscr:J,signal:A.signal,requery:G,querier:l,trans:null}),Promise.resolve(ee).then(function(ne){v=!0,c=ne,j||W.signal.aborted||(K={},function(oe){for(var ae in oe)if(h(oe,ae))return;return 1}(z=J)||U||(hi(qa,q),U=!0),kr(function(){return!j&&x.next&&x.next(ne)}))},function(ne){v=!1,["DatabaseClosedError","AbortError"].includes(ne==null?void 0:ne.name)||j||kr(function(){j||x.error&&x.error(ne)})}))};return setTimeout(G,0),Q});return b.hasValue=function(){return v},b.getValue=function(){return c},b}var Yi=Ur;function rf(l){var c=pi;try{pi=!0,hi.storagemutated.fire(l),Jc(l,!0)}finally{pi=c}}p(Yi,r(r({},xt),{delete:function(l){return new Yi(l,{addons:[]}).delete()},exists:function(l){return new Yi(l,{addons:[]}).open().then(function(c){return c.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(l){try{return c=Yi.dependencies,v=c.indexedDB,c=c.IDBKeyRange,(Kc(v)?Promise.resolve(v.databases()).then(function(b){return b.map(function(x){return x.name}).filter(function(x){return x!==Bo})}):qc(v,c).toCollection().primaryKeys()).then(l)}catch{return wt(new Ae.MissingAPI)}var c,v},defineClass:function(){return function(l){u(this,l)}},ignoreTransaction:function(l){return Oe.trans?Ln(Oe.transless,l):l()},vip:Wc,async:function(l){return function(){try{var c=Xc(l.apply(this,arguments));return c&&typeof c.then=="function"?c:xe.resolve(c)}catch(v){return wt(v)}}},spawn:function(l,c,v){try{var b=Xc(l.apply(v,c||[]));return b&&typeof b.then=="function"?b:xe.resolve(b)}catch(x){return wt(x)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(l,c){return c=xe.resolve(typeof l=="function"?Yi.ignoreTransaction(l):l).timeout(c||6e4),Oe.trans?Oe.trans.waitFor(c):c},Promise:xe,debug:{get:function(){return _},set:function(l){O(l)}},derive:E,extend:u,props:p,override:y,Events:$a,on:hi,liveQuery:Fm,extendObservabilitySet:Ou,getByKeyPath:k,setByKeyPath:P,delByKeyPath:function(l,c){typeof c=="string"?P(l,c,void 0):"length"in c&&[].map.call(c,function(v){P(l,v,void 0)})},shallowClone:L,deepClone:ue,getObjectDiff:Zc,cmp:ft,asap:D,minKey:-1/0,addons:[],connections:fr,errnames:Mt,dependencies:Iu,cache:Qi,semVer:"4.0.4",version:"4.0.4".split(".").map(function(l){return parseInt(l)}).reduce(function(l,c,v){return l+c/Math.pow(10,2*v)})})),Yi.maxKey=Ka(Yi.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(hi(qa,function(l){pi||(l=new CustomEvent(Nc,{detail:l}),pi=!0,dispatchEvent(l),pi=!1)}),addEventListener(Nc,function(l){l=l.detail,pi||rf(l)}));var zo,pi=!1,Bm=function(){};return typeof BroadcastChannel<"u"&&((Bm=function(){(zo=new BroadcastChannel(Nc)).onmessage=function(l){return l.data&&rf(l.data)}})(),typeof zo.unref=="function"&&zo.unref(),hi(qa,function(l){pi||zo.postMessage(l)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(l){if(!Ur.disableBfCache&&l.persisted){_&&console.debug("Dexie: handling persisted pagehide"),zo!=null&&zo.close();for(var c=0,v=fr;c<v.length;c++)v[c].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(l){!Ur.disableBfCache&&l.persisted&&(_&&console.debug("Dexie: handling persisted pageshow"),Bm(),rf({all:new on(-1/0,[[]])}))})),xe.rejectionMapper=function(l,c){return!l||l instanceof je||l instanceof TypeError||l instanceof SyntaxError||!l.name||!Yn[l.name]?l:(c=new Yn[l.name](c||l.message,l),"stack"in l&&g(c,"stack",{get:function(){return this.inner.stack}}),c)},O(_),r(Ur,Object.freeze({__proto__:null,Dexie:Ur,liveQuery:Fm,Entity:vm,cmp:ft,PropModSymbol:$r,PropModification:Lc,replacePrefix:function(l,c){return new Lc({replacePrefix:[l,c]})},default:Ur,RangeSet:on,mergeRanges:Va,rangesOverlap:Ru}),{default:Ur}),Ur})})(_1);var f2=_1.exports;const Dh=nc(f2),cg=Symbol.for("Dexie"),Th=globalThis[cg]||(globalThis[cg]=Dh);if(Dh.semVer!==Th.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Dh.semVer} and ${Th.semVer}`);var Zl="docs",d2="changes",fg="attachments",b1="dexie",dg=new Map,ml=new Map;function h2(e,t,n,r){var i="rxdb-dexie-"+e+"--"+r.version+"--"+t,o=jr(dg,i,()=>{var a=(async()=>{var s=dt(n);s.autoOpen=!1;var u=new Th(i,s),d={[Zl]:v2(r),[d2]:"++sequence, id",[fg]:"id"};return u.version(1).stores(d),await u.open(),{dexieDb:u,dexieTable:u[Zl],dexieAttachmentsTable:u[fg],booleanIndexes:y2(r)}})();return dg.set(i,o),ml.set(o,0),a});return o}async function p2(e){var t=await e,n=ml.get(e),r=n-1;r===0?(t.dexieDb.close(),ml.delete(e)):ml.set(e,r)}var Ih="__";function vu(e){var t=e.split(".");if(t.length>1)return t.map(r=>vu(r)).join(".");if(e.startsWith("|")){var n=e.substring(1);return Ih+n}else return e}function S1(e){var t=e.split(".");if(t.length>1)return t.map(r=>S1(r)).join(".");if(e.startsWith(Ih)){var n=e.substring(Ih.length);return"|"+n}else return e}function m2(e,t){return t&&(t=dt(t),t=Ah(t),e.forEach(n=>{var r=Ar(t,n),i=r?"1":"0";i_(t,n,i)}),t)}function E1(e,t){return t&&(t=dt(t),t=Lh(t),e.forEach(n=>{var r=Ar(t,n),i=r==="1";i_(t,n,i)}),t)}function Ah(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>Ah(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="object"&&(r=Ah(r)),t[vu(n)]=r}),t}}function Lh(e){if(!e||typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(Array.isArray(e))return e.map(n=>Lh(n));if(typeof e=="object"){var t={};return Object.entries(e).forEach(([n,r])=>{(typeof r=="object"||Array.isArray(e))&&(r=Lh(r)),t[S1(n)]=r}),t}}function v2(e){var t=[],n=Tn(e.primaryKey);t.push([n]),t.push(["_deleted",n]),e.indexes&&e.indexes.forEach(o=>{var a=Ws(o);t.push(a)}),t.push(["_meta.lwt",n]),t.push(["_meta.lwt"]),t=t.map(o=>o.map(a=>vu(a)));var r=t.map(o=>o.length===1?o[0]:"["+o.join("+")+"]");r=r.filter((o,a,s)=>s.indexOf(o)===a);var i=r.join(", ");return i}async function hg(e,t){var n=await e,r=await n.dexieTable.bulkGet(t);return r.map(i=>E1(n.booleanIndexes,i))}function Xu(e,t){return e+"||"+t}function y2(e){var t=new Set,n=[];return e.indexes?(e.indexes.forEach(r=>{var i=Ws(r);i.forEach(o=>{if(!t.has(o)){t.add(o);var a=Fr(e,o);a.type==="boolean"&&n.push(o)}})}),n.push("_deleted"),ik(n)):n}function pg(e){return e===pa?-1/0:e}function mg(e,t,n){if(e.includes(t)){var r=n===ha||n===!0?"1":"0";return r}else return n}function C1(e,t,n){if(!n){if(typeof window>"u")throw new Error("IDBKeyRange missing");n=window.IDBKeyRange}var r=t.startKeys.map((a,s)=>{var u=t.index[s];return mg(e,u,a)}).map(pg),i=t.endKeys.map((a,s)=>{var u=t.index[s];return mg(e,u,a)}).map(pg),o=n.bound(r,i,!t.inclusiveStart,!t.inclusiveEnd);return o}async function vg(e,t){var n=await e.internals,r=t.query,i=r.skip?r.skip:0,o=r.limit?r.limit:1/0,a=i+o,s=t.queryPlan,u=!1;s.selectorSatisfiedByIndex||(u=Zp(e.schema,t.query));var d=C1(n.booleanIndexes,s,n.dexieDb._options.IDBKeyRange),m=s.index,h=[];if(await n.dexieDb.transaction("r",n.dexieTable,async w=>{var g=w.idbtrans,E=g.objectStore(Zl),I,S;S="["+m.map(y=>vu(y)).join("+")+"]",I=E.index(S);var C=I.openCursor(d);await new Promise(y=>{C.onsuccess=function(R){var D=R.target.result;if(D){var k=E1(n.booleanIndexes,D.value);(!u||u(k))&&h.push(k),s.sortSatisfiedByIndex&&h.length===a?y():D.continue()}else y()}})}),!s.sortSatisfiedByIndex){var p=wb(e.schema,t.query);h=h.sort(p)}return h=h.slice(i,a),{documents:h}}async function g2(e,t){var n=await e.internals,r=t.queryPlan,i=r.index,o=C1(n.booleanIndexes,r,n.dexieDb._options.IDBKeyRange),a=-1;return await n.dexieDb.transaction("r",n.dexieTable,async s=>{var u=s.idbtrans,d=u.objectStore(Zl),m,h;h="["+i.map(w=>vu(w)).join("+")+"]",m=d.index(h);var p=m.count(o);a=await new Promise((w,g)=>{p.onsuccess=function(){w(p.result)},p.onerror=E=>g(E)})}),a}var w2=Jt(),_2=function(){function e(n,r,i,o,a,s,u){this.changes$=new yt,this.instanceId=w2++,this.storage=n,this.databaseName=r,this.collectionName=i,this.schema=o,this.internals=a,this.options=s,this.settings=u,this.primaryPath=Tn(this.schema.primaryKey)}var t=e.prototype;return t.bulkWrite=async function(r,i){Xi(this),r.forEach(m=>{if(!m.document._rev||m.previous&&!m.previous._rev)throw le("SNH",{args:{row:m}})});var o=await this.internals,a={success:[],error:[]},s=r.map(m=>m.document[this.primaryPath]),u;if(await o.dexieDb.transaction("rw",o.dexieTable,o.dexieAttachmentsTable,async()=>{var m=new Map,h=await hg(this.internals,s);h.forEach(g=>{var E=g;return E&&m.set(E[this.primaryPath],E),E}),u=lD(this,this.primaryPath,m,r,i),a.error=u.errors;var p=[];u.bulkInsertDocs.forEach(g=>{a.success.push(g.document),p.push(g.document)}),u.bulkUpdateDocs.forEach(g=>{a.success.push(g.document),p.push(g.document)}),p=p.map(g=>m2(o.booleanIndexes,g)),p.length>0&&await o.dexieTable.bulkPut(p);var w=[];u.attachmentsAdd.forEach(g=>{w.push({id:Xu(g.documentId,g.attachmentId),data:g.attachmentData.data})}),u.attachmentsUpdate.forEach(g=>{w.push({id:Xu(g.documentId,g.attachmentId),data:g.attachmentData.data})}),await o.dexieAttachmentsTable.bulkPut(w),await o.dexieAttachmentsTable.bulkDelete(u.attachmentsRemove.map(g=>Xu(g.documentId,g.attachmentId)))}),u=$e(u),u.eventBulk.events.length>0){var d=$e(u.newestRow).document;u.eventBulk.checkpoint={id:d[this.primaryPath],lwt:d._meta.lwt},u.eventBulk.endTime=Jt(),this.changes$.next(u.eventBulk)}return a},t.findDocumentsById=async function(r,i){Xi(this);var o=await this.internals,a=[];return await o.dexieDb.transaction("r",o.dexieTable,async()=>{var s=await hg(this.internals,r);s.forEach(u=>{u&&(!u._deleted||i)&&a.push(u)})}),a},t.query=function(r){return Xi(this),vg(this,r)},t.count=async function(r){if(r.queryPlan.selectorSatisfiedByIndex){var i=await g2(this,r);return{count:i,mode:"fast"}}else{var o=await vg(this,r);return{count:o.documents.length,mode:"slow"}}},t.changeStream=function(){return Xi(this),this.changes$.asObservable()},t.cleanup=async function(r){Xi(this);var i=await this.internals;return await i.dexieDb.transaction("rw",i.dexieTable,async()=>{var o=Jt()-r,a=await i.dexieTable.where("_meta.lwt").below(o).toArray(),s=[];a.forEach(u=>{u._deleted==="1"&&s.push(u[this.primaryPath])}),await i.dexieTable.bulkDelete(s)}),!0},t.getAttachmentData=async function(r,i,o){Xi(this);var a=await this.internals,s=Xu(r,i);return await a.dexieDb.transaction("r",a.dexieAttachmentsTable,async()=>{var u=await a.dexieAttachmentsTable.get(s);if(u)return u.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+i)})},t.remove=async function(){Xi(this);var r=await this.internals;return await r.dexieTable.clear(),this.close()},t.close=function(){return this.closed?this.closed:(this.closed=(async()=>{this.changes$.complete(),await p2(this.internals)})(),this.closed)},t.conflictResultionTasks=function(){return new yt},t.resolveConflictResultionTask=async function(r){},e}();async function b2(e,t,n){var r=h2(t.databaseName,t.collectionName,n,t.schema),i=new _2(e,t.databaseName,t.collectionName,t.schema,r,t.options,n);return await oI(b1,t,i),Promise.resolve(i)}function Xi(e){if(e.closed)throw new Error("RxStorageInstanceDexie is closed "+e.databaseName+"-"+e.collectionName)}var S2=function(){function e(n){this.name=b1,this.rxdbVersion=a_,this.settings=n}var t=e.prototype;return t.createStorageInstance=function(r){return dD(r),b2(this,r,this.settings)},e}();function ec(e={}){var t=new S2(e);return t}async function E2(e,t,n){var r=await e([t,n].join("|"))>await e([n,t].join("|"));return r}function sd(e,t,n){var r=n.id,i=ri(e.response$.pipe(rt(o=>o.peer===t),rt(o=>o.response.id===r),Bn(o=>o.response)));return e.send(t,n),i}function Zu(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var x1={exports:{}};(function(e,t){(function(n){e.exports=n()})(function(){var n=Math.floor,r=Math.abs,i=Math.pow;return function(){function o(a,s,u){function d(p,w){if(!s[p]){if(!a[p]){var g=typeof Zu=="function"&&Zu;if(!w&&g)return g(p,!0);if(m)return m(p,!0);var E=new Error("Cannot find module '"+p+"'");throw E.code="MODULE_NOT_FOUND",E}var I=s[p]={exports:{}};a[p][0].call(I.exports,function(S){var C=a[p][1][S];return d(C||S)},I,I.exports,o,a,s,u)}return s[p].exports}for(var m=typeof Zu=="function"&&Zu,h=0;h<u.length;h++)d(u[h]);return d}return o}()({1:[function(o,a,s){function u(R){var D=R.length;if(0<D%4)throw new Error("Invalid string. Length must be a multiple of 4");var k=R.indexOf("=");k===-1&&(k=D);var P=k===D?0:4-k%4;return[k,P]}function d(R,D,k){return 3*(D+k)/4-k}function m(R){var D,k,P=u(R),L=P[0],B=P[1],N=new I(d(R,L,B)),F=0,Z=0<B?L-4:L;for(k=0;k<Z;k+=4)D=E[R.charCodeAt(k)]<<18|E[R.charCodeAt(k+1)]<<12|E[R.charCodeAt(k+2)]<<6|E[R.charCodeAt(k+3)],N[F++]=255&D>>16,N[F++]=255&D>>8,N[F++]=255&D;return B===2&&(D=E[R.charCodeAt(k)]<<2|E[R.charCodeAt(k+1)]>>4,N[F++]=255&D),B===1&&(D=E[R.charCodeAt(k)]<<10|E[R.charCodeAt(k+1)]<<4|E[R.charCodeAt(k+2)]>>2,N[F++]=255&D>>8,N[F++]=255&D),N}function h(R){return g[63&R>>18]+g[63&R>>12]+g[63&R>>6]+g[63&R]}function p(R,D,k){for(var P,L=[],B=D;B<k;B+=3)P=(16711680&R[B]<<16)+(65280&R[B+1]<<8)+(255&R[B+2]),L.push(h(P));return L.join("")}function w(R){for(var D,k=R.length,P=k%3,L=[],B=16383,N=0,F=k-P;N<F;N+=B)L.push(p(R,N,N+B>F?F:N+B));return P===1?(D=R[k-1],L.push(g[D>>2]+g[63&D<<4]+"==")):P===2&&(D=(R[k-2]<<8)+R[k-1],L.push(g[D>>10]+g[63&D>>4]+g[63&D<<2]+"=")),L.join("")}s.byteLength=function(R){var D=u(R),k=D[0],P=D[1];return 3*(k+P)/4-P},s.toByteArray=m,s.fromByteArray=w;for(var g=[],E=[],I=typeof Uint8Array>"u"?Array:Uint8Array,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,y=S.length;C<y;++C)g[C]=S[C],E[S.charCodeAt(C)]=C;E[45]=62,E[95]=63},{}],2:[function(){},{}],3:[function(o,a,s){(function(){(function(){var u=String.fromCharCode,d=Math.min;function m(f){if(2147483647<f)throw new RangeError('The value "'+f+'" is invalid for option "size"');var _=new Uint8Array(f);return _.__proto__=h.prototype,_}function h(f,_,O){if(typeof f=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(f)}return p(f,_,O)}function p(f,_,O){if(typeof f=="string")return I(f,_);if(ArrayBuffer.isView(f))return S(f);if(f==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);if(X(f,ArrayBuffer)||f&&X(f.buffer,ArrayBuffer))return C(f,_,O);if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var $=f.valueOf&&f.valueOf();if($!=null&&$!==f)return h.from($,_,O);var V=y(f);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof f[Symbol.toPrimitive]=="function")return h.from(f[Symbol.toPrimitive]("string"),_,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f)}function w(f){if(typeof f!="number")throw new TypeError('"size" argument must be of type number');if(0>f)throw new RangeError('The value "'+f+'" is invalid for option "size"')}function g(f,_,O){return w(f),0>=f||_===void 0?m(f):typeof O=="string"?m(f).fill(_,O):m(f).fill(_)}function E(f){return w(f),m(0>f?0:0|R(f))}function I(f,_){if((typeof _!="string"||_==="")&&(_="utf8"),!h.isEncoding(_))throw new TypeError("Unknown encoding: "+_);var O=0|D(f,_),$=m(O),V=$.write(f,_);return V!==O&&($=$.slice(0,V)),$}function S(f){for(var _=0>f.length?0:0|R(f.length),O=m(_),$=0;$<_;$+=1)O[$]=255&f[$];return O}function C(f,_,O){if(0>_||f.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(f.byteLength<_+(O||0))throw new RangeError('"length" is outside of buffer bounds');var $;return $=_===void 0&&O===void 0?new Uint8Array(f):O===void 0?new Uint8Array(f,_):new Uint8Array(f,_,O),$.__proto__=h.prototype,$}function y(f){if(h.isBuffer(f)){var _=0|R(f.length),O=m(_);return O.length===0||f.copy(O,0,0,_),O}return f.length===void 0?f.type==="Buffer"&&Array.isArray(f.data)?S(f.data):void 0:typeof f.length!="number"||ie(f.length)?m(0):S(f)}function R(f){if(f>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|f}function D(f,_){if(h.isBuffer(f))return f.length;if(ArrayBuffer.isView(f)||X(f,ArrayBuffer))return f.byteLength;if(typeof f!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof f);var O=f.length,$=2<arguments.length&&arguments[2]===!0;if(!$&&O===0)return 0;for(var V=!1;;)switch(_){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return Yn(f).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*O;case"hex":return O>>>1;case"base64":return Bt(f).length;default:if(V)return $?-1:Yn(f).length;_=(""+_).toLowerCase(),V=!0}}function k(f,_,O){var $=!1;if((_===void 0||0>_)&&(_=0),_>this.length||((O===void 0||O>this.length)&&(O=this.length),0>=O)||(O>>>=0,_>>>=0,O<=_))return"";for(f||(f="utf8");;)switch(f){case"hex":return Ne(this,_,O);case"utf8":case"utf-8":return Ie(this,_,O);case"ascii":return se(this,_,O);case"latin1":case"binary":return we(this,_,O);case"base64":return Ce(this,_,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ze(this,_,O);default:if($)throw new TypeError("Unknown encoding: "+f);f=(f+"").toLowerCase(),$=!0}}function P(f,_,O){var $=f[_];f[_]=f[O],f[O]=$}function L(f,_,O,$,V){if(f.length===0)return-1;if(typeof O=="string"?($=O,O=0):2147483647<O?O=2147483647:-2147483648>O&&(O=-2147483648),O=+O,ie(O)&&(O=V?0:f.length-1),0>O&&(O=f.length+O),O>=f.length){if(V)return-1;O=f.length-1}else if(0>O)if(V)O=0;else return-1;if(typeof _=="string"&&(_=h.from(_,$)),h.isBuffer(_))return _.length===0?-1:B(f,_,O,$,V);if(typeof _=="number")return _&=255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(f,_,O):Uint8Array.prototype.lastIndexOf.call(f,_,O):B(f,[_],O,$,V);throw new TypeError("val must be string, number or Buffer")}function B(f,_,O,$,V){function re(Gn,Xt){return De===1?Gn[Xt]:Gn.readUInt16BE(Xt*De)}var De=1,Ke=f.length,ut=_.length;if($!==void 0&&($=($+"").toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(2>f.length||2>_.length)return-1;De=2,Ke/=2,ut/=2,O/=2}var ze;if(V){var We=-1;for(ze=O;ze<Ke;ze++)if(re(f,ze)!==re(_,We===-1?0:ze-We))We!==-1&&(ze-=ze-We),We=-1;else if(We===-1&&(We=ze),ze-We+1===ut)return We*De}else for(O+ut>Ke&&(O=Ke-ut),ze=O;0<=ze;ze--){for(var mt=!0,vn=0;vn<ut;vn++)if(re(f,ze+vn)!==re(_,vn)){mt=!1;break}if(mt)return ze}return-1}function N(f,_,O,$){O=+O||0;var V=f.length-O;$?($=+$,$>V&&($=V)):$=V;var re=_.length;$>re/2&&($=re/2);for(var De,Ke=0;Ke<$;++Ke){if(De=parseInt(_.substr(2*Ke,2),16),ie(De))return Ke;f[O+Ke]=De}return Ke}function F(f,_,O,$){return mn(Yn(_,f.length-O),f,O,$)}function Z(f,_,O,$){return mn(xt(_),f,O,$)}function ue(f,_,O,$){return Z(f,_,O,$)}function Ee(f,_,O,$){return mn(Bt(_),f,O,$)}function Re(f,_,O,$){return mn(Qe(_,f.length-O),f,O,$)}function Ce(f,_,O){return _===0&&O===f.length?me.fromByteArray(f):me.fromByteArray(f.slice(_,O))}function Ie(f,_,O){O=d(f.length,O);for(var $=[],V=_;V<O;){var re=f[V],De=null,Ke=239<re?4:223<re?3:191<re?2:1;if(V+Ke<=O){var ut,ze,We,mt;Ke===1?128>re&&(De=re):Ke===2?(ut=f[V+1],(192&ut)==128&&(mt=(31&re)<<6|63&ut,127<mt&&(De=mt))):Ke===3?(ut=f[V+1],ze=f[V+2],(192&ut)==128&&(192&ze)==128&&(mt=(15&re)<<12|(63&ut)<<6|63&ze,2047<mt&&(55296>mt||57343<mt)&&(De=mt))):Ke===4&&(ut=f[V+1],ze=f[V+2],We=f[V+3],(192&ut)==128&&(192&ze)==128&&(192&We)==128&&(mt=(15&re)<<18|(63&ut)<<12|(63&ze)<<6|63&We,65535<mt&&1114112>mt&&(De=mt)))}De===null?(De=65533,Ke=1):65535<De&&(De-=65536,$.push(55296|1023&De>>>10),De=56320|1023&De),$.push(De),V+=Ke}return fe($)}function fe(f){var _=f.length;if(_<=4096)return u.apply(String,f);for(var O="",$=0;$<_;)O+=u.apply(String,f.slice($,$+=4096));return O}function se(f,_,O){var $="";O=d(f.length,O);for(var V=_;V<O;++V)$+=u(127&f[V]);return $}function we(f,_,O){var $="";O=d(f.length,O);for(var V=_;V<O;++V)$+=u(f[V]);return $}function Ne(f,_,O){var $=f.length;(!_||0>_)&&(_=0),(!O||0>O||O>$)&&(O=$);for(var V="",re=_;re<O;++re)V+=Ae(f[re]);return V}function Ze(f,_,O){for(var $=f.slice(_,O),V="",re=0;re<$.length;re+=2)V+=u($[re]+256*$[re+1]);return V}function je(f,_,O){if(f%1!=0||0>f)throw new RangeError("offset is not uint");if(f+_>O)throw new RangeError("Trying to access beyond buffer length")}function Le(f,_,O,$,V,re){if(!h.isBuffer(f))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>V||_<re)throw new RangeError('"value" argument is out of bounds');if(O+$>f.length)throw new RangeError("Index out of range")}function ot(f,_,O,$){if(O+$>f.length)throw new RangeError("Index out of range");if(0>O)throw new RangeError("Index out of range")}function at(f,_,O,$,V){return _=+_,O>>>=0,V||ot(f,_,O,4),Me.write(f,_,O,$,23,4),O+4}function Mt(f,_,O,$,V){return _=+_,O>>>=0,V||ot(f,_,O,8),Me.write(f,_,O,$,52,8),O+8}function Br(f){if(f=f.split("=")[0],f=f.trim().replace(M,""),2>f.length)return"";for(;f.length%4!=0;)f+="=";return f}function Ae(f){return 16>f?"0"+f.toString(16):f.toString(16)}function Yn(f,_){_=_||1/0;for(var O,$=f.length,V=null,re=[],De=0;De<$;++De){if(O=f.charCodeAt(De),55295<O&&57344>O){if(!V){if(56319<O){-1<(_-=3)&&re.push(239,191,189);continue}else if(De+1===$){-1<(_-=3)&&re.push(239,191,189);continue}V=O;continue}if(56320>O){-1<(_-=3)&&re.push(239,191,189),V=O;continue}O=(V-55296<<10|O-56320)+65536}else V&&-1<(_-=3)&&re.push(239,191,189);if(V=null,128>O){if(0>(_-=1))break;re.push(O)}else if(2048>O){if(0>(_-=2))break;re.push(192|O>>6,128|63&O)}else if(65536>O){if(0>(_-=3))break;re.push(224|O>>12,128|63&O>>6,128|63&O)}else if(1114112>O){if(0>(_-=4))break;re.push(240|O>>18,128|63&O>>12,128|63&O>>6,128|63&O)}else throw new Error("Invalid code point")}return re}function xt(f){for(var _=[],O=0;O<f.length;++O)_.push(255&f.charCodeAt(O));return _}function Qe(f,_){for(var O,$,V,re=[],De=0;De<f.length&&!(0>(_-=2));++De)O=f.charCodeAt(De),$=O>>8,V=O%256,re.push(V),re.push($);return re}function Bt(f){return me.toByteArray(Br(f))}function mn(f,_,O,$){for(var V=0;V<$&&!(V+O>=_.length||V>=f.length);++V)_[V+O]=f[V];return V}function X(f,_){return f instanceof _||f!=null&&f.constructor!=null&&f.constructor.name!=null&&f.constructor.name===_.name}function ie(f){return f!==f}var me=o("base64-js"),Me=o("ieee754");s.Buffer=h,s.SlowBuffer=function(f){return+f!=f&&(f=0),h.alloc(+f)},s.INSPECT_MAX_BYTES=50,s.kMaxLength=2147483647,h.TYPED_ARRAY_SUPPORT=function(){try{var f=new Uint8Array(1);return f.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},f.foo()===42}catch{return!1}}(),h.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){return h.isBuffer(this)?this.buffer:void 0}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){return h.isBuffer(this)?this.byteOffset:void 0}}),typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=function(f,_,O){return p(f,_,O)},h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,h.alloc=function(f,_,O){return g(f,_,O)},h.allocUnsafe=function(f){return E(f)},h.allocUnsafeSlow=function(f){return E(f)},h.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==h.prototype},h.compare=function(f,_){if(X(f,Uint8Array)&&(f=h.from(f,f.offset,f.byteLength)),X(_,Uint8Array)&&(_=h.from(_,_.offset,_.byteLength)),!h.isBuffer(f)||!h.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===_)return 0;for(var O=f.length,$=_.length,V=0,re=d(O,$);V<re;++V)if(f[V]!==_[V]){O=f[V],$=_[V];break}return O<$?-1:$<O?1:0},h.isEncoding=function(f){switch((f+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(f,_){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return h.alloc(0);var O;if(_===void 0)for(_=0,O=0;O<f.length;++O)_+=f[O].length;var $=h.allocUnsafe(_),V=0;for(O=0;O<f.length;++O){var re=f[O];if(X(re,Uint8Array)&&(re=h.from(re)),!h.isBuffer(re))throw new TypeError('"list" argument must be an Array of Buffers');re.copy($,V),V+=re.length}return $},h.byteLength=D,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var f=this.length;if(f%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var _=0;_<f;_+=2)P(this,_,_+1);return this},h.prototype.swap32=function(){var f=this.length;if(f%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var _=0;_<f;_+=4)P(this,_,_+3),P(this,_+1,_+2);return this},h.prototype.swap64=function(){var f=this.length;if(f%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var _=0;_<f;_+=8)P(this,_,_+7),P(this,_+1,_+6),P(this,_+2,_+5),P(this,_+3,_+4);return this},h.prototype.toString=function(){var f=this.length;return f===0?"":arguments.length===0?Ie(this,0,f):k.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(f){if(!h.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f||h.compare(this,f)===0},h.prototype.inspect=function(){var f="",_=s.INSPECT_MAX_BYTES;return f=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(f+=" ... "),"<Buffer "+f+">"},h.prototype.compare=function(f,_,O,$,V){if(X(f,Uint8Array)&&(f=h.from(f,f.offset,f.byteLength)),!h.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(_===void 0&&(_=0),O===void 0&&(O=f?f.length:0),$===void 0&&($=0),V===void 0&&(V=this.length),0>_||O>f.length||0>$||V>this.length)throw new RangeError("out of range index");if($>=V&&_>=O)return 0;if($>=V)return-1;if(_>=O)return 1;if(_>>>=0,O>>>=0,$>>>=0,V>>>=0,this===f)return 0;for(var re=V-$,De=O-_,Ke=d(re,De),ut=this.slice($,V),ze=f.slice(_,O),We=0;We<Ke;++We)if(ut[We]!==ze[We]){re=ut[We],De=ze[We];break}return re<De?-1:De<re?1:0},h.prototype.includes=function(f,_,O){return this.indexOf(f,_,O)!==-1},h.prototype.indexOf=function(f,_,O){return L(this,f,_,O,!0)},h.prototype.lastIndexOf=function(f,_,O){return L(this,f,_,O,!1)},h.prototype.write=function(f,_,O,$){if(_===void 0)$="utf8",O=this.length,_=0;else if(O===void 0&&typeof _=="string")$=_,O=this.length,_=0;else if(isFinite(_))_>>>=0,isFinite(O)?(O>>>=0,$===void 0&&($="utf8")):($=O,O=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var V=this.length-_;if((O===void 0||O>V)&&(O=V),0<f.length&&(0>O||0>_)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");for(var re=!1;;)switch($){case"hex":return N(this,f,_,O);case"utf8":case"utf-8":return F(this,f,_,O);case"ascii":return Z(this,f,_,O);case"latin1":case"binary":return ue(this,f,_,O);case"base64":return Ee(this,f,_,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,f,_,O);default:if(re)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),re=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.slice=function(f,_){var O=this.length;f=~~f,_=_===void 0?O:~~_,0>f?(f+=O,0>f&&(f=0)):f>O&&(f=O),0>_?(_+=O,0>_&&(_=0)):_>O&&(_=O),_<f&&(_=f);var $=this.subarray(f,_);return $.__proto__=h.prototype,$},h.prototype.readUIntLE=function(f,_,O){f>>>=0,_>>>=0,O||je(f,_,this.length);for(var $=this[f],V=1,re=0;++re<_&&(V*=256);)$+=this[f+re]*V;return $},h.prototype.readUIntBE=function(f,_,O){f>>>=0,_>>>=0,O||je(f,_,this.length);for(var $=this[f+--_],V=1;0<_&&(V*=256);)$+=this[f+--_]*V;return $},h.prototype.readUInt8=function(f,_){return f>>>=0,_||je(f,1,this.length),this[f]},h.prototype.readUInt16LE=function(f,_){return f>>>=0,_||je(f,2,this.length),this[f]|this[f+1]<<8},h.prototype.readUInt16BE=function(f,_){return f>>>=0,_||je(f,2,this.length),this[f]<<8|this[f+1]},h.prototype.readUInt32LE=function(f,_){return f>>>=0,_||je(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+16777216*this[f+3]},h.prototype.readUInt32BE=function(f,_){return f>>>=0,_||je(f,4,this.length),16777216*this[f]+(this[f+1]<<16|this[f+2]<<8|this[f+3])},h.prototype.readIntLE=function(f,_,O){f>>>=0,_>>>=0,O||je(f,_,this.length);for(var $=this[f],V=1,re=0;++re<_&&(V*=256);)$+=this[f+re]*V;return V*=128,$>=V&&($-=i(2,8*_)),$},h.prototype.readIntBE=function(f,_,O){f>>>=0,_>>>=0,O||je(f,_,this.length);for(var $=_,V=1,re=this[f+--$];0<$&&(V*=256);)re+=this[f+--$]*V;return V*=128,re>=V&&(re-=i(2,8*_)),re},h.prototype.readInt8=function(f,_){return f>>>=0,_||je(f,1,this.length),128&this[f]?-1*(255-this[f]+1):this[f]},h.prototype.readInt16LE=function(f,_){f>>>=0,_||je(f,2,this.length);var O=this[f]|this[f+1]<<8;return 32768&O?4294901760|O:O},h.prototype.readInt16BE=function(f,_){f>>>=0,_||je(f,2,this.length);var O=this[f+1]|this[f]<<8;return 32768&O?4294901760|O:O},h.prototype.readInt32LE=function(f,_){return f>>>=0,_||je(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},h.prototype.readInt32BE=function(f,_){return f>>>=0,_||je(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},h.prototype.readFloatLE=function(f,_){return f>>>=0,_||je(f,4,this.length),Me.read(this,f,!0,23,4)},h.prototype.readFloatBE=function(f,_){return f>>>=0,_||je(f,4,this.length),Me.read(this,f,!1,23,4)},h.prototype.readDoubleLE=function(f,_){return f>>>=0,_||je(f,8,this.length),Me.read(this,f,!0,52,8)},h.prototype.readDoubleBE=function(f,_){return f>>>=0,_||je(f,8,this.length),Me.read(this,f,!1,52,8)},h.prototype.writeUIntLE=function(f,_,O,$){if(f=+f,_>>>=0,O>>>=0,!$){var V=i(2,8*O)-1;Le(this,f,_,O,V,0)}var re=1,De=0;for(this[_]=255&f;++De<O&&(re*=256);)this[_+De]=255&f/re;return _+O},h.prototype.writeUIntBE=function(f,_,O,$){if(f=+f,_>>>=0,O>>>=0,!$){var V=i(2,8*O)-1;Le(this,f,_,O,V,0)}var re=O-1,De=1;for(this[_+re]=255&f;0<=--re&&(De*=256);)this[_+re]=255&f/De;return _+O},h.prototype.writeUInt8=function(f,_,O){return f=+f,_>>>=0,O||Le(this,f,_,1,255,0),this[_]=255&f,_+1},h.prototype.writeUInt16LE=function(f,_,O){return f=+f,_>>>=0,O||Le(this,f,_,2,65535,0),this[_]=255&f,this[_+1]=f>>>8,_+2},h.prototype.writeUInt16BE=function(f,_,O){return f=+f,_>>>=0,O||Le(this,f,_,2,65535,0),this[_]=f>>>8,this[_+1]=255&f,_+2},h.prototype.writeUInt32LE=function(f,_,O){return f=+f,_>>>=0,O||Le(this,f,_,4,4294967295,0),this[_+3]=f>>>24,this[_+2]=f>>>16,this[_+1]=f>>>8,this[_]=255&f,_+4},h.prototype.writeUInt32BE=function(f,_,O){return f=+f,_>>>=0,O||Le(this,f,_,4,4294967295,0),this[_]=f>>>24,this[_+1]=f>>>16,this[_+2]=f>>>8,this[_+3]=255&f,_+4},h.prototype.writeIntLE=function(f,_,O,$){if(f=+f,_>>>=0,!$){var V=i(2,8*O-1);Le(this,f,_,O,V-1,-V)}var re=0,De=1,Ke=0;for(this[_]=255&f;++re<O&&(De*=256);)0>f&&Ke===0&&this[_+re-1]!==0&&(Ke=1),this[_+re]=255&(f/De>>0)-Ke;return _+O},h.prototype.writeIntBE=function(f,_,O,$){if(f=+f,_>>>=0,!$){var V=i(2,8*O-1);Le(this,f,_,O,V-1,-V)}var re=O-1,De=1,Ke=0;for(this[_+re]=255&f;0<=--re&&(De*=256);)0>f&&Ke===0&&this[_+re+1]!==0&&(Ke=1),this[_+re]=255&(f/De>>0)-Ke;return _+O},h.prototype.writeInt8=function(f,_,O){return f=+f,_>>>=0,O||Le(this,f,_,1,127,-128),0>f&&(f=255+f+1),this[_]=255&f,_+1},h.prototype.writeInt16LE=function(f,_,O){return f=+f,_>>>=0,O||Le(this,f,_,2,32767,-32768),this[_]=255&f,this[_+1]=f>>>8,_+2},h.prototype.writeInt16BE=function(f,_,O){return f=+f,_>>>=0,O||Le(this,f,_,2,32767,-32768),this[_]=f>>>8,this[_+1]=255&f,_+2},h.prototype.writeInt32LE=function(f,_,O){return f=+f,_>>>=0,O||Le(this,f,_,4,2147483647,-2147483648),this[_]=255&f,this[_+1]=f>>>8,this[_+2]=f>>>16,this[_+3]=f>>>24,_+4},h.prototype.writeInt32BE=function(f,_,O){return f=+f,_>>>=0,O||Le(this,f,_,4,2147483647,-2147483648),0>f&&(f=4294967295+f+1),this[_]=f>>>24,this[_+1]=f>>>16,this[_+2]=f>>>8,this[_+3]=255&f,_+4},h.prototype.writeFloatLE=function(f,_,O){return at(this,f,_,!0,O)},h.prototype.writeFloatBE=function(f,_,O){return at(this,f,_,!1,O)},h.prototype.writeDoubleLE=function(f,_,O){return Mt(this,f,_,!0,O)},h.prototype.writeDoubleBE=function(f,_,O){return Mt(this,f,_,!1,O)},h.prototype.copy=function(f,_,O,$){if(!h.isBuffer(f))throw new TypeError("argument should be a Buffer");if(O||(O=0),$||$===0||($=this.length),_>=f.length&&(_=f.length),_||(_=0),0<$&&$<O&&($=O),$===O||f.length===0||this.length===0)return 0;if(0>_)throw new RangeError("targetStart out of bounds");if(0>O||O>=this.length)throw new RangeError("Index out of range");if(0>$)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),f.length-_<$-O&&($=f.length-_+O);var V=$-O;if(this===f&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(_,O,$);else if(this===f&&O<_&&_<$)for(var re=V-1;0<=re;--re)f[re+_]=this[re+O];else Uint8Array.prototype.set.call(f,this.subarray(O,$),_);return V},h.prototype.fill=function(f,_,O,$){if(typeof f=="string"){if(typeof _=="string"?($=_,_=0,O=this.length):typeof O=="string"&&($=O,O=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!h.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(f.length===1){var V=f.charCodeAt(0);($==="utf8"&&128>V||$==="latin1")&&(f=V)}}else typeof f=="number"&&(f&=255);if(0>_||this.length<_||this.length<O)throw new RangeError("Out of range index");if(O<=_)return this;_>>>=0,O=O===void 0?this.length:O>>>0,f||(f=0);var re;if(typeof f=="number")for(re=_;re<O;++re)this[re]=f;else{var De=h.isBuffer(f)?f:h.from(f,$),Ke=De.length;if(Ke===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(re=0;re<O-_;++re)this[re+_]=De[re%Ke]}return this};var M=/[^+/0-9A-Za-z-_]/g}).call(this)}).call(this,o("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:9}],4:[function(o,a,s){(function(u){(function(){function d(){let h;try{h=s.storage.getItem("debug")}catch{}return!h&&typeof u<"u"&&"env"in u&&(h=u.env.DEBUG),h}s.formatArgs=function(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+a.exports.humanize(this.diff),!this.useColors)return;const p="color: "+this.color;h.splice(1,0,p,"color: inherit");let w=0,g=0;h[0].replace(/%[a-zA-Z%]/g,E=>{E==="%%"||(w++,E==="%c"&&(g=w))}),h.splice(g,0,p)},s.save=function(h){try{h?s.storage.setItem("debug",h):s.storage.removeItem("debug")}catch{}},s.load=d,s.useColors=function(){return!!(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},s.storage=function(){try{return localStorage}catch{}}(),s.destroy=(()=>{let h=!1;return()=>{h||(h=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),s.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],s.log=console.debug||console.log||(()=>{}),a.exports=o("./common")(s);const{formatters:m}=a.exports;m.j=function(h){try{return JSON.stringify(h)}catch(p){return"[UnexpectedJSONParseError]: "+p.message}}}).call(this)}).call(this,o("_process"))},{"./common":5,_process:12}],5:[function(o,a){a.exports=function(s){function u(h){function p(...E){if(!p.enabled)return;const I=p,S=+new Date,C=S-(w||S);I.diff=C,I.prev=w,I.curr=S,w=S,E[0]=u.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let y=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(D,k)=>{if(D==="%%")return"%";y++;const P=u.formatters[k];if(typeof P=="function"){const L=E[y];D=P.call(I,L),E.splice(y,1),y--}return D}),u.formatArgs.call(I,E),(I.log||u.log).apply(I,E)}let w,g=null;return p.namespace=h,p.useColors=u.useColors(),p.color=u.selectColor(h),p.extend=d,p.destroy=u.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>g===null?u.enabled(h):g,set:E=>{g=E}}),typeof u.init=="function"&&u.init(p),p}function d(h,p){const w=u(this.namespace+(typeof p>"u"?":":p)+h);return w.log=this.log,w}function m(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}return u.debug=u,u.default=u,u.coerce=function(h){return h instanceof Error?h.stack||h.message:h},u.disable=function(){const h=[...u.names.map(m),...u.skips.map(m).map(p=>"-"+p)].join(",");return u.enable(""),h},u.enable=function(h){u.save(h),u.names=[],u.skips=[];let p;const w=(typeof h=="string"?h:"").split(/[\s,]+/),g=w.length;for(p=0;p<g;p++)w[p]&&(h=w[p].replace(/\*/g,".*?"),h[0]==="-"?u.skips.push(new RegExp("^"+h.substr(1)+"$")):u.names.push(new RegExp("^"+h+"$")))},u.enabled=function(h){if(h[h.length-1]==="*")return!0;let p,w;for(p=0,w=u.skips.length;p<w;p++)if(u.skips[p].test(h))return!1;for(p=0,w=u.names.length;p<w;p++)if(u.names[p].test(h))return!0;return!1},u.humanize=o("ms"),u.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(s).forEach(h=>{u[h]=s[h]}),u.names=[],u.skips=[],u.formatters={},u.selectColor=function(h){let p=0;for(let w=0;w<h.length;w++)p=(p<<5)-p+h.charCodeAt(w),p|=0;return u.colors[r(p)%u.colors.length]},u.enable(u.load()),u}},{ms:11}],6:[function(o,a){function s(u,d){for(const m in d)Object.defineProperty(u,m,{value:d[m],enumerable:!0,configurable:!0});return u}a.exports=function(u,d,m){if(!u||typeof u=="string")throw new TypeError("Please pass an Error to err-code");m||(m={}),typeof d=="object"&&(m=d,d=""),d&&(m.code=d);try{return s(u,m)}catch{m.message=u.message,m.stack=u.stack;const p=function(){};return p.prototype=Object.create(Object.getPrototypeOf(u)),s(new p,m)}}},{}],7:[function(o,a){function s(N){console&&console.warn&&console.warn(N)}function u(){u.init.call(this)}function d(N){if(typeof N!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function m(N){return N._maxListeners===void 0?u.defaultMaxListeners:N._maxListeners}function h(N,F,Z,ue){var Ee,Re,Ce;if(d(Z),Re=N._events,Re===void 0?(Re=N._events=Object.create(null),N._eventsCount=0):(Re.newListener!==void 0&&(N.emit("newListener",F,Z.listener?Z.listener:Z),Re=N._events),Ce=Re[F]),Ce===void 0)Ce=Re[F]=Z,++N._eventsCount;else if(typeof Ce=="function"?Ce=Re[F]=ue?[Z,Ce]:[Ce,Z]:ue?Ce.unshift(Z):Ce.push(Z),Ee=m(N),0<Ee&&Ce.length>Ee&&!Ce.warned){Ce.warned=!0;var Ie=new Error("Possible EventEmitter memory leak detected. "+Ce.length+" "+(F+" listeners added. Use emitter.setMaxListeners() to increase limit"));Ie.name="MaxListenersExceededWarning",Ie.emitter=N,Ie.type=F,Ie.count=Ce.length,s(Ie)}return N}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(N,F,Z){var ue={fired:!1,wrapFn:void 0,target:N,type:F,listener:Z},Ee=p.bind(ue);return Ee.listener=Z,ue.wrapFn=Ee,Ee}function g(N,F,Z){var ue=N._events;if(ue===void 0)return[];var Ee=ue[F];return Ee===void 0?[]:typeof Ee=="function"?Z?[Ee.listener||Ee]:[Ee]:Z?C(Ee):I(Ee,Ee.length)}function E(N){var F=this._events;if(F!==void 0){var Z=F[N];if(typeof Z=="function")return 1;if(Z!==void 0)return Z.length}return 0}function I(N,F){for(var Z=Array(F),ue=0;ue<F;++ue)Z[ue]=N[ue];return Z}function S(N,F){for(;F+1<N.length;F++)N[F]=N[F+1];N.pop()}function C(N){for(var F=Array(N.length),Z=0;Z<F.length;++Z)F[Z]=N[Z].listener||N[Z];return F}function y(N,F,Z){typeof N.on=="function"&&R(N,"error",F,Z)}function R(N,F,Z,ue){if(typeof N.on=="function")ue.once?N.once(F,Z):N.on(F,Z);else if(typeof N.addEventListener=="function")N.addEventListener(F,function Ee(Re){ue.once&&N.removeEventListener(F,Ee),Z(Re)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N)}var D,k=typeof Reflect=="object"?Reflect:null,P=k&&typeof k.apply=="function"?k.apply:function(N,F,Z){return Function.prototype.apply.call(N,F,Z)};D=k&&typeof k.ownKeys=="function"?k.ownKeys:Object.getOwnPropertySymbols?function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:function(N){return Object.getOwnPropertyNames(N)};var L=Number.isNaN||function(N){return N!==N};a.exports=u,a.exports.once=function(N,F){return new Promise(function(Z,ue){function Ee(Ce){N.removeListener(F,Re),ue(Ce)}function Re(){typeof N.removeListener=="function"&&N.removeListener("error",Ee),Z([].slice.call(arguments))}R(N,F,Re,{once:!0}),F!=="error"&&y(N,Ee,{once:!0})})},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var B=10;Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return B},set:function(N){if(typeof N!="number"||0>N||L(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");B=N}}),u.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(N){if(typeof N!="number"||0>N||L(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this},u.prototype.getMaxListeners=function(){return m(this)},u.prototype.emit=function(N){for(var F=[],Z=1;Z<arguments.length;Z++)F.push(arguments[Z]);var ue=N==="error",Ee=this._events;if(Ee!==void 0)ue=ue&&Ee.error===void 0;else if(!ue)return!1;if(ue){var Re;if(0<F.length&&(Re=F[0]),Re instanceof Error)throw Re;var Ce=new Error("Unhandled error."+(Re?" ("+Re.message+")":""));throw Ce.context=Re,Ce}var Ie=Ee[N];if(Ie===void 0)return!1;if(typeof Ie=="function")P(Ie,this,F);else for(var fe=Ie.length,se=I(Ie,fe),Z=0;Z<fe;++Z)P(se[Z],this,F);return!0},u.prototype.addListener=function(N,F){return h(this,N,F,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(N,F){return h(this,N,F,!0)},u.prototype.once=function(N,F){return d(F),this.on(N,w(this,N,F)),this},u.prototype.prependOnceListener=function(N,F){return d(F),this.prependListener(N,w(this,N,F)),this},u.prototype.removeListener=function(N,F){var Z,ue,Ee,Re,Ce;if(d(F),ue=this._events,ue===void 0)return this;if(Z=ue[N],Z===void 0)return this;if(Z===F||Z.listener===F)--this._eventsCount==0?this._events=Object.create(null):(delete ue[N],ue.removeListener&&this.emit("removeListener",N,Z.listener||F));else if(typeof Z!="function"){for(Ee=-1,Re=Z.length-1;0<=Re;Re--)if(Z[Re]===F||Z[Re].listener===F){Ce=Z[Re].listener,Ee=Re;break}if(0>Ee)return this;Ee===0?Z.shift():S(Z,Ee),Z.length===1&&(ue[N]=Z[0]),ue.removeListener!==void 0&&this.emit("removeListener",N,Ce||F)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(N){var F,Z,ue;if(Z=this._events,Z===void 0)return this;if(Z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Z[N]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Z[N]),this;if(arguments.length===0){var Ee,Re=Object.keys(Z);for(ue=0;ue<Re.length;++ue)Ee=Re[ue],Ee!=="removeListener"&&this.removeAllListeners(Ee);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(F=Z[N],typeof F=="function")this.removeListener(N,F);else if(F!==void 0)for(ue=F.length-1;0<=ue;ue--)this.removeListener(N,F[ue]);return this},u.prototype.listeners=function(N){return g(this,N,!0)},u.prototype.rawListeners=function(N){return g(this,N,!1)},u.listenerCount=function(N,F){return typeof N.listenerCount=="function"?N.listenerCount(F):E.call(N,F)},u.prototype.listenerCount=E,u.prototype.eventNames=function(){return 0<this._eventsCount?D(this._events):[]}},{}],8:[function(o,a){a.exports=function(){if(typeof globalThis>"u")return null;var s={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return s.RTCPeerConnection?s:null}},{}],9:[function(o,a,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(u,d,m,h,p){var w,g,E=8*p-h-1,I=(1<<E)-1,S=I>>1,C=-7,y=m?p-1:0,R=m?-1:1,D=u[d+y];for(y+=R,w=D&(1<<-C)-1,D>>=-C,C+=E;0<C;w=256*w+u[d+y],y+=R,C-=8);for(g=w&(1<<-C)-1,w>>=-C,C+=h;0<C;g=256*g+u[d+y],y+=R,C-=8);if(w===0)w=1-S;else{if(w===I)return g?NaN:(D?-1:1)*(1/0);g+=i(2,h),w-=S}return(D?-1:1)*g*i(2,w-h)},s.write=function(u,d,m,h,p,w){var g,E,I,S=Math.LN2,C=Math.log,y=8*w-p-1,R=(1<<y)-1,D=R>>1,k=p===23?i(2,-24)-i(2,-77):0,P=h?0:w-1,L=h?1:-1,B=0>d||d===0&&0>1/d?1:0;for(d=r(d),isNaN(d)||d===1/0?(E=isNaN(d)?1:0,g=R):(g=n(C(d)/S),1>d*(I=i(2,-g))&&(g--,I*=2),d+=1<=g+D?k/I:k*i(2,1-D),2<=d*I&&(g++,I/=2),g+D>=R?(E=0,g=R):1<=g+D?(E=(d*I-1)*i(2,p),g+=D):(E=d*i(2,D-1)*i(2,p),g=0));8<=p;u[m+P]=255&E,P+=L,E/=256,p-=8);for(g=g<<p|E,y+=p;0<y;u[m+P]=255&g,P+=L,g/=256,y-=8);u[m+P-L]|=128*B}},{}],10:[function(o,a){a.exports=typeof Object.create=="function"?function(s,u){u&&(s.super_=u,s.prototype=Object.create(u.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:function(s,u){if(u){s.super_=u;var d=function(){};d.prototype=u.prototype,s.prototype=new d,s.prototype.constructor=s}}},{}],11:[function(o,a){var s=Math.round;function u(p){if(p+="",!(100<p.length)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(w){var g=parseFloat(w[1]),E=(w[2]||"ms").toLowerCase();return E==="years"||E==="year"||E==="yrs"||E==="yr"||E==="y"?315576e5*g:E==="weeks"||E==="week"||E==="w"?6048e5*g:E==="days"||E==="day"||E==="d"?864e5*g:E==="hours"||E==="hour"||E==="hrs"||E==="hr"||E==="h"?36e5*g:E==="minutes"||E==="minute"||E==="mins"||E==="min"||E==="m"?6e4*g:E==="seconds"||E==="second"||E==="secs"||E==="sec"||E==="s"?1e3*g:E==="milliseconds"||E==="millisecond"||E==="msecs"||E==="msec"||E==="ms"?g:void 0}}}function d(p){var w=r(p);return 864e5<=w?s(p/864e5)+"d":36e5<=w?s(p/36e5)+"h":6e4<=w?s(p/6e4)+"m":1e3<=w?s(p/1e3)+"s":p+"ms"}function m(p){var w=r(p);return 864e5<=w?h(p,w,864e5,"day"):36e5<=w?h(p,w,36e5,"hour"):6e4<=w?h(p,w,6e4,"minute"):1e3<=w?h(p,w,1e3,"second"):p+" ms"}function h(p,w,g,E){return s(p/g)+" "+E+(w>=1.5*g?"s":"")}a.exports=function(p,w){w=w||{};var g=typeof p;if(g=="string"&&0<p.length)return u(p);if(g==="number"&&isFinite(p))return w.long?m(p):d(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))}},{}],12:[function(o,a){function s(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function d(k){if(E===setTimeout)return setTimeout(k,0);if((E===s||!E)&&setTimeout)return E=setTimeout,setTimeout(k,0);try{return E(k,0)}catch{try{return E.call(null,k,0)}catch{return E.call(this,k,0)}}}function m(k){if(I===clearTimeout)return clearTimeout(k);if((I===u||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(k);try{return I(k)}catch{try{return I.call(null,k)}catch{return I.call(this,k)}}}function h(){R&&C&&(R=!1,C.length?y=C.concat(y):D=-1,y.length&&p())}function p(){if(!R){var k=d(h);R=!0;for(var P=y.length;P;){for(C=y,y=[];++D<P;)C&&C[D].run();D=-1,P=y.length}C=null,R=!1,m(k)}}function w(k,P){this.fun=k,this.array=P}function g(){}var E,I,S=a.exports={};(function(){try{E=typeof setTimeout=="function"?setTimeout:s}catch{E=s}try{I=typeof clearTimeout=="function"?clearTimeout:u}catch{I=u}})();var C,y=[],R=!1,D=-1;S.nextTick=function(k){var P=Array(arguments.length-1);if(1<arguments.length)for(var L=1;L<arguments.length;L++)P[L-1]=arguments[L];y.push(new w(k,P)),y.length!==1||R||d(p)},w.prototype.run=function(){this.fun.apply(null,this.array)},S.title="browser",S.browser=!0,S.env={},S.argv=[],S.version="",S.versions={},S.on=g,S.addListener=g,S.once=g,S.off=g,S.removeListener=g,S.removeAllListeners=g,S.emit=g,S.prependListener=g,S.prependOnceListener=g,S.listeners=function(){return[]},S.binding=function(){throw new Error("process.binding is not supported")},S.cwd=function(){return"/"},S.chdir=function(){throw new Error("process.chdir is not supported")},S.umask=function(){return 0}},{}],13:[function(o,a){(function(s){(function(){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let u;a.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window>"u"?s:window):d=>(u||(u=Promise.resolve())).then(d).catch(m=>setTimeout(()=>{throw m},0))}).call(this)}).call(this,typeof Zn>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Zn)},{}],14:[function(o,a){(function(s,u){(function(){var d=o("safe-buffer").Buffer,m=u.crypto||u.msCrypto;a.exports=m&&m.getRandomValues?function(h,p){if(h>4294967295)throw new RangeError("requested too many random bytes");var w=d.allocUnsafe(h);if(0<h)if(65536<h)for(var g=0;g<h;g+=65536)m.getRandomValues(w.slice(g,g+65536));else m.getRandomValues(w);return typeof p=="function"?s.nextTick(function(){p(null,w)}):w}:function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,o("_process"),typeof Zn>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Zn)},{_process:12,"safe-buffer":30}],15:[function(o,a){function s(g,E){g.prototype=Object.create(E.prototype),g.prototype.constructor=g,g.__proto__=E}function u(g,E,I){function S(y,R,D){return typeof E=="string"?E:E(y,R,D)}I||(I=Error);var C=function(y){function R(D,k,P){return y.call(this,S(D,k,P))||this}return s(R,y),R}(I);C.prototype.name=I.name,C.prototype.code=g,w[g]=C}function d(g,E){if(Array.isArray(g)){var I=g.length;return g=g.map(function(S){return S+""}),2<I?"one of ".concat(E," ").concat(g.slice(0,I-1).join(", "),", or ")+g[I-1]:I===2?"one of ".concat(E," ").concat(g[0]," or ").concat(g[1]):"of ".concat(E," ").concat(g[0])}return"of ".concat(E," ").concat(g+"")}function m(g,E,I){return g.substr(!I||0>I?0:+I,E.length)===E}function h(g,E,I){return(I===void 0||I>g.length)&&(I=g.length),g.substring(I-E.length,I)===E}function p(g,E,I){return typeof I!="number"&&(I=0),!(I+E.length>g.length)&&g.indexOf(E,I)!==-1}var w={};u("ERR_INVALID_OPT_VALUE",function(g,E){return'The value "'+E+'" is invalid for option "'+g+'"'},TypeError),u("ERR_INVALID_ARG_TYPE",function(g,E,I){var S;typeof E=="string"&&m(E,"not ")?(S="must not be",E=E.replace(/^not /,"")):S="must be";var C;if(h(g," argument"))C="The ".concat(g," ").concat(S," ").concat(d(E,"type"));else{var y=p(g,".")?"property":"argument";C='The "'.concat(g,'" ').concat(y," ").concat(S," ").concat(d(E,"type"))}return C+=". Received type ".concat(typeof I),C},TypeError),u("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),u("ERR_METHOD_NOT_IMPLEMENTED",function(g){return"The "+g+" method is not implemented"}),u("ERR_STREAM_PREMATURE_CLOSE","Premature close"),u("ERR_STREAM_DESTROYED",function(g){return"Cannot call "+g+" after a stream was destroyed"}),u("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),u("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),u("ERR_STREAM_WRITE_AFTER_END","write after end"),u("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),u("ERR_UNKNOWN_ENCODING",function(g){return"Unknown encoding: "+g},TypeError),u("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),a.exports.codes=w},{}],16:[function(o,a){(function(s){(function(){function u(S){return this instanceof u?(p.call(this,S),w.call(this,S),this.allowHalfOpen=!0,void(S&&(S.readable===!1&&(this.readable=!1),S.writable===!1&&(this.writable=!1),S.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d))))):new u(S)}function d(){this._writableState.ended||s.nextTick(m,this)}function m(S){S.end()}var h=Object.keys||function(S){var C=[];for(var y in S)C.push(y);return C};a.exports=u;var p=o("./_stream_readable"),w=o("./_stream_writable");o("inherits")(u,p);for(var g,E=h(w.prototype),I=0;I<E.length;I++)g=E[I],u.prototype[g]||(u.prototype[g]=w.prototype[g]);Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(S){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=S,this._writableState.destroyed=S)}})}).call(this)}).call(this,o("_process"))},{"./_stream_readable":18,"./_stream_writable":20,_process:12,inherits:10}],17:[function(o,a){function s(d){return this instanceof s?void u.call(this,d):new s(d)}a.exports=s;var u=o("./_stream_transform");o("inherits")(s,u),s.prototype._transform=function(d,m,h){h(null,d)}},{"./_stream_transform":19,inherits:10}],18:[function(o,a){(function(s,u){(function(){function d(M){return Ze.from(M)}function m(M){return Ze.isBuffer(M)||M instanceof je}function h(M,f,_){return typeof M.prependListener=="function"?M.prependListener(f,_):void(M._events&&M._events[f]?Array.isArray(M._events[f])?M._events[f].unshift(_):M._events[f]=[_,M._events[f]]:M.on(f,_))}function p(M,f,_){fe=fe||o("./_stream_duplex"),M=M||{},typeof _!="boolean"&&(_=f instanceof fe),this.objectMode=!!M.objectMode,_&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=xt(this,M,"readableHighWaterMark",_),this.buffer=new Br,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(!ot&&(ot=o("string_decoder/").StringDecoder),this.decoder=new ot(M.encoding),this.encoding=M.encoding)}function w(M){if(fe=fe||o("./_stream_duplex"),!(this instanceof w))return new w(M);var f=this instanceof fe;this._readableState=new p(M,this,f),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),Ne.call(this)}function g(M,f,_,O,$){se("readableAddChunk",f);var V=M._readableState;if(f===null)V.reading=!1,y(M,V);else{var re;if($||(re=I(V,f)),re)me(M,re);else if(!(V.objectMode||f&&0<f.length))O||(V.reading=!1,k(M,V));else if(typeof f=="string"||V.objectMode||Object.getPrototypeOf(f)===Ze.prototype||(f=d(f)),O)V.endEmitted?me(M,new ie):E(M,V,f,!0);else if(V.ended)me(M,new mn);else{if(V.destroyed)return!1;V.reading=!1,V.decoder&&!_?(f=V.decoder.write(f),V.objectMode||f.length!==0?E(M,V,f,!1):k(M,V)):E(M,V,f,!1)}}return!V.ended&&(V.length<V.highWaterMark||V.length===0)}function E(M,f,_,O){f.flowing&&f.length===0&&!f.sync?(f.awaitDrain=0,M.emit("data",_)):(f.length+=f.objectMode?1:_.length,O?f.buffer.unshift(_):f.buffer.push(_),f.needReadable&&R(M)),k(M,f)}function I(M,f){var _;return m(f)||typeof f=="string"||f===void 0||M.objectMode||(_=new Bt("chunk",["string","Buffer","Uint8Array"],f)),_}function S(M){return 1073741824<=M?M=1073741824:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function C(M,f){return 0>=M||f.length===0&&f.ended?0:f.objectMode?1:M===M?(M>f.highWaterMark&&(f.highWaterMark=S(M)),M<=f.length?M:f.ended?f.length:(f.needReadable=!0,0)):f.flowing&&f.length?f.buffer.head.data.length:f.length}function y(M,f){if(se("onEofChunk"),!f.ended){if(f.decoder){var _=f.decoder.end();_&&_.length&&(f.buffer.push(_),f.length+=f.objectMode?1:_.length)}f.ended=!0,f.sync?R(M):(f.needReadable=!1,!f.emittedReadable&&(f.emittedReadable=!0,D(M)))}}function R(M){var f=M._readableState;se("emitReadable",f.needReadable,f.emittedReadable),f.needReadable=!1,f.emittedReadable||(se("emitReadable",f.flowing),f.emittedReadable=!0,s.nextTick(D,M))}function D(M){var f=M._readableState;se("emitReadable_",f.destroyed,f.length,f.ended),!f.destroyed&&(f.length||f.ended)&&(M.emit("readable"),f.emittedReadable=!1),f.needReadable=!f.flowing&&!f.ended&&f.length<=f.highWaterMark,ue(M)}function k(M,f){f.readingMore||(f.readingMore=!0,s.nextTick(P,M,f))}function P(M,f){for(;!f.reading&&!f.ended&&(f.length<f.highWaterMark||f.flowing&&f.length===0);){var _=f.length;if(se("maybeReadMore read 0"),M.read(0),_===f.length)break}f.readingMore=!1}function L(M){return function(){var f=M._readableState;se("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&we(M,"data")&&(f.flowing=!0,ue(M))}}function B(M){var f=M._readableState;f.readableListening=0<M.listenerCount("readable"),f.resumeScheduled&&!f.paused?f.flowing=!0:0<M.listenerCount("data")&&M.resume()}function N(M){se("readable nexttick read 0"),M.read(0)}function F(M,f){f.resumeScheduled||(f.resumeScheduled=!0,s.nextTick(Z,M,f))}function Z(M,f){se("resume",f.reading),f.reading||M.read(0),f.resumeScheduled=!1,M.emit("resume"),ue(M),f.flowing&&!f.reading&&M.read(0)}function ue(M){var f=M._readableState;for(se("flow",f.flowing);f.flowing&&M.read()!==null;);}function Ee(M,f){if(f.length===0)return null;var _;return f.objectMode?_=f.buffer.shift():!M||M>=f.length?(_=f.decoder?f.buffer.join(""):f.buffer.length===1?f.buffer.first():f.buffer.concat(f.length),f.buffer.clear()):_=f.buffer.consume(M,f.decoder),_}function Re(M){var f=M._readableState;se("endReadable",f.endEmitted),f.endEmitted||(f.ended=!0,s.nextTick(Ce,f,M))}function Ce(M,f){if(se("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,f.readable=!1,f.emit("end"),M.autoDestroy)){var _=f._writableState;(!_||_.autoDestroy&&_.finished)&&f.destroy()}}function Ie(M,f){for(var _=0,O=M.length;_<O;_++)if(M[_]===f)return _;return-1}a.exports=w;var fe;w.ReadableState=p;var se;o("events").EventEmitter;var we=function(M,f){return M.listeners(f).length},Ne=o("./internal/streams/stream"),Ze=o("buffer").Buffer,je=u.Uint8Array||function(){},Le=o("util");se=Le&&Le.debuglog?Le.debuglog("stream"):function(){};var ot,at,Mt,Br=o("./internal/streams/buffer_list"),Ae=o("./internal/streams/destroy"),Yn=o("./internal/streams/state"),xt=Yn.getHighWaterMark,Qe=o("../errors").codes,Bt=Qe.ERR_INVALID_ARG_TYPE,mn=Qe.ERR_STREAM_PUSH_AFTER_EOF,X=Qe.ERR_METHOD_NOT_IMPLEMENTED,ie=Qe.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o("inherits")(w,Ne);var me=Ae.errorOrDestroy,Me=["error","close","destroy","pause","resume"];Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(M){this._readableState&&(this._readableState.destroyed=M)}}),w.prototype.destroy=Ae.destroy,w.prototype._undestroy=Ae.undestroy,w.prototype._destroy=function(M,f){f(M)},w.prototype.push=function(M,f){var _,O=this._readableState;return O.objectMode?_=!0:typeof M=="string"&&(f=f||O.defaultEncoding,f!==O.encoding&&(M=Ze.from(M,f),f=""),_=!0),g(this,M,f,!1,_)},w.prototype.unshift=function(M){return g(this,M,null,!0,!1)},w.prototype.isPaused=function(){return this._readableState.flowing===!1},w.prototype.setEncoding=function(M){ot||(ot=o("string_decoder/").StringDecoder);var f=new ot(M);this._readableState.decoder=f,this._readableState.encoding=this._readableState.decoder.encoding;for(var _=this._readableState.buffer.head,O="";_!==null;)O+=f.write(_.data),_=_.next;return this._readableState.buffer.clear(),O!==""&&this._readableState.buffer.push(O),this._readableState.length=O.length,this},w.prototype.read=function(M){se("read",M),M=parseInt(M,10);var f=this._readableState,_=M;if(M!==0&&(f.emittedReadable=!1),M===0&&f.needReadable&&((f.highWaterMark===0?0<f.length:f.length>=f.highWaterMark)||f.ended))return se("read: emitReadable",f.length,f.ended),f.length===0&&f.ended?Re(this):R(this),null;if(M=C(M,f),M===0&&f.ended)return f.length===0&&Re(this),null;var O=f.needReadable;se("need readable",O),(f.length===0||f.length-M<f.highWaterMark)&&(O=!0,se("length less than watermark",O)),f.ended||f.reading?(O=!1,se("reading or ended",O)):O&&(se("do read"),f.reading=!0,f.sync=!0,f.length===0&&(f.needReadable=!0),this._read(f.highWaterMark),f.sync=!1,!f.reading&&(M=C(_,f)));var $;return $=0<M?Ee(M,f):null,$===null?(f.needReadable=f.length<=f.highWaterMark,M=0):(f.length-=M,f.awaitDrain=0),f.length===0&&(!f.ended&&(f.needReadable=!0),_!==M&&f.ended&&Re(this)),$!==null&&this.emit("data",$),$},w.prototype._read=function(){me(this,new X("_read()"))},w.prototype.pipe=function(M,f){function _(Oe,yn){se("onunpipe"),Oe===ze&&yn&&yn.hasUnpiped===!1&&(yn.hasUnpiped=!0,$())}function O(){se("onend"),M.end()}function $(){se("cleanup"),M.removeListener("close",De),M.removeListener("finish",Ke),M.removeListener("drain",Gn),M.removeListener("error",re),M.removeListener("unpipe",_),ze.removeListener("end",O),ze.removeListener("end",ut),ze.removeListener("data",V),Xt=!0,We.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&Gn()}function V(Oe){se("ondata");var yn=M.write(Oe);se("dest.write",yn),yn===!1&&((We.pipesCount===1&&We.pipes===M||1<We.pipesCount&&Ie(We.pipes,M)!==-1)&&!Xt&&(se("false write response, pause",We.awaitDrain),We.awaitDrain++),ze.pause())}function re(Oe){se("onerror",Oe),ut(),M.removeListener("error",re),we(M,"error")===0&&me(M,Oe)}function De(){M.removeListener("finish",Ke),ut()}function Ke(){se("onfinish"),M.removeListener("close",De),ut()}function ut(){se("unpipe"),ze.unpipe(M)}var ze=this,We=this._readableState;switch(We.pipesCount){case 0:We.pipes=M;break;case 1:We.pipes=[We.pipes,M];break;default:We.pipes.push(M)}We.pipesCount+=1,se("pipe count=%d opts=%j",We.pipesCount,f);var mt=(!f||f.end!==!1)&&M!==s.stdout&&M!==s.stderr,vn=mt?O:ut;We.endEmitted?s.nextTick(vn):ze.once("end",vn),M.on("unpipe",_);var Gn=L(ze);M.on("drain",Gn);var Xt=!1;return ze.on("data",V),h(M,"error",re),M.once("close",De),M.once("finish",Ke),M.emit("pipe",ze),We.flowing||(se("pipe resume"),ze.resume()),M},w.prototype.unpipe=function(M){var f=this._readableState,_={hasUnpiped:!1};if(f.pipesCount===0)return this;if(f.pipesCount===1)return M&&M!==f.pipes?this:(M||(M=f.pipes),f.pipes=null,f.pipesCount=0,f.flowing=!1,M&&M.emit("unpipe",this,_),this);if(!M){var O=f.pipes,$=f.pipesCount;f.pipes=null,f.pipesCount=0,f.flowing=!1;for(var V=0;V<$;V++)O[V].emit("unpipe",this,{hasUnpiped:!1});return this}var re=Ie(f.pipes,M);return re===-1?this:(f.pipes.splice(re,1),f.pipesCount-=1,f.pipesCount===1&&(f.pipes=f.pipes[0]),M.emit("unpipe",this,_),this)},w.prototype.on=function(M,f){var _=Ne.prototype.on.call(this,M,f),O=this._readableState;return M==="data"?(O.readableListening=0<this.listenerCount("readable"),O.flowing!==!1&&this.resume()):M=="readable"&&!O.endEmitted&&!O.readableListening&&(O.readableListening=O.needReadable=!0,O.flowing=!1,O.emittedReadable=!1,se("on readable",O.length,O.reading),O.length?R(this):!O.reading&&s.nextTick(N,this)),_},w.prototype.addListener=w.prototype.on,w.prototype.removeListener=function(M,f){var _=Ne.prototype.removeListener.call(this,M,f);return M==="readable"&&s.nextTick(B,this),_},w.prototype.removeAllListeners=function(M){var f=Ne.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&s.nextTick(B,this),f},w.prototype.resume=function(){var M=this._readableState;return M.flowing||(se("resume"),M.flowing=!M.readableListening,F(this,M)),M.paused=!1,this},w.prototype.pause=function(){return se("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(se("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},w.prototype.wrap=function(M){var f=this,_=this._readableState,O=!1;for(var $ in M.on("end",function(){if(se("wrapped end"),_.decoder&&!_.ended){var re=_.decoder.end();re&&re.length&&f.push(re)}f.push(null)}),M.on("data",function(re){if(se("wrapped data"),_.decoder&&(re=_.decoder.write(re)),!(_.objectMode&&re==null)&&(_.objectMode||re&&re.length)){var De=f.push(re);De||(O=!0,M.pause())}}),M)this[$]===void 0&&typeof M[$]=="function"&&(this[$]=function(re){return function(){return M[re].apply(M,arguments)}}($));for(var V=0;V<Me.length;V++)M.on(Me[V],this.emit.bind(this,Me[V]));return this._read=function(re){se("wrapped _read",re),O&&(O=!1,M.resume())},this},typeof Symbol=="function"&&(w.prototype[Symbol.asyncIterator]=function(){return at===void 0&&(at=o("./internal/streams/async_iterator")),at(this)}),Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(w.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(w.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(M){this._readableState&&(this._readableState.flowing=M)}}),w._fromList=Ee,Object.defineProperty(w.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(w.from=function(M,f){return Mt===void 0&&(Mt=o("./internal/streams/from")),Mt(w,M,f)})}).call(this)}).call(this,o("_process"),typeof Zn>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Zn)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/async_iterator":21,"./internal/streams/buffer_list":22,"./internal/streams/destroy":23,"./internal/streams/from":25,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,events:7,inherits:10,"string_decoder/":31,util:2}],19:[function(o,a){function s(S,C){var y=this._transformState;y.transforming=!1;var R=y.writecb;if(R===null)return this.emit("error",new w);y.writechunk=null,y.writecb=null,C!=null&&this.push(C),R(S);var D=this._readableState;D.reading=!1,(D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}function u(S){return this instanceof u?(I.call(this,S),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&(typeof S.transform=="function"&&(this._transform=S.transform),typeof S.flush=="function"&&(this._flush=S.flush)),void this.on("prefinish",d)):new u(S)}function d(){var S=this;typeof this._flush!="function"||this._readableState.destroyed?m(this,null,null):this._flush(function(C,y){m(S,C,y)})}function m(S,C,y){if(C)return S.emit("error",C);if(y!=null&&S.push(y),S._writableState.length)throw new E;if(S._transformState.transforming)throw new g;return S.push(null)}a.exports=u;var h=o("../errors").codes,p=h.ERR_METHOD_NOT_IMPLEMENTED,w=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_TRANSFORM_ALREADY_TRANSFORMING,E=h.ERR_TRANSFORM_WITH_LENGTH_0,I=o("./_stream_duplex");o("inherits")(u,I),u.prototype.push=function(S,C){return this._transformState.needTransform=!1,I.prototype.push.call(this,S,C)},u.prototype._transform=function(S,C,y){y(new p("_transform()"))},u.prototype._write=function(S,C,y){var R=this._transformState;if(R.writecb=y,R.writechunk=S,R.writeencoding=C,!R.transforming){var D=this._readableState;(R.needTransform||D.needReadable||D.length<D.highWaterMark)&&this._read(D.highWaterMark)}},u.prototype._read=function(){var S=this._transformState;S.writechunk===null||S.transforming?S.needTransform=!0:(S.transforming=!0,this._transform(S.writechunk,S.writeencoding,S.afterTransform))},u.prototype._destroy=function(S,C){I.prototype._destroy.call(this,S,function(y){C(y)})}},{"../errors":15,"./_stream_duplex":16,inherits:10}],20:[function(o,a){(function(s,u){(function(){function d(X){var ie=this;this.next=null,this.entry=null,this.finish=function(){Re(ie,X)}}function m(X){return se.from(X)}function h(X){return se.isBuffer(X)||X instanceof we}function p(){}function w(X,ie,me){Ce=Ce||o("./_stream_duplex"),X=X||{},typeof me!="boolean"&&(me=ie instanceof Ce),this.objectMode=!!X.objectMode,me&&(this.objectMode=this.objectMode||!!X.writableObjectMode),this.highWaterMark=je(this,X,"writableHighWaterMark",me),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Me=X.decodeStrings===!1;this.decodeStrings=!Me,this.defaultEncoding=X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(M){k(ie,M)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function g(X){Ce=Ce||o("./_stream_duplex");var ie=this instanceof Ce;return ie||mn.call(g,this)?(this._writableState=new w(X,this,ie),this.writable=!0,X&&(typeof X.write=="function"&&(this._write=X.write),typeof X.writev=="function"&&(this._writev=X.writev),typeof X.destroy=="function"&&(this._destroy=X.destroy),typeof X.final=="function"&&(this._final=X.final)),void fe.call(this)):new g(X)}function E(X,ie){var me=new xt;Bt(X,me),s.nextTick(ie,me)}function I(X,ie,me,Me){var M;return me===null?M=new Yn:typeof me!="string"&&!ie.objectMode&&(M=new ot("chunk",["string","Buffer"],me)),!M||(Bt(X,M),s.nextTick(Me,M),!1)}function S(X,ie,me){return X.objectMode||X.decodeStrings===!1||typeof ie!="string"||(ie=se.from(ie,me)),ie}function C(X,ie,me,Me,M,f){if(!me){var _=S(ie,Me,M);Me!==_&&(me=!0,M="buffer",Me=_)}var O=ie.objectMode?1:Me.length;ie.length+=O;var $=ie.length<ie.highWaterMark;if($||(ie.needDrain=!0),ie.writing||ie.corked){var V=ie.lastBufferedRequest;ie.lastBufferedRequest={chunk:Me,encoding:M,isBuf:me,callback:f,next:null},V?V.next=ie.lastBufferedRequest:ie.bufferedRequest=ie.lastBufferedRequest,ie.bufferedRequestCount+=1}else y(X,ie,!1,O,Me,M,f);return $}function y(X,ie,me,Me,M,f,_){ie.writelen=Me,ie.writecb=_,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new Ae("write")):me?X._writev(M,ie.onwrite):X._write(M,f,ie.onwrite),ie.sync=!1}function R(X,ie,me,Me,M){--ie.pendingcb,me?(s.nextTick(M,Me),s.nextTick(ue,X,ie),X._writableState.errorEmitted=!0,Bt(X,Me)):(M(Me),X._writableState.errorEmitted=!0,Bt(X,Me),ue(X,ie))}function D(X){X.writing=!1,X.writecb=null,X.length-=X.writelen,X.writelen=0}function k(X,ie){var me=X._writableState,Me=me.sync,M=me.writecb;if(typeof M!="function")throw new Mt;if(D(me),ie)R(X,me,Me,ie,M);else{var f=N(me)||X.destroyed;f||me.corked||me.bufferProcessing||!me.bufferedRequest||B(X,me),Me?s.nextTick(P,X,me,f,M):P(X,me,f,M)}}function P(X,ie,me,Me){me||L(X,ie),ie.pendingcb--,Me(),ue(X,ie)}function L(X,ie){ie.length===0&&ie.needDrain&&(ie.needDrain=!1,X.emit("drain"))}function B(X,ie){ie.bufferProcessing=!0;var me=ie.bufferedRequest;if(X._writev&&me&&me.next){var Me=ie.bufferedRequestCount,M=Array(Me),f=ie.corkedRequestsFree;f.entry=me;for(var _=0,O=!0;me;)M[_]=me,me.isBuf||(O=!1),me=me.next,_+=1;M.allBuffers=O,y(X,ie,!0,ie.length,M,"",f.finish),ie.pendingcb++,ie.lastBufferedRequest=null,f.next?(ie.corkedRequestsFree=f.next,f.next=null):ie.corkedRequestsFree=new d(ie),ie.bufferedRequestCount=0}else{for(;me;){var $=me.chunk,V=me.encoding,re=me.callback,De=ie.objectMode?1:$.length;if(y(X,ie,!1,De,$,V,re),me=me.next,ie.bufferedRequestCount--,ie.writing)break}me===null&&(ie.lastBufferedRequest=null)}ie.bufferedRequest=me,ie.bufferProcessing=!1}function N(X){return X.ending&&X.length===0&&X.bufferedRequest===null&&!X.finished&&!X.writing}function F(X,ie){X._final(function(me){ie.pendingcb--,me&&Bt(X,me),ie.prefinished=!0,X.emit("prefinish"),ue(X,ie)})}function Z(X,ie){ie.prefinished||ie.finalCalled||(typeof X._final!="function"||ie.destroyed?(ie.prefinished=!0,X.emit("prefinish")):(ie.pendingcb++,ie.finalCalled=!0,s.nextTick(F,X,ie)))}function ue(X,ie){var me=N(ie);if(me&&(Z(X,ie),ie.pendingcb===0&&(ie.finished=!0,X.emit("finish"),ie.autoDestroy))){var Me=X._readableState;(!Me||Me.autoDestroy&&Me.endEmitted)&&X.destroy()}return me}function Ee(X,ie,me){ie.ending=!0,ue(X,ie),me&&(ie.finished?s.nextTick(me):X.once("finish",me)),ie.ended=!0,X.writable=!1}function Re(X,ie,me){var Me=X.entry;for(X.entry=null;Me;){var M=Me.callback;ie.pendingcb--,M(me),Me=Me.next}ie.corkedRequestsFree.next=X}a.exports=g;var Ce;g.WritableState=w;var Ie={deprecate:o("util-deprecate")},fe=o("./internal/streams/stream"),se=o("buffer").Buffer,we=u.Uint8Array||function(){},Ne=o("./internal/streams/destroy"),Ze=o("./internal/streams/state"),je=Ze.getHighWaterMark,Le=o("../errors").codes,ot=Le.ERR_INVALID_ARG_TYPE,at=Le.ERR_METHOD_NOT_IMPLEMENTED,Mt=Le.ERR_MULTIPLE_CALLBACK,Br=Le.ERR_STREAM_CANNOT_PIPE,Ae=Le.ERR_STREAM_DESTROYED,Yn=Le.ERR_STREAM_NULL_VALUES,xt=Le.ERR_STREAM_WRITE_AFTER_END,Qe=Le.ERR_UNKNOWN_ENCODING,Bt=Ne.errorOrDestroy;o("inherits")(g,fe),w.prototype.getBuffer=function(){for(var X=this.bufferedRequest,ie=[];X;)ie.push(X),X=X.next;return ie},function(){try{Object.defineProperty(w.prototype,"buffer",{get:Ie.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var mn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(mn=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(X){return!!mn.call(this,X)||this===g&&X&&X._writableState instanceof w}})):mn=function(X){return X instanceof this},g.prototype.pipe=function(){Bt(this,new Br)},g.prototype.write=function(X,ie,me){var Me=this._writableState,M=!1,f=!Me.objectMode&&h(X);return f&&!se.isBuffer(X)&&(X=m(X)),typeof ie=="function"&&(me=ie,ie=null),f?ie="buffer":!ie&&(ie=Me.defaultEncoding),typeof me!="function"&&(me=p),Me.ending?E(this,me):(f||I(this,Me,X,me))&&(Me.pendingcb++,M=C(this,Me,f,X,ie,me)),M},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var X=this._writableState;X.corked&&(X.corked--,!X.writing&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&B(this,X))},g.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())))throw new Qe(X);return this._writableState.defaultEncoding=X,this},Object.defineProperty(g.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(X,ie,me){me(new at("_write()"))},g.prototype._writev=null,g.prototype.end=function(X,ie,me){var Me=this._writableState;return typeof X=="function"?(me=X,X=null,ie=null):typeof ie=="function"&&(me=ie,ie=null),X!=null&&this.write(X,ie),Me.corked&&(Me.corked=1,this.uncork()),Me.ending||Ee(this,Me,me),this},Object.defineProperty(g.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(g.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(X){this._writableState&&(this._writableState.destroyed=X)}}),g.prototype.destroy=Ne.destroy,g.prototype._undestroy=Ne.undestroy,g.prototype._destroy=function(X,ie){ie(X)}}).call(this)}).call(this,o("_process"),typeof Zn>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Zn)},{"../errors":15,"./_stream_duplex":16,"./internal/streams/destroy":23,"./internal/streams/state":27,"./internal/streams/stream":28,_process:12,buffer:3,inherits:10,"util-deprecate":32}],21:[function(o,a){(function(s){(function(){function u(L,B,N){return B in L?Object.defineProperty(L,B,{value:N,enumerable:!0,configurable:!0,writable:!0}):L[B]=N,L}function d(L,B){return{value:L,done:B}}function m(L){var B=L[E];if(B!==null){var N=L[D].read();N!==null&&(L[y]=null,L[E]=null,L[I]=null,B(d(N,!1)))}}function h(L){s.nextTick(m,L)}function p(L,B){return function(N,F){L.then(function(){return B[C]?void N(d(void 0,!0)):void B[R](N,F)},F)}}var w,g=o("./end-of-stream"),E=Symbol("lastResolve"),I=Symbol("lastReject"),S=Symbol("error"),C=Symbol("ended"),y=Symbol("lastPromise"),R=Symbol("handlePromise"),D=Symbol("stream"),k=Object.getPrototypeOf(function(){}),P=Object.setPrototypeOf((w={get stream(){return this[D]},next:function(){var L=this,B=this[S];if(B!==null)return Promise.reject(B);if(this[C])return Promise.resolve(d(void 0,!0));if(this[D].destroyed)return new Promise(function(ue,Ee){s.nextTick(function(){L[S]?Ee(L[S]):ue(d(void 0,!0))})});var N,F=this[y];if(F)N=new Promise(p(F,this));else{var Z=this[D].read();if(Z!==null)return Promise.resolve(d(Z,!1));N=new Promise(this[R])}return this[y]=N,N}},u(w,Symbol.asyncIterator,function(){return this}),u(w,"return",function(){var L=this;return new Promise(function(B,N){L[D].destroy(null,function(F){return F?void N(F):void B(d(void 0,!0))})})}),w),k);a.exports=function(L){var B,N=Object.create(P,(B={},u(B,D,{value:L,writable:!0}),u(B,E,{value:null,writable:!0}),u(B,I,{value:null,writable:!0}),u(B,S,{value:null,writable:!0}),u(B,C,{value:L._readableState.endEmitted,writable:!0}),u(B,R,{value:function(F,Z){var ue=N[D].read();ue?(N[y]=null,N[E]=null,N[I]=null,F(d(ue,!1))):(N[E]=F,N[I]=Z)},writable:!0}),B));return N[y]=null,g(L,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Z=N[I];return Z!==null&&(N[y]=null,N[E]=null,N[I]=null,Z(F)),void(N[S]=F)}var ue=N[E];ue!==null&&(N[y]=null,N[E]=null,N[I]=null,ue(d(void 0,!0))),N[C]=!0}),L.on("readable",h.bind(null,N)),N}}).call(this)}).call(this,o("_process"))},{"./end-of-stream":24,_process:12}],22:[function(o,a){function s(y,R){var D=Object.keys(y);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(y);R&&(k=k.filter(function(P){return Object.getOwnPropertyDescriptor(y,P).enumerable})),D.push.apply(D,k)}return D}function u(y){for(var R,D=1;D<arguments.length;D++)R=arguments[D]==null?{}:arguments[D],D%2?s(Object(R),!0).forEach(function(k){d(y,k,R[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(R)):s(Object(R)).forEach(function(k){Object.defineProperty(y,k,Object.getOwnPropertyDescriptor(R,k))});return y}function d(y,R,D){return R in y?Object.defineProperty(y,R,{value:D,enumerable:!0,configurable:!0,writable:!0}):y[R]=D,y}function m(y,R){if(!(y instanceof R))throw new TypeError("Cannot call a class as a function")}function h(y,R){for(var D,k=0;k<R.length;k++)D=R[k],D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(y,D.key,D)}function p(y,R,D){return R&&h(y.prototype,R),D&&h(y,D),y}function w(y,R,D){E.prototype.copy.call(y,R,D)}var g=o("buffer"),E=g.Buffer,I=o("util"),S=I.inspect,C=S&&S.custom||"inspect";a.exports=function(){function y(){m(this,y),this.head=null,this.tail=null,this.length=0}return p(y,[{key:"push",value:function(R){var D={data:R,next:null};0<this.length?this.tail.next=D:this.head=D,this.tail=D,++this.length}},{key:"unshift",value:function(R){var D={data:R,next:this.head};this.length===0&&(this.tail=D),this.head=D,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.head=this.length===1?this.tail=null:this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var D=this.head,k=""+D.data;D=D.next;)k+=R+D.data;return k}},{key:"concat",value:function(R){if(this.length===0)return E.alloc(0);for(var D=E.allocUnsafe(R>>>0),k=this.head,P=0;k;)w(k.data,D,P),P+=k.data.length,k=k.next;return D}},{key:"consume",value:function(R,D){var k;return R<this.head.data.length?(k=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?k=this.shift():k=D?this._getString(R):this._getBuffer(R),k}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var D=this.head,k=1,P=D.data;for(R-=P.length;D=D.next;){var L=D.data,B=R>L.length?L.length:R;if(P+=B===L.length?L:L.slice(0,R),R-=B,R===0){B===L.length?(++k,this.head=D.next?D.next:this.tail=null):(this.head=D,D.data=L.slice(B));break}++k}return this.length-=k,P}},{key:"_getBuffer",value:function(R){var D=E.allocUnsafe(R),k=this.head,P=1;for(k.data.copy(D),R-=k.data.length;k=k.next;){var L=k.data,B=R>L.length?L.length:R;if(L.copy(D,D.length-R,0,B),R-=B,R===0){B===L.length?(++P,this.head=k.next?k.next:this.tail=null):(this.head=k,k.data=L.slice(B));break}++P}return this.length-=P,D}},{key:C,value:function(R,D){return S(this,u({},D,{depth:0,customInspect:!1}))}}]),y}()},{buffer:3,util:2}],23:[function(o,a){(function(s){(function(){function u(h,p){m(h,p),d(h)}function d(h){h._writableState&&!h._writableState.emitClose||h._readableState&&!h._readableState.emitClose||h.emit("close")}function m(h,p){h.emit("error",p)}a.exports={destroy:function(h,p){var w=this,g=this._readableState&&this._readableState.destroyed,E=this._writableState&&this._writableState.destroyed;return g||E?(p?p(h):h&&(this._writableState?!this._writableState.errorEmitted&&(this._writableState.errorEmitted=!0,s.nextTick(m,this,h)):s.nextTick(m,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,function(I){!p&&I?w._writableState?w._writableState.errorEmitted?s.nextTick(d,w):(w._writableState.errorEmitted=!0,s.nextTick(u,w,I)):s.nextTick(u,w,I):p?(s.nextTick(d,w),p(I)):s.nextTick(d,w)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(h,p){var w=h._readableState,g=h._writableState;w&&w.autoDestroy||g&&g.autoDestroy?h.destroy(p):h.emit("error",p)}}}).call(this)}).call(this,o("_process"))},{_process:12}],24:[function(o,a){function s(p){var w=!1;return function(){if(!w){w=!0;for(var g=arguments.length,E=Array(g),I=0;I<g;I++)E[I]=arguments[I];p.apply(this,E)}}}function u(){}function d(p){return p.setHeader&&typeof p.abort=="function"}function m(p,w,g){if(typeof w=="function")return m(p,null,w);w||(w={}),g=s(g||u);var E=w.readable||w.readable!==!1&&p.readable,I=w.writable||w.writable!==!1&&p.writable,S=function(){p.writable||y()},C=p._writableState&&p._writableState.finished,y=function(){I=!1,C=!0,E||g.call(p)},R=p._readableState&&p._readableState.endEmitted,D=function(){E=!1,R=!0,I||g.call(p)},k=function(B){g.call(p,B)},P=function(){var B;return E&&!R?(p._readableState&&p._readableState.ended||(B=new h),g.call(p,B)):I&&!C?(p._writableState&&p._writableState.ended||(B=new h),g.call(p,B)):void 0},L=function(){p.req.on("finish",y)};return d(p)?(p.on("complete",y),p.on("abort",P),p.req?L():p.on("request",L)):I&&!p._writableState&&(p.on("end",S),p.on("close",S)),p.on("end",D),p.on("finish",y),w.error!==!1&&p.on("error",k),p.on("close",P),function(){p.removeListener("complete",y),p.removeListener("abort",P),p.removeListener("request",L),p.req&&p.req.removeListener("finish",y),p.removeListener("end",S),p.removeListener("close",S),p.removeListener("finish",y),p.removeListener("end",D),p.removeListener("error",k),p.removeListener("close",P)}}var h=o("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;a.exports=m},{"../../../errors":15}],25:[function(o,a){a.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],26:[function(o,a){function s(C){var y=!1;return function(){y||(y=!0,C.apply(void 0,arguments))}}function u(C){if(C)throw C}function d(C){return C.setHeader&&typeof C.abort=="function"}function m(C,y,R,D){D=s(D);var k=!1;C.on("close",function(){k=!0}),g===void 0&&(g=o("./end-of-stream")),g(C,{readable:y,writable:R},function(L){return L?D(L):(k=!0,void D())});var P=!1;return function(L){if(!k)return P?void 0:(P=!0,d(C)?C.abort():typeof C.destroy=="function"?C.destroy():void D(L||new S("pipe")))}}function h(C){C()}function p(C,y){return C.pipe(y)}function w(C){return C.length&&typeof C[C.length-1]=="function"?C.pop():u}var g,E=o("../../../errors").codes,I=E.ERR_MISSING_ARGS,S=E.ERR_STREAM_DESTROYED;a.exports=function(){for(var C=arguments.length,y=Array(C),R=0;R<C;R++)y[R]=arguments[R];var D=w(y);if(Array.isArray(y[0])&&(y=y[0]),2>y.length)throw new I("streams");var k,P=y.map(function(L,B){var N=B<y.length-1;return m(L,N,0<B,function(F){k||(k=F),F&&P.forEach(h),N||(P.forEach(h),D(k))})});return y.reduce(p)}},{"../../../errors":15,"./end-of-stream":24}],27:[function(o,a){function s(d,m,h){return d.highWaterMark==null?m?d[h]:null:d.highWaterMark}var u=o("../../../errors").codes.ERR_INVALID_OPT_VALUE;a.exports={getHighWaterMark:function(d,m,h,p){var w=s(m,p,h);if(w!=null){if(!(isFinite(w)&&n(w)===w)||0>w){var g=p?h:"highWaterMark";throw new u(g,w)}return n(w)}return d.objectMode?16:16384}}},{"../../../errors":15}],28:[function(o,a){a.exports=o("events").EventEmitter},{events:7}],29:[function(o,a,s){s=a.exports=o("./lib/_stream_readable.js"),s.Stream=s,s.Readable=s,s.Writable=o("./lib/_stream_writable.js"),s.Duplex=o("./lib/_stream_duplex.js"),s.Transform=o("./lib/_stream_transform.js"),s.PassThrough=o("./lib/_stream_passthrough.js"),s.finished=o("./lib/internal/streams/end-of-stream.js"),s.pipeline=o("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":16,"./lib/_stream_passthrough.js":17,"./lib/_stream_readable.js":18,"./lib/_stream_transform.js":19,"./lib/_stream_writable.js":20,"./lib/internal/streams/end-of-stream.js":24,"./lib/internal/streams/pipeline.js":26}],30:[function(o,a,s){function u(p,w){for(var g in p)w[g]=p[g]}function d(p,w,g){return h(p,w,g)}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m=o("buffer"),h=m.Buffer;h.from&&h.alloc&&h.allocUnsafe&&h.allocUnsafeSlow?a.exports=m:(u(m,s),s.Buffer=d),d.prototype=Object.create(h.prototype),u(h,d),d.from=function(p,w,g){if(typeof p=="number")throw new TypeError("Argument must not be a number");return h(p,w,g)},d.alloc=function(p,w,g){if(typeof p!="number")throw new TypeError("Argument must be a number");var E=h(p);return w===void 0?E.fill(0):typeof g=="string"?E.fill(w,g):E.fill(w),E},d.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return h(p)},d.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(p)}},{buffer:3}],31:[function(o,a,s){function u(P){if(!P)return"utf8";for(var L;;)switch(P){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return P;default:if(L)return;P=(""+P).toLowerCase(),L=!0}}function d(P){var L=u(P);if(typeof L!="string"&&(D.isEncoding===k||!k(P)))throw new Error("Unknown encoding: "+P);return L||P}function m(P){this.encoding=d(P);var L;switch(this.encoding){case"utf16le":this.text=E,this.end=I,L=4;break;case"utf8":this.fillLast=g,L=4;break;case"base64":this.text=S,this.end=C,L=3;break;default:return this.write=y,void(this.end=R)}this.lastNeed=0,this.lastTotal=0,this.lastChar=D.allocUnsafe(L)}function h(P){return 127>=P?0:P>>5==6?2:P>>4==14?3:P>>3==30?4:P>>6==2?-1:-2}function p(P,L,B){var N=L.length-1;if(N<B)return 0;var F=h(L[N]);return 0<=F?(0<F&&(P.lastNeed=F-1),F):--N<B||F===-2?0:(F=h(L[N]),0<=F?(0<F&&(P.lastNeed=F-2),F):--N<B||F===-2?0:(F=h(L[N]),0<=F?(0<F&&(F===2?F=0:P.lastNeed=F-3),F):0))}function w(P,L){if((192&L[0])!=128)return P.lastNeed=0,"�";if(1<P.lastNeed&&1<L.length){if((192&L[1])!=128)return P.lastNeed=1,"�";if(2<P.lastNeed&&2<L.length&&(192&L[2])!=128)return P.lastNeed=2,"�"}}function g(P){var L=this.lastTotal-this.lastNeed,B=w(this,P);return B===void 0?this.lastNeed<=P.length?(P.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(P.copy(this.lastChar,L,0,P.length),void(this.lastNeed-=P.length)):B}function E(P,L){if((P.length-L)%2==0){var B=P.toString("utf16le",L);if(B){var N=B.charCodeAt(B.length-1);if(55296<=N&&56319>=N)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=P[P.length-2],this.lastChar[1]=P[P.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=P[P.length-1],P.toString("utf16le",L,P.length-1)}function I(P){var L=P&&P.length?this.write(P):"";if(this.lastNeed){var B=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,B)}return L}function S(P,L){var B=(P.length-L)%3;return B==0?P.toString("base64",L):(this.lastNeed=3-B,this.lastTotal=3,B==1?this.lastChar[0]=P[P.length-1]:(this.lastChar[0]=P[P.length-2],this.lastChar[1]=P[P.length-1]),P.toString("base64",L,P.length-B))}function C(P){var L=P&&P.length?this.write(P):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function y(P){return P.toString(this.encoding)}function R(P){return P&&P.length?this.write(P):""}var D=o("safe-buffer").Buffer,k=D.isEncoding||function(P){switch(P=""+P,P&&P.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};s.StringDecoder=m,m.prototype.write=function(P){if(P.length===0)return"";var L,B;if(this.lastNeed){if(L=this.fillLast(P),L===void 0)return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<P.length?L?L+this.text(P,B):this.text(P,B):L||""},m.prototype.end=function(P){var L=P&&P.length?this.write(P):"";return this.lastNeed?L+"�":L},m.prototype.text=function(P,L){var B=p(this,P,L);if(!this.lastNeed)return P.toString("utf8",L);this.lastTotal=B;var N=P.length-(B-this.lastNeed);return P.copy(this.lastChar,0,N),P.toString("utf8",L,N)},m.prototype.fillLast=function(P){return this.lastNeed<=P.length?(P.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(P.copy(this.lastChar,this.lastTotal-this.lastNeed,0,P.length),void(this.lastNeed-=P.length))}},{"safe-buffer":30}],32:[function(o,a){(function(s){(function(){function u(d){try{if(!s.localStorage)return!1}catch{return!1}var m=s.localStorage[d];return m!=null&&(m+"").toLowerCase()==="true"}a.exports=function(d,m){function h(){if(!p){if(u("throwDeprecation"))throw new Error(m);u("traceDeprecation")?console.trace(m):console.warn(m),p=!0}return d.apply(this,arguments)}if(u("noDeprecation"))return d;var p=!1;return h}}).call(this)}).call(this,typeof Zn>"u"?typeof self>"u"?typeof window>"u"?{}:window:self:Zn)},{}],"/":[function(o,a){function s(C){return C.replace(/a=ice-options:trickle\s\n/g,"")}function u(C){console.warn(C)}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const d=o("debug")("simple-peer"),m=o("get-browser-rtc"),h=o("randombytes"),p=o("readable-stream"),w=o("queue-microtask"),g=o("err-code"),{Buffer:E}=o("buffer"),I=65536;class S extends p.Duplex{constructor(y){if(y=Object.assign({allowHalfOpen:!1},y),super(y),this._id=h(4).toString("hex").slice(0,7),this._debug("new peer %o",y),this.channelName=y.initiator?y.channelName||h(20).toString("hex"):null,this.initiator=y.initiator||!1,this.channelConfig=y.channelConfig||S.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},S.config,y.config),this.offerOptions=y.offerOptions||{},this.answerOptions=y.answerOptions||{},this.sdpTransform=y.sdpTransform||(R=>R),this.streams=y.streams||(y.stream?[y.stream]:[]),this.trickle=y.trickle===void 0||y.trickle,this.allowHalfTrickle=y.allowHalfTrickle!==void 0&&y.allowHalfTrickle,this.iceCompleteTimeout=y.iceCompleteTimeout||5e3,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=y.wrtc&&typeof y.wrtc=="object"?y.wrtc:m(),!this._wrtc)throw g(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(R){return void this.destroy(g(R,"ERR_PC_CONSTRUCTOR"))}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=R=>{this._onIceCandidate(R)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(R=>{this.destroy(g(R,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=R=>{this._setupData(R)},this.streams&&this.streams.forEach(R=>{this.addStream(R)}),this._pc.ontrack=R=>{this._onTrack(R)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(y){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof y=="string")try{y=JSON.parse(y)}catch{y={}}this._debug("signal()"),y.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),y.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(y.transceiverRequest.kind,y.transceiverRequest.init)),y.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(y.candidate):this._pendingCandidates.push(y.candidate)),y.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(y)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(R=>{this._addIceCandidate(R)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(R=>{this.destroy(g(R,"ERR_SET_REMOTE_DESCRIPTION"))}),y.sdp||y.candidate||y.renegotiate||y.transceiverRequest||this.destroy(g(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(y){const R=new this._wrtc.RTCIceCandidate(y);this._pc.addIceCandidate(R).catch(D=>{!R.address||R.address.endsWith(".local")?u("Ignoring unsupported ICE candidate."):this.destroy(g(D,"ERR_ADD_ICE_CANDIDATE"))})}send(y){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(y)}}addTransceiver(y,R){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(y,R),this._needsNegotiation()}catch(D){this.destroy(g(D,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:y,init:R}})}}addStream(y){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),y.getTracks().forEach(R=>{this.addTrack(R,y)})}}addTrack(y,R){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const D=this._senderMap.get(y)||new Map;let k=D.get(R);if(!k)k=this._pc.addTrack(y,R),D.set(R,k),this._senderMap.set(y,D),this._needsNegotiation();else throw k.removed?g(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):g(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(y,R,D){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const k=this._senderMap.get(y),P=k?k.get(D):null;if(!P)throw g(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");R&&this._senderMap.set(R,k),P.replaceTrack==null?this.destroy(g(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK")):P.replaceTrack(R)}removeTrack(y,R){if(this.destroying)return;if(this.destroyed)throw g(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const D=this._senderMap.get(y),k=D?D.get(R):null;if(!k)throw g(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{k.removed=!0,this._pc.removeTrack(k)}catch(P){P.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(k):this.destroy(g(P,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(y){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),y.getTracks().forEach(R=>{this.removeTrack(R,y)})}}_needsNegotiation(){this._debug("_needsNegotiation"),this._batchedNegotiation||(this._batchedNegotiation=!0,w(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw g(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(y){this._destroy(y,()=>{})}_destroy(y,R){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",y&&(y.message||y)),w(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",y&&(y.message||y)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,y&&this.emit("error",y),this.emit("close"),R()}))}_setupData(y){if(!y.channel)return this.destroy(g(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=y.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=I),this.channelName=this._channel.label,this._channel.onmessage=D=>{this._onChannelMessage(D)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=D=>{const k=D.error instanceof Error?D.error:new Error(`Datachannel error: ${D.message} ${D.filename}:${D.lineno}:${D.colno}`);this.destroy(g(k,"ERR_DATA_CHANNEL"))};let R=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(R&&this._onChannelClose(),R=!0):R=!1},5e3)}_read(){}_write(y,R,D){if(this.destroyed)return D(g(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(y)}catch(k){return this.destroy(g(k,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>I?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=D):D(null)}else this._debug("write before connect"),this._chunk=y,this._cb=D}_onFinish(){if(!this.destroyed){const y=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?y():this.once("connect",y)}}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(y=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(y.sdp=s(y.sdp)),y.sdp=this.sdpTransform(y.sdp);const R=()=>{if(!this.destroyed){const D=this._pc.localDescription||y;this._debug("signal"),this.emit("signal",{type:D.type,sdp:D.sdp})}};this._pc.setLocalDescription(y).then(()=>{this._debug("createOffer success"),this.destroyed||(this.trickle||this._iceComplete?R():this.once("_iceComplete",R))}).catch(D=>{this.destroy(g(D,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(y=>{this.destroy(g(y,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(y=>{y.mid||!y.sender.track||y.requested||(y.requested=!0,this.addTransceiver(y.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(y=>{if(this.destroyed)return;this.trickle||this.allowHalfTrickle||(y.sdp=s(y.sdp)),y.sdp=this.sdpTransform(y.sdp);const R=()=>{if(!this.destroyed){const D=this._pc.localDescription||y;this._debug("signal"),this.emit("signal",{type:D.type,sdp:D.sdp}),this.initiator||this._requestMissingTransceivers()}};this._pc.setLocalDescription(y).then(()=>{this.destroyed||(this.trickle||this._iceComplete?R():this.once("_iceComplete",R))}).catch(D=>{this.destroy(g(D,"ERR_SET_LOCAL_DESCRIPTION"))})}).catch(y=>{this.destroy(g(y,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(g(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const y=this._pc.iceConnectionState,R=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",y,R),this.emit("iceStateChange",y,R),(y==="connected"||y==="completed")&&(this._pcReady=!0,this._maybeReady()),y==="failed"&&this.destroy(g(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),y==="closed"&&this.destroy(g(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(y){const R=D=>(Object.prototype.toString.call(D.values)==="[object Array]"&&D.values.forEach(k=>{Object.assign(D,k)}),D);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(D=>{const k=[];D.forEach(P=>{k.push(R(P))}),y(null,k)},D=>y(D)):0<this._pc.getStats.length?this._pc.getStats(D=>{if(this.destroyed)return;const k=[];D.result().forEach(P=>{const L={};P.names().forEach(B=>{L[B]=P.stat(B)}),L.id=P.id,L.type=P.type,L.timestamp=P.timestamp,k.push(R(L))}),y(null,k)},D=>y(D)):y(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const y=()=>{this.destroyed||this.getStats((R,D)=>{if(this.destroyed)return;R&&(D=[]);const k={},P={},L={};let B=!1;D.forEach(F=>{(F.type==="remotecandidate"||F.type==="remote-candidate")&&(k[F.id]=F),(F.type==="localcandidate"||F.type==="local-candidate")&&(P[F.id]=F),(F.type==="candidatepair"||F.type==="candidate-pair")&&(L[F.id]=F)});const N=F=>{B=!0;let Z=P[F.localCandidateId];Z&&(Z.ip||Z.address)?(this.localAddress=Z.ip||Z.address,this.localPort=+Z.port):Z&&Z.ipAddress?(this.localAddress=Z.ipAddress,this.localPort=+Z.portNumber):typeof F.googLocalAddress=="string"&&(Z=F.googLocalAddress.split(":"),this.localAddress=Z[0],this.localPort=+Z[1]),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let ue=k[F.remoteCandidateId];ue&&(ue.ip||ue.address)?(this.remoteAddress=ue.ip||ue.address,this.remotePort=+ue.port):ue&&ue.ipAddress?(this.remoteAddress=ue.ipAddress,this.remotePort=+ue.portNumber):typeof F.googRemoteAddress=="string"&&(ue=F.googRemoteAddress.split(":"),this.remoteAddress=ue[0],this.remotePort=+ue[1]),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(D.forEach(F=>{F.type==="transport"&&F.selectedCandidatePairId&&N(L[F.selectedCandidatePairId]),(F.type==="googCandidatePair"&&F.googActiveConnection==="true"||(F.type==="candidatepair"||F.type==="candidate-pair")&&F.selected)&&N(F)}),!B&&(!Object.keys(L).length||Object.keys(P).length))return void setTimeout(y,100);if(this._connecting=!1,this._connected=!0,this._chunk){try{this.send(this._chunk)}catch(Z){return this.destroy(g(Z,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const F=this._cb;this._cb=null,F(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};y()}_onInterval(){this._cb&&this._channel&&!(this._channel.bufferedAmount>I)&&this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(y=>{this._pc.removeTrack(y),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(y){this.destroyed||(y.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:y.candidate.candidate,sdpMLineIndex:y.candidate.sdpMLineIndex,sdpMid:y.candidate.sdpMid}}):!y.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),y.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(y){if(this.destroyed)return;let R=y.data;R instanceof ArrayBuffer&&(R=E.from(R)),this.push(R)}_onChannelBufferedAmountLow(){if(!this.destroyed&&this._cb){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const y=this._cb;this._cb=null,y(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(y){this.destroyed||y.streams.forEach(R=>{this._debug("on track"),this.emit("track",y.track,R),this._remoteTracks.push({track:y.track,stream:R}),this._remoteStreams.some(D=>D.id===R.id)||(this._remoteStreams.push(R),w(()=>{this._debug("on stream"),this.emit("stream",R)}))})}_debug(){const y=[].slice.call(arguments);y[0]="["+this._id+"] "+y[0],d.apply(null,y)}}S.WEBRTC_SUPPORT=!!m(),S.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},S.channelConfig={},a.exports=S},{buffer:3,debug:4,"err-code":6,"get-browser-rtc":8,"queue-microtask":13,randombytes:14,"readable-stream":29}]},{},[])("/")})})(x1);var C2=x1.exports;const k1=nc(C2);var x2=k1;function ud(e,t){e.send(JSON.stringify(t))}var R1="signaling.rxdb.info",yg="wss://"+R1+"/",gg=!1,k2=1e3*60*2;function R2({signalingServerUrl:e,wrtc:t,config:n,webSocketConstructor:r}){O2(),e=e||yg,r=r||WebSocket,e.includes(R1)&&!gg&&(gg=!0,console.warn(["RxDB Warning: You are using the RxDB WebRTC replication plugin","but you did not specify your own signaling server url.","By default it will use a signaling server provided by RxDB at "+yg,"This server is made for demonstration purposes and tryouts. It is not reliable and might be offline at any time.","In production you must always use your own signaling server instead.","Learn how to run your own server at https://rxdb.info/replication-webrtc.html","Also leave a ⭐ at the RxDB github repo 🙏 https://github.com/pubkey/rxdb 🙏"].join(" ")));var i=async o=>{var a=new yt,s=new yt,u=new yt,d=new yt,m=new yt,h=new Map,p=!1,w,g=void 0;E(),(async()=>{for(;await Mp(k2/2),!p;)g&&ud(g,{type:"ping"})})();function E(){p||(g=new r(e),g.onclose=()=>E(),g.onopen=()=>{$e(g).onmessage=S=>{var C=JSON.parse(S.data);switch(C.type){case"init":w=C.yourPeerId,ud($e(g),{type:"join",room:o.topic});break;case"joined":var y=function(D){var k=!1,P=new x2({initiator:D>w,wrtc:t,config:n,trickle:!0});P.id=qi(10),h.set(D,P),P.on("signal",L=>{ud($e(g),{type:"signal",senderPeerId:w,receiverPeerId:D,room:o.topic,data:L})}),P.on("data",L=>{L=JSON.parse(L.toString()),L.result?d.next({peer:P,response:L}):u.next({peer:P,message:L})}),P.on("error",L=>{m.next(le("RC_WEBRTC_PEER",{error:L})),P.destroy(),k||(k=!0,s.next(P))}),P.on("connect",()=>{a.next(P)}),P.on("close",()=>{k||(k=!0,s.next(P)),y(D)})};C.otherPeerIds.forEach(D=>{D===w||h.has(D)||y(D)});break;case"signal":var R=ni(h,C.senderPeerId);R.signal(C.data);break}}})}var I={error$:m,connect$:a,disconnect$:s,message$:u,response$:d,async send(S,C){await S.send(JSON.stringify(C))},destroy(){return p=!0,$e(g).close(),m.complete(),a.complete(),s.complete(),u.complete(),d.complete(),bn}};return I};return i}function O2(){if(typeof process>"u"||typeof process.nextTick!="function")throw le("RC7")}async function P2(e){var t=e.collection;Vn(mu),e.pull&&(e.pull.batchSize||(e.pull.batchSize=20)),e.push&&(e.push.batchSize||(e.push.batchSize=20)),t.database.multiInstance&&await t.database.waitForLeadership();var n=0,r=qi(10);function i(){var u=n++;return t.database.token+"|"+r+"|"+u}var o=await t.database.storageToken,a=new D2(t,e,await e.connectionHandlerCreator(e));a.subs.push(a.connectionHandler.error$.subscribe(u=>a.error$.next(u)),a.connectionHandler.disconnect$.subscribe(u=>a.removePeer(u))),a.subs.push(a.connectionHandler.message$.pipe(rt(u=>u.message.method==="token")).subscribe(u=>{a.connectionHandler.send(u.peer,{id:u.message.id,result:o})}));var s=a.connectionHandler.connect$.pipe(rt(()=>!a.canceled)).subscribe(async u=>{if(e.isPeerValid){var d=await e.isPeerValid(u);if(!d)return}var m;try{var h=await sd(a.connectionHandler,u,{id:i(),method:"token",params:[]});m=h.result}catch(S){a.error$.next(le("RC_WEBRTC_PEER",{error:S}));return}var p=await E2(t.database.hashFunction,o,m),w;if(p){var g=a.masterReplicationHandler,E=g.masterChangeStream$.subscribe(S=>{var C={id:"masterChangeStream$",result:S};a.connectionHandler.send(u,C)});a.subs.push(E,a.connectionHandler.disconnect$.pipe(rt(S=>S===u)).subscribe(()=>E.unsubscribe()));var I=a.connectionHandler.message$.pipe(rt(S=>S.peer===u),rt(S=>S.message.method!=="token")).subscribe(async S=>{var{peer:C,message:y}=S,R=g[y.method].bind(g),D=await R(...y.params),k={id:y.id,result:D};a.connectionHandler.send(C,k)});a.subs.push(I)}else w=m1({replicationIdentifier:[t.name,e.topic,m].join("||"),collection:t,autoStart:!0,deletedField:"_deleted",live:!0,retryTime:e.retryTime,waitForLeadership:!1,pull:e.pull?Object.assign({},e.pull,{async handler(S){var C=await sd(a.connectionHandler,u,{method:"masterChangesSince",params:[S,$e(e.pull).batchSize],id:i()});return C.result},stream$:a.connectionHandler.response$.pipe(rt(S=>S.response.id==="masterChangeStream$"),Bn(S=>S.response.result))}):void 0,push:e.push?Object.assign({},e.push,{async handler(S){var C=await sd(a.connectionHandler,u,{method:"masterWrite",params:[S],id:i()});return C.result}}):void 0});a.addPeer(u,w)});return a.subs.push(s),a}var D2=function(){function e(n,r,i){this.peerStates$=new Ir(new Map),this.canceled=!1,this.subs=[],this.error$=new yt,this.collection=n,this.options=r,this.connectionHandler=i,this.collection.onDestroy.push(()=>this.cancel()),this.masterReplicationHandler=Nb(n.storageInstance,n.conflictHandler,n.database.token)}var t=e.prototype;return t.addPeer=function(r,i){var o={peer:r,replicationState:i,subs:[]};this.peerStates$.next(this.peerStates$.getValue().set(r,o)),i&&o.subs.push(i.error$.subscribe(a=>this.error$.next(a)))},t.removePeer=function(r){var i=ni(this.peerStates$.getValue(),r);this.peerStates$.getValue().delete(r),this.peerStates$.next(this.peerStates$.getValue()),i.subs.forEach(o=>o.unsubscribe()),i.replicationState&&i.replicationState.cancel()},t.awaitFirstPeer=function(){return ri(this.peerStates$.pipe(rt(r=>r.size>0)))},t.cancel=async function(){this.canceled||(this.canceled=!0,this.subs.forEach(r=>r.unsubscribe()),Array.from(this.peerStates$.getValue().keys()).forEach(r=>{this.removePeer(r)}),await this.connectionHandler.destroy())},e}();const T2={version:0,title:"user schema with indexes",primaryKey:"nanoId",type:"object",properties:{nanoId:{type:"string",maxLength:21},name:{type:"string",maxLength:100},createAt:{type:"string",format:"date-time",maxLength:100}},required:["nanoId","name","createAt"],indexes:["name","createAt"]},O1=T2,I2={version:0,title:"post schema with indexes",primaryKey:"nanoId",type:"object",properties:{nanoId:{type:"string",maxLength:21},name:{type:"string",maxLength:100},content:{type:"string"},createAt:{type:"string",format:"date-time",maxLength:100}},required:["nanoId","name","createAt"],indexes:["name","createAt"]},P1=I2;Vn(mu);Vn(a1);Vn(d1);Vn(h1);Vn(w1);async function A2(){const e="example_rxdb";await sm(e,ec());const t=await zb({name:e,storage:ec(),multiInstance:!0,ignoreDuplicate:!0});return t.waitForLeadership().then(()=>{document.title=`♛ ${document.title}`}),await t.addCollections({user:{schema:O1},post:{schema:P1}}),Object.keys(t.collections).forEach(n=>{P2({collection:t.collections[n],connectionHandlerCreator:R2({}),topic:`${e}__${n}`,pull:{},push:{}})}),t}let L2=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function tc({title:e,collection:t}){const[n,r]=pe.useState(""),[i,o]=pe.useState([]),a=async()=>{r(""),t.insert({name:n,nanoId:L2(21),createAt:new Date().toISOString()})},s=async u=>{t.bulkRemove([u])};return pe.useEffect(()=>{const u=t.find({sort:[{createAt:"asc"}]}).$.subscribe(d=>{o(d.map(m=>m.toJSON()))});return()=>{u.unsubscribe()}},[t]),vt.jsxs("div",{style:{border:"1px solid black",padding:4},children:[vt.jsx("div",{children:e}),vt.jsxs("div",{children:["Collection Name:",t.name]}),vt.jsxs("div",{children:[vt.jsx("input",{placeholder:"please enter",value:n,onChange:u=>r(u.target.value)}),vt.jsx("button",{onClick:()=>a(),children:"Add"})]}),vt.jsx("ul",{children:i.map(u=>vt.jsxs("li",{children:[vt.jsx("span",{children:u.name}),vt.jsx("button",{onClick:()=>s(u.nanoId),children:"Delete"})]},u.nanoId))})]})}function M2(){const[e,t]=pe.useState();return pe.useEffect(()=>{A2().then(n=>{t(n)})},[]),e?vt.jsxs("div",{style:{display:"flex",gap:"4px"},children:[vt.jsx(tc,{title:"User List",collection:e.user}),vt.jsx(tc,{title:"Post List",collection:e.post})]}):vt.jsx("div",{children:"Loading...."})}async function N2(e,t,n){return await e([t,n].join("|"))>await e([n,t].join("|"))}function ld(e,t,n){const r=n.id,i=ri(e.response$.pipe(rt(o=>o.peer===t),rt(o=>o.response.id===r),Bn(o=>o.response)));return e.send(t,n),i}const j2=k1;function cd(e,t){e.send(JSON.stringify(t))}const D1="signaling.rxdb.info",wg=`wss://${D1}/`,fd=new Map;let _g=!1;const F2=1e3*60*2;function B2({signalingServerUrl:e,wrtc:t,config:n,webSocketConstructor:r}){$2();const i=e||wg,o=r||WebSocket;i.includes(D1)&&!_g&&(_g=!0,console.warn(["RxDB Warning: You are using the RxDB WebRTC replication plugin","but you did not specify your own signaling server url.",`By default it will use a signaling server provided by RxDB at ${wg}`,"This server is made for demonstration purposes and tryouts. It is not reliable and might be offline at any time.","In production you must always use your own signaling server instead.","Learn how to run your own server at https://rxdb.info/replication-webrtc.html","Also leave a ⭐ at the RxDB github repo 🙏 https://github.com/pubkey/rxdb 🙏"].join(" ")));const a=new yt,s=new yt,u=new yt,d=new yt,m=new yt,h=new Map;let p=!1,w;function g(I){if(p)return;const S=fd.get(i);if(S)return S;const C=new o(i);fd.set(i,C),C.onclose=()=>g(I),C.onopen=()=>{$e(C).onmessage=y=>{const R=JSON.parse(y.data);switch(R.type){case"init":w=R.yourPeerId,cd($e(C),{type:"join",room:I});break;case"joined":let D=function(P){let L=!1;const B=new j2({initiator:P>w,wrtc:t,config:n,trickle:!0});B.id=qi(10),h.set(P,B),B.on("signal",N=>{cd($e(C),{type:"signal",senderPeerId:w,receiverPeerId:P,room:I,data:N})}),B.on("data",N=>{N=JSON.parse(N.toString()),N.result?d.next({peer:B,response:N}):u.next({peer:B,message:N})}),B.on("error",N=>{m.next(le("RC_WEBRTC_PEER",{error:N})),B.destroy(),L||(L=!0,s.next(B))}),B.on("connect",()=>{a.next(B)}),B.on("close",()=>{L||(L=!0,s.next(B)),D(P)})};R.otherPeerIds.forEach(P=>{P===w||h.has(P)||D(P)});break;case"signal":ni(h,R.senderPeerId).signal(R.data);break}}}}return async I=>{const S=g(I.topic);return(async()=>{for(;await Mp(F2/2),!p;)S&&cd(S,{type:"ping"})})(),{error$:m,connect$:a,disconnect$:s,message$:u,response$:d,async send(y,R){await y.send(JSON.stringify(R))},destroy(){return p=!0,$e(S).close(),fd.delete(i),m.complete(),a.complete(),s.complete(),u.complete(),d.complete(),bn}}}}function $2(){if(typeof process>"u"||typeof process.nextTick!="function")throw le("RC7")}async function U2(e){const t=e.collection;Vn(mu),e.pull&&(e.pull.batchSize||(e.pull.batchSize=20)),e.push&&(e.push.batchSize||(e.push.batchSize=20)),t.database.multiInstance&&await t.database.waitForLeadership();let n=0;const r=qi(10);function i(){const u=n++;return`${t.database.token}|${r}|${u}`}const o=await t.database.storageToken,a=new z2(t,e,await e.connectionHandlerCreator(e));a.subs.push(a.connectionHandler.error$.subscribe(u=>a.error$.next(u)),a.connectionHandler.disconnect$.subscribe(u=>a.removePeer(u))),a.subs.push(a.connectionHandler.message$.pipe(rt(u=>u.message.method==="token")).subscribe(u=>{a.connectionHandler.send(u.peer,{id:u.message.id,result:o,collectionName:t.name})}));const s=a.connectionHandler.connect$.pipe(rt(()=>!a.canceled)).subscribe(async u=>{if(e.isPeerValid&&!await e.isPeerValid(u))return;let d;try{d=(await ld(a.connectionHandler,u,{id:i(),method:"token",params:[],collectionName:t.name})).result}catch(p){a.error$.next(le("RC_WEBRTC_PEER",{error:p}));return}const m=await N2(t.database.hashFunction,o,d);let h;if(m){const p=a.masterReplicationHandler,w=p.masterChangeStream$.subscribe(E=>{const I={id:"masterChangeStream$",result:E,collectionName:t.name};a.connectionHandler.send(u,I)});a.subs.push(w,a.connectionHandler.disconnect$.pipe(rt(E=>E===u)).subscribe(()=>w.unsubscribe()));const g=a.connectionHandler.message$.pipe(rt(E=>E.peer===u),rt(E=>E.message.method!=="token"),rt(E=>E.message.collectionName===t.name)).subscribe(async E=>{const{peer:I,message:S}=E,C=S.method,R=await p[C].bind(p)(...S.params),D={id:S.id,result:R,collectionName:t.name};a.connectionHandler.send(I,D)});a.subs.push(g)}else h=m1({replicationIdentifier:[t.name,e.topic,d].join("||"),collection:t,autoStart:!0,deletedField:"_deleted",live:!0,retryTime:e.retryTime,waitForLeadership:!1,pull:e.pull?Object.assign({},e.pull,{stream$:a.connectionHandler.response$.pipe(rt(p=>p.response.id==="masterChangeStream$"),rt(p=>p.response.collectionName===t.name),Bn(p=>p.response.result)),async handler(p){return(await ld(a.connectionHandler,u,{method:"masterChangesSince",params:[p,$e(e.pull).batchSize],id:i(),collectionName:t.name})).result}}):void 0,push:e.push?Object.assign({},e.push,{async handler(p){return(await ld(a.connectionHandler,u,{method:"masterWrite",params:[p],id:i(),collectionName:t.name})).result}}):void 0});a.addPeer(u,h)});return a.subs.push(s),a}class z2{constructor(t,n,r){zr(this,"peerStates$",new Ir(new Map));zr(this,"canceled",!1);zr(this,"masterReplicationHandler");zr(this,"subs",[]);zr(this,"error$",new yt);this.collection=t,this.options=n,this.connectionHandler=r,this.collection.onDestroy.push(()=>this.cancel()),this.masterReplicationHandler=Nb(t.storageInstance,t.conflictHandler,t.database.token)}addPeer(t,n){const r={peer:t,replicationState:n,subs:[]};this.peerStates$.next(this.peerStates$.getValue().set(t,r)),n&&r.subs.push(n.error$.subscribe(i=>this.error$.next(i)))}removePeer(t){const n=ni(this.peerStates$.getValue(),t);this.peerStates$.getValue().delete(t),this.peerStates$.next(this.peerStates$.getValue()),n.subs.forEach(r=>r.unsubscribe()),n.replicationState&&n.replicationState.cancel()}awaitFirstPeer(){return ri(this.peerStates$.pipe(rt(t=>t.size>0)))}async cancel(){this.canceled||(this.canceled=!0,this.subs.forEach(t=>t.unsubscribe()),Array.from(this.peerStates$.getValue().keys()).forEach(t=>{this.removePeer(t)}),await this.connectionHandler.destroy())}}Vn(mu);Vn(a1);Vn(d1);Vn(h1);Vn(w1);async function q2(){const e="example_rxdb";await sm(e,ec());const t=await zb({name:e,storage:ec(),multiInstance:!0,ignoreDuplicate:!0});t.waitForLeadership().then(()=>{document.title=`♛ ${document.title}`}),await t.addCollections({user:{schema:O1},post:{schema:P1}});const n=B2({});return Object.keys(t.collections).map(async r=>U2({collection:t.collections[r],connectionHandlerCreator:n,topic:e,pull:{},push:{}})),t}function K2(){const[e,t]=pe.useState();return pe.useEffect(()=>{q2().then(n=>{t(n)})},[]),e?vt.jsxs("div",{style:{display:"flex",gap:"4px"},children:[vt.jsx(tc,{title:"User List",collection:e.user}),vt.jsx(tc,{title:"Post List",collection:e.post})]}):vt.jsx("div",{children:"Loading...."})}const W2=Bx([{path:"/",element:vt.jsx(Zx,{})},{path:"/normal",element:vt.jsx(M2,{})},{path:"/shared",element:vt.jsx(K2,{})}],{basename:"/rxdb-replication-webrtc"});dd.createRoot(document.getElementById("root")).render(vt.jsx(Qx,{router:W2}));
